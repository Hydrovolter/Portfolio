(function(t){function e(e){for(var i,s,a=e[0],u=e[1],c=e[2],l=0,h=[];l<a.length;l++)s=a[l],r[s]&&h.push(r[s][0]),r[s]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);d&&d(e);while(h.length)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={app:0},o=[];function s(t){return a.p+"js/"+({animations:"animations",descriptions:"descriptions","firebase-app-firebase-auth-firebase-database-firebase-messaging":"firebase-app-firebase-auth-firebase-database-firebase-messaging","firebase-app":"firebase-app","firebase-auth":"firebase-auth","firebase-database":"firebase-database","firebase-messaging":"firebase-messaging","firebase-database-handler":"firebase-database-handler",iscroll:"iscroll",popups:"popups","provider-poki":"provider-poki",tags:"tags","completion-animation":"completion-animation","end-animation":"end-animation",login:"login"}[t]||t)+"."+{animations:"fd2a5f47",descriptions:"a8ea6f9b","firebase-app-firebase-auth-firebase-database-firebase-messaging":"d82b0257","firebase-app":"03178ec7","firebase-auth":"97b34717","firebase-database":"9986e247","firebase-messaging":"e9769121","firebase-database-handler":"e073aded",iscroll:"c5fe020e",popups:"62b764d2","provider-poki":"18084302",tags:"c2813d7a","completion-animation":"08d24768","end-animation":"18a4214d",login:"6184de67"}[t]+".js"}function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise(function(e,i){n=r[t]=[e,i]});e.push(n[2]=i);var o,u=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=s(t),o=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+i+": "+o+")");s.type=i,s.request=o,n[1](s)}r[t]=void 0}};var l=setTimeout(function(){o({type:"timeout",target:c})},12e4);c.onerror=c.onload=o,u.appendChild(c)}return Promise.all(e)},a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var d=c;o.push(["cd49","chunk-vendors"]),n()})({"03b6":function(t,e){},"0682":function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});var i=function(t){return null!==t&&void 0!==t},r=function(t){return"function"===typeof t}},"06c5":function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"e",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"f",function(){return u});var i=27,r=32,o=13,s=8,a=65,u=90},"0745":function(t,e){},"0ee2":function(t,e,n){"use strict";var i=n("9ab4"),r=n("2de2"),o=n("29f9"),s=n("1663"),a=o["c"],u="Little Alchemy 2",c="A new video hint is now ready!",l=function(){function t(){var t=this;this.interval=null,this.check=function(){t.$store.dispatch("adChargedCheck"),t.setupInterval()}}return t.prototype.init=function(t){return Object(i["b"])(this,void 0,void 0,function(){return Object(i["d"])(this,function(e){switch(e.label){case 0:return this.$store=t,[4,s["a"].onReady()];case 1:return e.sent(),this.check(),[2]}})})},t.prototype.setupInterval=function(){this.hasChargingUp||!this.interval?this.hasChargingUp&&!this.interval&&this.setInterval():this.clearInterval()},t.prototype.onAdUsed=function(){this.check(),this.areAvailable||(this.scheduleNotification(this.chargingUp[0]),s["a"].emit("ADS_USED"))},t.prototype.scheduleNotification=function(t){var e=new Date(t);cordova.plugins.notification.local.schedule({title:u,text:c,at:e,led:"FF0000",sound:null,icon:"file://static/icons/hdpi.png",data:{type:"ad-charged"}})},Object.defineProperty(t.prototype,"chargingUp",{get:function(){return this.$store.getters.adsCharging},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChargingUp",{get:function(){return!!this.chargingUp.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"available",{get:function(){return this.limit-this.chargingUp.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"limit",{get:function(){return r["b"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areAvailable",{get:function(){return this.available>0},enumerable:!0,configurable:!0}),t.prototype.getChargingTimes=function(){return this.chargingUp.map(function(t){return t-Date.now()})},t.prototype.setInterval=function(){this.interval=window.setInterval(this.check,a)},t.prototype.clearInterval=function(){this.interval&&(window.clearInterval(this.interval),this.interval=null)},t}(),d=new l;e["a"]=d},"0fa4":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return l});var i=n("2de2"),r="|",o=function(t){return 1e3*(i["m"]+t)},s=function(t){return Math.round(t/1e3)-i["m"]},a=function(t){var e=t.key,n=t.value.v,i=e.split(r),s=i[0],a=i[1];return{father:s,mother:a,timestamp:o(n)}},u=function(t){var e=t.father,n=t.mother,i=t.timestamp,o=[e,n].join(r);return{key:o,value:s(i)}},c=function(t){return Object.entries(t).map(function(t){var e=t[0],n=t[1];return a({key:e,value:n})})},l=function(t){return t.reduce(function(t,e){var n=u(e),i=n.key,r=n.value;return t[i]=r,t},{})}},"152b":function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return u});var i=n("06c5"),r=["EMAIL","TEXT","PASSWORD","FILE"],o=function(t){if(t.keyCode===i["b"]){var e=t.srcElement||t.target;if(e&&e.tagName){var n=e.tagName.toUpperCase(),o=(e.type||"").toUpperCase(),s=!0;("INPUT"===n&&r.includes(o)||"TEXTAREA"===n)&&(s=e.readOnly||e.disabled),s&&t.preventDefault()}}},s=function(t){var e=document.createEvent("Event");e.initEvent(t,!0,!0),document.dispatchEvent(e)},a=function(t,e,n){void 0===t&&(t=document.body),void 0===n&&(n=!0);var i=document.createEvent("MouseEvents");i.initMouseEvent(e,!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),i.simulated=n,t.dispatchEvent(i)},u=function(t,e){return void 0===t&&(t=document.body),void 0===e&&(e=!0),a(t,"mouseup",e)}},1663:function(t,e,n){"use strict";var i=n("9ab4"),r=n("2b0e"),o=n("b047"),s=n.n(o),a=n("152b"),u=n("571d"),c=n("80b0"),l=n.n(c),d=n("06c5"),h=[{event:"orientationchange",handler:function(t){return window.setTimeout(function(){return t("RESIZE")},350)}},{event:"beforeunload",handler:"UNLOAD"},{event:"pagehide",handler:"UNLOAD"},{event:"blur",handler:function(t){return l()(function(){document.activeElement&&"IFRAME"===document.activeElement.tagName||t("BLUR")})}},{event:"focus",handler:"FOCUS"},{event:"online",handler:"ONLINE"},{event:"offline",handler:"OFFLINE"},{event:"popstate",handler:"BACK_BUTTON"},{parent:"document",event:"visibilitychange",handler:function(t){var e="VISIBILITY_HIDDEN";"visible"===document.visibilityState&&(e="VISIBILITY_VISIBLE"),t(e)}},{parent:"document",event:"keydown",handler:function(t,e){var n=e;Object(a["b"])(n);var i=n.keyCode;t("KEY_DOWN",n),i!==d["c"]?i!==d["d"]?i===d["e"]&&t("KEY_SPACE",n):t("KEY_ESC",n):t("KEY_ENTER",n)}}],f=n("d257"),p=Object(i["f"])(h),m=new r["a"]({}),g=function(){function t(t){var e=this;this.initEventHandlers(t),this._ready=new Promise(function(t){return e.once(u["a"],t)})}return t.prototype.init=function(t){this.initInitialEvents(t),this.initCustomEvents()},t.prototype.initInitialEvents=function(t){var e=this;this.once("LIBRARY_RENDERED",function(){return window.setTimeout(function(){return e.emit(u["a"])},150)}),this.once("LIBRARY_EMPTY",function(){return window.setTimeout(function(){return e.emit(u["a"])},150)}),this.once("LOGGED_IN",function(){return e.emit(u["a"])}),this.once("NOT_LOGGED_IN",function(){return window.setTimeout(function(){return e.emit(u["a"])},250)}),this.once(u["a"],function(){Object(a["a"])(u["a"]),t.commit("GAME_READY")}),document.addEventListener(u["b"],function(){return Object(i["b"])(e,void 0,void 0,function(){return Object(i["d"])(this,function(t){switch(t.label){case 0:return[4,Object(f["c"])(200)];case 1:return t.sent(),this.emit("PLAY"),[2]}})})})},t.prototype.initCustomEvents=function(){var t=this,e=s()(function(){return t.emit("RESIZE")},250);window.addEventListener("resize",e,!1)},t.prototype.initEventHandlers=function(t){var e=this;t.forEach(function(t){var n,i=t.parent,r=void 0===i?"window":i,o=t.event,s=t.handler,a="window"===r?window:document;n="string"===typeof s?function(){return e.emit(s)}:function(t){return s(e.emit,t)},a.addEventListener(o,n,!1)})},t.prototype.on=function(t,e){m.$on(t,e)},t.prototype.once=function(t,e){m.$once(t,e)},t.prototype.off=function(t,e){m.$off(t,e)},t.prototype.emit=function(t,e){m.$emit(t,e)},t.prototype.then=function(t){return new Promise(function(e){return m.$once(t,e)})},t.prototype.onResize=function(t){this.on("RESIZE",t)},t.prototype.onReady=function(){return this._ready},t}();e["a"]=new g(p)},"199d":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=function(){return(Math.random()+1).toString(36).substring(4)},r=function(t){return t+"_"+i()}},"1ae4":function(t,e,n){t.exports=n.p+"img/logo.2b0c661a.svg"},2138:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"f",function(){return a}),n.d(e,"e",function(){return u}),n.d(e,"g",function(){return c});var i=2,r="library",o="workspace",s=12,a=.65,u="library",c="workspace"},2149:function(t,e,n){"use strict";var i;n.d(e,"a",function(){return i}),function(t){t["FINAL"]="final",t["EXHAUSTED"]="exhausted",t["BASE"]="base",t["HINTS"]="hints",t["DLC"]="dlc",t["ENCYCLOPEDIA_INTRO"]="encyclopediaIntro",t["GAME_END"]="gameEnd",t["GAME_COMPLETION"]="gameCompletion"}(i||(i={}))},2260:function(t,e,n){t.exports=n.p+"img/popup-close.d2a03f3b.svg"},"22a7":function(t,e,n){"use strict";var i=n("c2e2"),r=n("ded8"),o=n("f75c"),s=function(){function t(){}return t.prototype.analyze=function(t,e){var n=this.analyzeHistory(t,e),i=n.totalProgress,r=n.timestamps,s=this.analyzeProgress(t,i),a=s.base,u=s.final,c=this.analyzeBase(t).primes,l=Object(o["b"])(u),d=i.filter(function(t){return!l.hasOwnProperty(t)&&!a.includes(t)&&!c.includes(t)});return{progress:Object(o["b"])(d),base:a,final:l,primes:c,timestamps:r}},t.prototype.analyzeHistory=function(t,e){var n={},o=[];return e.forEach(function(e){var s=e.mother,a=e.father,u=e.timestamp,c=Object(r["c"])([s,a]),l=Object(i["b"])(t,c);l.forEach(function(t){n.hasOwnProperty(t)||(n[t]=!0,o.push({id:t,timestamp:u}))})}),{totalProgress:Object.keys(n),timestamps:o}},t.prototype.analyzeProgress=function(t,e){var n=[],i=[];return e.forEach(function(e){var r=t[e];r.base&&n.push(e),r.final&&i.push(e)}),{base:n,final:i}},t.prototype.analyzeBase=function(t){var e=[];return Object.entries(t).forEach(function(t){var n=t[0],i=t[1];i.prime&&e.push(n)}),{primes:e}},t}();e["a"]=new s},2321:function(t,e){},2540:function(t,e,n){"use strict";var i=n("b2eb"),r=n("d257"),o=function(){var t=window.history.state;t&&t.popup||window.history.pushState({popup:!0},"")},s=function(){var t=window.history.state;t&&t.popup&&window.history.back()},a=n("1663"),u=n("c97d"),c=Object(r["k"])(),l=function(){function t(){var t=this;this.handleKeyboard=function(){t.$store.getters.isPopupClosable&&t.hide()}}return t.prototype.init=function(t){this.$store=t,this.initHideListeners()},t.prototype.initHideListeners=function(){a["a"].on("KEY_ESC",this.handleKeyboard),a["a"].on("BACK_BUTTON",this.handleKeyboard)},t.prototype.hide=function(){this.$store.getters.isPopupActive&&this.$store.dispatch("popupHide",void 0)},t.prototype.onShow=function(t){o(),a["a"].emit("POPUP_SHOW",t),u["a"].handler&&u["a"].handler.disable()},t.prototype.onHide=function(t){c||s(),a["a"].emit("POPUP_HIDE",t),u["a"].handler&&u["a"].handler.enable(),i["ENCYCLOPEDIA"]&&a["a"].emit("ENCYCLOPEDIA_POPUP_HIDE")},t.prototype.onHidePromise=function(){var t=this;return this.$store.getters.isPopupOverlayActive?new Promise(function(e){var n=t.$store.watch(function(t,e){return e.isPopupOverlayActive},function(t){t||(n(),e())})}):Promise.resolve()},t}();e["a"]=new l},2929:function(t,e,n){"use strict";window.addEventListener("unhandledrejection",function(t){if(t.reason){var e=/Loading chunk .+ failed/,n="#retry"===window.location.hash;e.test(t.reason)&&!n&&(window.location.hash="retry",window.location.reload(!0))}})},"29f9":function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var i=1,r=1e3*i,o=60*r,s=60*o,a=24*s},"2ae7":function(t,e,n){"use strict";function i(){var t=document.createElement("fakeelement"),e={animation:"a",WebkitAnimation:"webkitA"},n=Object.keys(e).find(function(e){return void 0!==t.style[e]})||"animation";return e[n]}n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var r="transitionend",o=i()+"nimationend";i()},"2de2":function(t,e,n){"use strict";n.d(e,"k",function(){return r}),n.d(e,"h",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"j",function(){return a}),n.d(e,"m",function(){return u}),n.d(e,"g",function(){return c}),n.d(e,"n",function(){return l}),n.d(e,"l",function(){return d}),n.d(e,"a",function(){return h}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return p}),n.d(e,"f",function(){return m}),n.d(e,"e",function(){return g}),n.d(e,"i",function(){return v});var i=n("29f9"),r="la2",o={apiKey:"AIzaSyAIeudM0cX1dqiXe7S57TFcNlStHdnC56c",authDomain:"little-alchemy-2.firebaseapp.com",databaseURL:"https://little-alchemy-2.firebaseio.com",storageBucket:"little-alchemy-2.appspot.com",messagingSenderId:"970099188369"},s=2e3,a="https://hints.littlealchemy2.com",u=1496268e3,c="https://help.littlealchemy2.com",l="1.2.1",d=!1,h=["poki"],f=5,p=4*i["b"],m=!1,g=!1,v=!1},"33ff":function(t,e){},"3b56":function(t,e,n){"use strict";var i;(function(t){t["WORKSPACE"]="workspace",t["WORKSPACE_INACTIVE"]="final-exhausted",t["PROGRESS"]="history",t["STATS"]="stats",t["ENCYCLOPEDIA"]="encyclopedia",t["SETTINGS"]="settings",t["RESET_TIMESTAMP"]="timestamp",t["TUTORIALS"]="tutorials",t["HINTS"]="hints",t["ADS_CHARGE"]="adsCharge"})(i||(i={}));var r,o=n("7897"),s=n("1663"),a=n("2138"),u={key:i.PROGRESS,parse:function(t){var e=t.map(function(t){var e=t[0],n=t[1],i=t[2];return{father:e,mother:n,timestamp:i}});return e},prepare:function(t){var e=t.getters.history;return e.map(function(t){var e=t.father,n=t.mother,i=t.timestamp;return[e,n,i]})},watch:[]},c={key:i.WORKSPACE,parse:function(t){return t},prepare:function(t){if(!t.getters.hasProgress)return[];var e=document.querySelectorAll("#"+a["g"]+" [data-id][data-normal]"),n=[];return Array.from(e).forEach(function(e){var i=e.dataset.id;i!==t.getters.draggableHelperId&&n.push(t.getters.droppableById(i))}),n},watch:[]},l={key:i.WORKSPACE_INACTIVE,parse:function(t){return t},prepare:function(t){return{workspaceFinal:t.getters.workspaceFinal,workspaceExhausted:t.getters.workspaceExhausted,exhausted:t.getters.exhaustedVisible}},watch:[]},d={key:i.RESET_TIMESTAMP,parse:function(t){return t},prepare:function(t){return t.getters.resetTimestamp},watch:[]},h={key:i.SETTINGS,parse:function(t){return t},prepare:function(t){return t.state.settings},watch:[]},f={key:i.ENCYCLOPEDIA,parse:function(t){return t},prepare:function(t){return t.state.encyclopedia},watch:[]},p={key:i.STATS,parse:function(t){return t},prepare:function(t){return{firstLaunch:t.getters.firstLaunch,sessionsCount:t.getters.sessionsCount}},watch:[]},m={key:i.TUTORIALS,parse:function(t){return t},prepare:function(t){return{shownText:t.getters.tutorialTextShown}},watch:[]},g={key:i.HINTS,parse:function(t){return t},prepare:function(t){return{active:t.getters.hintsActive,remaining:t.getters.hintsRemaining}},watch:["hintsActive","hintsRemaining"]},v={key:i.ADS_CHARGE,parse:function(t){return t},prepare:function(t){return t.getters.adsCharging},watch:["adsCharging"]},b=(r={},r[i.PROGRESS]=u,r[i.WORKSPACE]=c,r[i.WORKSPACE_INACTIVE]=l,r[i.RESET_TIMESTAMP]=d,r[i.SETTINGS]=h,r[i.ENCYCLOPEDIA]=f,r[i.STATS]=p,r[i.TUTORIALS]=m,r[i.HINTS]=g,r[i.ADS_CHARGE]=v,r);n.d(e,"a",function(){return i});var y=["UNLOAD","VISIBILITY_HIDDEN"],E=function(){function t(t){var e=this;this.save=function(){Object.values(e.entries).forEach(function(t){var n=t.prepare(e.$store);e.saveSingle(t.key,n)})},this.entries=t}return t.prototype.init=function(t){this.$store=t,this.initSaveTriggers()},t.prototype.initSaveTriggers=function(){var t=this;y.forEach(function(e){return s["a"].on(e,t.save)}),Object.values(this.entries).forEach(function(e){var n=e.watch;return n.forEach(function(e){return t.$store.watch(function(t,n){return n[e]},t.save)})})},t.prototype.saveSingle=function(t,e){Object(o["b"])(t,e)},t.prototype.load=function(t){var e=Object(o["a"])(t);if(!e)return e;var n=this.getEntryByKey(t);return n?n.parse(e):e},t.prototype.disable=function(){var t=this;y.forEach(function(e){return s["a"].off(e,t.save)})},t.prototype.clear=function(){this.disable(),localStorage.clear()},t.prototype.getEntryByKey=function(t){return this.entries[t]||null},t}(),O=new E(b);e["b"]=O},4819:function(t,e){},"4a5e":function(t,e){},"4b9b":function(t,e,n){"use strict";var i=n("9ab4"),r=n("d257"),o=n("22a7"),s=n("2540"),a=n("b2eb"),u=a["HIDE_DURATION"],c=null,l=function(t,e,n){var i=e,r=!0;n.length&&(i=n[n.length-1].timestamp,r=!1);var s=o["a"].analyzeHistory(t.getters.elements,n).totalProgress,a=s.length;return{timestamp:i,reseted:r,count:a}},d=function(t,e){return Object(i["b"])(void 0,void 0,void 0,function(){return Object(i["d"])(this,function(n){switch(n.label){case 0:return t.getters.isPopupActive?[4,s["a"].onHidePromise()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[4,Object(r["c"])(u)];case 3:return n.sent(),t.dispatch("popupShowWithData",{name:a["SYNC"],data:Object(i["a"])(Object(i["a"])({},e),{closable:!1})}),[2]}})})};e["a"]=function(t){var e=t.$store,n=t.remoteReset,r=t.remoteHistory,o=t.type;return null!==c?c:(c=new Promise(function(t){var s=Object(i["a"])(Object(i["a"])({},l(e,n,r)),{onSuccess:function(e){t(e),c=null},type:o});d(e,s)}),c)}},5169:function(t,e,n){"use strict";var i=n("ded8"),r=function(t,e){if(-1===e)return!1;var n=!!t.getters.historyBefore(e).length;return t.dispatch("historyRemoveBeforeTimestamp",e),n},o=function(t){var e=t.store,n=t.remote,r=!1;return n.history.forEach(function(t){var n=Object(i["c"])([t.mother,t.father]);e.getters.hasMixed(n)||(e.commit("HISTORY_ADD",t),r=!0)}),r},s=function(t){var e,n=t.store,i=t.remote,s=t.local,a=t.handleReset,u=void 0===a||a;u||n.commit("RESET_TIMESTAMP",-1);var c=!i.history.length;if(c)return e=!1,u&&(e=r(n,i.reset),e&&n.commit("RESET_TIMESTAMP",i.reset)),e;var l=!s.history.length;if(l)return n.dispatch("historySet",i.history),!0;if(e=o({store:n,remote:i}),u){var d=r(n,Math.max(i.reset,s.reset));d&&(e=!0)}return e};e["a"]=s},5221:function(t,e){},"53b2":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"h",function(){return a}),n.d(e,"e",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"f",function(){return l});var i="FUSION",r="FINAL",o="NEW",s="CLEAR",a="REVERT",u="GAME_END",c="GAME_COMPLETION",l="HINT"},5494:function(t,e,n){"use strict";var i;n.d(e,"a",function(){return i}),function(t){t["INITIAL"]="initial",t["LOADING"]="loading",t["LOADED"]="loaded",t["PLAYING"]="playing",t["PLAYED"]="played",t["ERROR"]="error",t["ERROR_NO_FILL"]="errorFill"}(i||(i={}))},"54cb":function(t,e,n){"use strict";var i=function(){function t(){this.count=0}return t.prototype.init=function(t){this.$store=t},t.prototype.getInitiallyUnlocked=function(){return this.getRecentlyUnlockedIds()},t.prototype.getRecentlyUnlockedIds=function(){this.count=0;var t=this.getDiscovered();return 0!==this.count?this.getDiscovered():t},t.prototype.getDiscovered=function(){var t=this;return this.lockedIds.filter(function(e){var n=t.$store.getters.elementById(e);if(!n)return!1;var i=t.checkConditions(n);return t.count+=i?1:0,i})},t.prototype.checkConditions=function(t){if(!t.hasOwnProperty("condition")||!t.condition)return!1;var e=t.condition;return"elements"===e.type?this.checkElements(e.elements,e.min):"progress"!==e.type||this.checkProgress(e.total)},t.prototype.checkElements=function(t,e){var n=this;void 0===e&&(e=0);var i=t.reduce(function(t,e){return n.$store.getters.hasInProgress(e)?t+1:t},0);return i>=e},t.prototype.checkProgress=function(t){return this.$store.getters.totalProgress+this.count>=t},Object.defineProperty(t.prototype,"lockedIds",{get:function(){var t=this,e=this.$store.getters.baseElementsIds;return e.filter(function(e){var n=t.$store.getters.elementById(e);return!!n&&(n.parents.length?!t.$store.getters.hasInProgress(e):!t.$store.getters.hasUnlockedBase(e))})},enumerable:!0,configurable:!0}),t}();e["a"]=new i},"571d":function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"e",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return a});var i=window.PointerEvent?["pointerdown"]:["mousedown","touchstart"],r=(window.PointerEvent,window.PointerEvent?["pointerup"]:["mouseup","touchend"]),o="GAME_READY",s="PLAY",a="PLAY_NOT_READY"},5980:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"c",function(){return u});var i=n("2de2"),r=n("cf19"),o=n("0fa4"),s=function(t,e){var n=e.every(function(e){var n=e.father,i=e.mother;return t.getters.hasMixed([n,i])}),i=t.getters.history.length===e.length;return n&&i},a=function(t,e,n,i){var r=!e.length;if(r){var o=!!t.getters.historyBefore(n).length;return o}var s=t.getters.history,a=t.getters.resetTimestamp,u=!s.length;if(u){var c=-1!==a,l=a!==n;return c&&l}return!i(t,e)},u=function(t,e){var n=Object(o["c"])(t),s=Object(o["c"])(e),a=!e.length,u=[],c=[];return Object.entries(s).forEach(function(t){var e=t[0],i=t[1];n.hasOwnProperty(e)||u.push({key:e,value:i})}),Object.keys(n).forEach(function(t){if(!a){var e=Object(o["a"])({key:t,value:{v:0}}),n=e.father,u=void 0===n?"":n,l=e.mother,d=void 0===l?"":l,h=Object(r["b"])(u,i["k"]),f=Object(r["b"])(d,i["k"]);if(!h||!f)return}s.hasOwnProperty(t)||c.push(t)}),{add:u,remove:c}}},"5c57":function(t,e,n){"use strict";var i,r=n("2b0e"),o=n("2f62"),s=n("ebe2"),a=n("2de2"),u=n("3b56"),c=n("0ee2"),l={state:null,charging:u["b"].load(u["a"].ADS_CHARGE)||[]},d={state:l,getters:{adState:function(t){return t.state},adReady:function(t,e){return e.adState===s["AdState"].INITIAL},adLoading:function(t,e){return e.adState===s["AdState"].LOADING},adLoaded:function(t,e){return e.adState===s["AdState"].LOADED},adError:function(t,e){return e.adState===s["AdState"].ERROR},adErrorNoFill:function(t,e){return e.adState===s["AdState"].ERROR_NO_FILL},adsCharging:function(t){return t.charging}},actions:{adState:function(t,e){var n=t.commit;n("AD_STATE",e)},adUsed:function(t){var e=t.commit,n=Date.now()+a["c"];e("AD_USED",n),c["a"].onAdUsed()},adChargedCheck:function(t){var e=t.commit;e("AD_CHARGED")}},mutations:{AD_STATE:function(t,e){t.state=e},AD_USED:function(t,e){t.charging.push(e)},AD_CHARGED:function(t){var e=Date.now();t.charging=t.charging.filter(function(t){return t>e})}}},h=d,f=n("9ab4"),p=n("d257"),m="js-frozen",g=function(){return document.body.classList.add(m)},v=function(){return document.body.classList.remove(m)},b=n("53b2"),y=n("1663"),E=n("b7ba"),O={active:null,activeFinal:[],middleFinal:[],activeExhausted:[]},w={state:O,getters:{animation:function(t){return t.active},isAnimationActive:function(t){return function(e){return t.active===e}},animationFinalElements:function(t){return t.activeFinal},animationFinalFinished:function(t){return t.middleFinal},animationExhaustedElement:function(t){return t.activeExhausted},isFinalForIdActive:function(t){return function(e){return t.activeFinal.includes(e)}},isExhaustedForIdActive:function(t){return function(e){return t.activeExhausted.includes(e)}}},actions:{animationChange:function(t,e){var n=t.commit,i=t.dispatch;n("ANIMATION_CHANGE",e),e===b["g"]&&window.setTimeout(function(){return i("animationNewStart")},250)},animationReset:function(t){var e=t.dispatch,n=t.commit;n("ANIMATION_CHANGE",null),v(),e("mixReset")},animationFinalStart:function(t,e){var n=t.commit,i=t.getters;i.animationFinalElements.includes(e)||n("ANIMATION_FINAL_START",e)},animationFinalMiddle:function(t,e){var n=t.commit;n("ANIMATION_FINAL_MIDDLE",e)},animationFinalFinished:function(t,e){var n=t.commit;n("ANIMATION_FINAL_FINISH",e)},animationExhaustedStart:function(t,e){var n=t.commit,i=t.getters;i.isExhaustedForIdActive(e)||n("ANIMATION_EXHAUSTED_START",e)},animationExhaustedFinished:function(t,e){var n=t.dispatch,i=t.commit;i("ANIMATION_EXHAUSTED_FINISH",e),n("libraryReload"),window.setTimeout(function(){return n("animationCompletionCheck")},30)},mixOccured:function(t){var e=t.dispatch,n=t.getters;return Object(f["b"])(this,void 0,void 0,function(){return Object(f["d"])(this,function(t){switch(t.label){case 0:return[4,Object(p["c"])(10)];case 1:return t.sent(),n.mixStatus===E["a"]?[2]:n.mixStatus===E["b"]?(y["a"].emit("ANIMATION_MIXED_START"),[2]):(n.mixStatus===E["c"]&&(g(),e("animationChange",b["c"])),[2])}})})},animationFusionMiddle:function(t){var e=t.dispatch,n=t.getters;return Object(f["b"])(this,void 0,void 0,function(){return Object(f["d"])(this,function(t){switch(t.label){case 0:return e("animationNewCheck"),n.mixHasNewChildren?[2]:(e("workspaceHandleMixResult",{removeParents:!0}),[4,Object(p["c"])(250)]);case 1:return t.sent(),e("workspaceExhaustedCheck"),[2]}})})},animationNewCheck:function(t){var e=t.dispatch,n=t.getters;n.mixHasNewChildren&&(e("animationChange",b["g"]),y["a"].emit("ANIMATION_NEW_POP"))},animationNewStart:function(t){var e=t.dispatch;e("workspaceRemoveMixParents")},animationNewEnding:function(t,e){var n=t.dispatch,i=(void 0===e?{}:e).removeParents,r=void 0===i||i;return Object(f["b"])(this,void 0,void 0,function(){return Object(f["d"])(this,function(t){return n("workspaceHandleMixResult",{removeParents:r}),Object(p["c"])(250),n("workspaceExhaustedCheck"),[2]})})},animationNewEnd:function(t){var e=t.dispatch;e("animationEndCheck")},animationEndCheck:function(t){var e=t.dispatch,n=t.getters;n.hasAllElements&&(e("animationChange",b["e"]),y["a"].emit("GAME_ENDED"))},workspaceClear:function(t){var e=t.dispatch;return Object(f["b"])(this,void 0,void 0,function(){return Object(f["d"])(this,function(t){switch(t.label){case 0:return[4,Object(p["c"])(1e3)];case 1:return t.sent(),e("animationCompletionCheck"),[2]}})})},workspaceFinalRemove:function(t){var e=t.dispatch;e("animationCompletionCheck")},workspaceExhaustedRemove:function(t){var e=t.dispatch;return Object(f["b"])(this,void 0,void 0,function(){return Object(f["d"])(this,function(t){switch(t.label){case 0:return[4,Object(p["c"])(10)];case 1:return t.sent(),e("animationCompletionCheck"),[2]}})})},animationCompletionCheck:function(t){var e=t.getters,n=t.dispatch;e.hasAllCleared&&e.needsGameCompletionAnimation&&(n("animationChange",b["d"]),y["a"].emit("GAME_COMPLETED"))},animationCompletionEnding:function(t){var e=t.commit,n=t.dispatch;e("WORKSPACE_INACTIVE_RESET"),n("libraryReload")}},mutations:{ANIMATION_CHANGE:function(t,e){t.active=e},ANIMATION_FINAL_START:function(t,e){t.activeFinal.push(e)},ANIMATION_FINAL_MIDDLE:function(t,e){t.middleFinal.push(e)},ANIMATION_FINAL_FINISH:function(t,e){t.activeFinal=t.activeFinal.filter(function(t){return t!==e}),t.middleFinal=t.middleFinal.filter(function(t){return t!==e})},ANIMATION_EXHAUSTED_START:function(t,e){t.activeExhausted.push(e)},ANIMATION_EXHAUSTED_FINISH:function(t,e){t.activeExhausted=t.activeExhausted.filter(function(t){return t!==e})}}},A=w,I=n("6e2e"),S={elementsUpdated:-1},T={state:S,getters:{elements:function(t){return-1===t.elementsUpdated?{}:I["a"].elements},elementsIds:function(t,e){return Object.keys(e.elements)},elementsList:function(t,e){return Object.values(e.elements)},elementById:function(t,e){return function(t){var n=""+t;return e.elements.hasOwnProperty(n)?e.elements[n]:null}},descriptionById:function(){return function(t){return I["a"].getDescriptionById(t)}},hasElement:function(t,e){return function(t){var n=""+t;return e.elements.hasOwnProperty(n)}},baseElementsIds:function(t,e){return e.elementsList.filter(function(t){var e=t.base;return e}).map(function(t){var e=t.id;return e})},elementsCount:function(t,e){return e.elementsIds.length},connectionsCount:function(t,e){return e.elementsList.reduce(function(t,e){return t+e.parents.length},0)}},actions:{init:function(t){var e=t.dispatch;e("baseLoad")},baseLoad:function(t){var e=t.dispatch;return Object(f["b"])(this,void 0,void 0,function(){var t;return Object(f["d"])(this,function(n){switch(n.label){case 0:return[4,I["a"].loadBase()];case 1:return t=n.sent(),e("baseLoaded",t),[4,y["a"].onReady()];case 2:return n.sent(),[4,I["a"].loadDescriptions()];case 3:return n.sent(),y["a"].emit("ENCYCLOPEDIA_DESCRIPTIONS"),[4,I["a"].loadTags()];case 4:return n.sent(),y["a"].emit("ENCYCLOPEDIA_TAGS"),[2]}})})},baseLoaded:function(t){var e=t.commit,n=t.dispatch;e("ELEMENTS_SET"),y["a"].emit("ENCYCLOPEDIA_ELEMENTS"),n("progressCalculate")},baseElementsAdd:function(t,e){var n=t.commit,i=t.getters;e.forEach(function(t){i.elements.hasOwnProperty(t.id)||I["a"].elementAdd(t.id,t)}),n("ELEMENTS_ADD"),y["a"].emit("ENCYCLOPEDIA_ELEMENTS")},baseElementAdd:function(t,e){var n=t.commit,i=t.getters;i.elements.hasOwnProperty(e.id)||(I["a"].elementAdd(e.id,e),n("ELEMENTS_ADD"))},baseElementsRemove:function(t,e){var n=t.commit,i=t.getters;e.forEach(function(t){i.elements.hasOwnProperty(t)&&I["a"].elementRemove(t)}),n("ELEMENTS_REMOVE"),y["a"].emit("ENCYCLOPEDIA_ELEMENTS")},baseElementRemove:function(t,e){var n=t.commit,i=t.getters;i.elements.hasOwnProperty(e)&&(I["a"].elementRemove(e),n("ELEMENTS_REMOVE"))}},mutations:{ELEMENTS_SET:function(t){t.elementsUpdated=Date.now()},ELEMENTS_ADD:function(t){t.elementsUpdated=Date.now()},ELEMENTS_REMOVE:function(t){t.elementsUpdated=Date.now()}}},_=T,x={workspaceBox:{width:-1,height:-1},libraryBox:{width:-1,height:-1,margin:-1}},P={state:x,getters:{workspaceBoxDimensions:function(t){return t.workspaceBox},libraryBoxDimensions:function(t){return t.libraryBox},libraryBoxMargin:function(t){return t.libraryBox.margin}},actions:{dimensionsLibraryBox:function(t,e){var n=t.commit;n("DIMENSIONS_LIBRARY_BOX",e)},dimensionsWorkspaceBox:function(t,e){var n=t.commit;n("DIMENSIONS_WORKSPACE_BOX",e)}},mutations:{DIMENSIONS_LIBRARY_BOX:function(t,e){var n=e.width,i=e.height,r=e.margin;t.libraryBox.width=n,t.libraryBox.height=i,t.libraryBox.margin=r},DIMENSIONS_WORKSPACE_BOX:function(t,e){var n=e.width,i=e.height;t.workspaceBox.width=n,t.workspaceBox.height=i}}},C=P,R=u["b"].load(u["a"].ENCYCLOPEDIA)||{encyclopediaShown:-1},D={state:R,getters:{encyclopediaTimestamp:function(t){return t.encyclopediaShown}},actions:{encyclopediaShow:function(t){var e=t.commit;e("ENCYCLOPEDIA_SHOW")}},mutations:{ENCYCLOPEDIA_SHOW:function(t){t.encyclopediaShown=Date.now()}}},L=D,N="#",j=function(t){var e=t[0],n=t[1];return""+e+N+n},k=function(t){return t.reduce(function(t,e){var n=j([e.father,e.mother]);return t[n]=e.timestamp,t},{})},M=function(t,e){var n=j(e);return t.hasOwnProperty(n)},H=function(t,e,n){var i=t[n].children,r=i.some(function(i){for(var r=t[i],o=0,s=r.parents;o<s.length;o++){var a=s[o];if(n===a[0]||n===a[1]){var u=M(e,a);if(!u)return!0}}return!1});return r},B=function(t,e,n){var i=""+n;return!H(t,e,i)},$=function(t,e,n){return n.map(function(n){return{id:n,exhausted:B(t,e,n)}})},F=u["b"].load(u["a"].WORKSPACE_INACTIVE),G={exhausted:{},visible:null!==F?F.exhausted:[]},U={state:G,getters:{elementIsExhausted:function(t){return function(e){return t.exhausted.hasOwnProperty(e)?t.exhausted[e]:null}},exhaustedVisible:function(t){return t.visible},isExhaustedVisible:function(t,e){return function(t){return e.exhaustedVisible.includes(t)}},hasExhaustedVisible:function(t,e){return!!e.exhaustedVisible.length}},actions:{exhaustedCheckIds:function(t,e){var n=t.commit,i=t.getters,r=$(i.elements,i.historyMap,e);n("ELEMENTS_SET_EXHAUSTED",r)},mixNew:function(t,e){var n=t.commit,i=t.getters,r=e.parents;return Object(f["b"])(this,void 0,void 0,function(){return Object(f["d"])(this,function(t){switch(t.label){case 0:return[4,Object(p["c"])(30)];case 1:return t.sent(),r.forEach(function(t){var e=B(i.elements,i.historyMap,t);e&&(n("ELEMENT_SET_EXHAUSTED",{id:t,exhausted:e}),n("EXHAUSTED_VISIBLE_ADD",t))}),[2]}})})},resetProgress:function(t){var e=t.commit,n=t.getters,i=n.elementsIds.filter(function(t){return n.elementIsExhausted(t)}).map(function(t){return{id:t,exhausted:!1}});e("ELEMENTS_SET_EXHAUSTED",i),e("EXHAUSTED_VISIBLE_CLEAR")}},mutations:{ELEMENT_SET_EXHAUSTED:function(t,e){var n=e.id,i=e.exhausted;r["a"].set(t.exhausted,n,i)},ELEMENTS_SET_EXHAUSTED:function(t,e){e.forEach(function(e){var n=e.id,i=e.exhausted;return r["a"].set(t.exhausted,n,i)})},EXHAUSTED_VISIBLE_ADD:function(t,e){t.visible.includes(e)||t.visible.push(e)},EXHAUSTED_VISIBLE_CLEAR:function(t){t.visible=[]},ANIMATION_EXHAUSTED_FINISH:function(t,e){t.visible=t.visible.filter(function(t){return t!==e})}}},W=U,Y=n("80b0"),z=n.n(Y),K=n("199d"),X=n("2138"),V=n("623d"),q=n("d0c4"),Q=n("cd57"),J=function(){function t(){}return t.prototype.onDragStart=function(){this.animationNew&&(this.animationNew.style.display="none")},t.prototype.onDragEnd=function(){this.animationNew&&(this.animationNew.style.display="initial")},Object.defineProperty(t.prototype,"animationNew",{get:function(){return document.getElementById(Q["a"])},enumerable:!0,configurable:!0}),t}(),Z=new J,tt={dragging:null,over:null,listening:[],static:(i={},i[X["e"]]={id:X["e"],dimensions:{width:0,height:0},position:{x:0,y:0}},i),draggableHelper:null},et={state:tt,getters:{draggedId:function(t){return t.dragging},draggedElement:function(t,e){return t.dragging&&e.droppables.find(function(e){return e.id===t.dragging})||null},isDragging:function(t){return null!==t.dragging},draggingOverId:function(t){return t.over},draggingOverElement:function(t,e){var n=t.over;return n?e.droppableById(n):null},isOver:function(t){return null!==t.over},isOverStatic:function(t,e){var n=e.draggingOverElement;return!!n&&n.hasOwnProperty("dimensions")},draggableHelperId:function(t){return t.draggableHelper},draggableHelperElement:function(t,e){return t.draggableHelper?e.droppableById(t.draggableHelper):null},droppables:function(t,e){return e.workspaceElements},droppablesActive:function(t,e){return e.droppables.filter(function(e){return e.id!==t.draggableHelper})},droppablesListening:function(t,e){return e.droppables.filter(function(e){return t.listening.includes(e.id)})},droppablesStatic:function(t){return t.static},droppableStaticById:function(t){return function(e){return t.static[e]}},droppablesToListen:function(t,e){return function(t){return e.droppables.filter(function(n){var i=n.id;return i!==t&&i!==e.draggableHelperId}).map(function(t){var e=t.id;return e})}},droppableById:function(t,e){return function(n){var i=e.droppables.find(function(t){return t.id===n});return i||(t.static.hasOwnProperty(n)?t.static[n]:null)}}},actions:{dragStart:function(t,e){var n=t.commit,i=t.dispatch,r=t.getters,o=r.droppablesToListen(e);n("DRAG_START",{id:e,listening:o}),y["a"].emit("DRAG_START"),q["a"].onDragStart(),i("mixReset"),z()(function(){i("searchHide"),Z.onDragStart()})},dragOver:function(t,e){var n=t.commit;n("DRAG_OVER",e)},dragOut:function(t){var e=t.commit;e("DRAG_OUT")},dragEnd:function(t,e){var n=t.commit,i=t.dispatch,r=t.getters,o=e.position,s=e.simulated;n("DRAG_POSITION",Object(f["a"])({dragged:r.draggedElement},o)),q["a"].onDragEnd(s),n("DRAG_END"),z()(function(){i("draggableHelperAdd",!0),Z.onDragEnd()})},staticDroppableAdd:function(t,e){var n=t.commit;n("STATIC_DROPPABLE_ADD",e)},baseLoaded:function(t){var e=t.dispatch;e("draggableHelperAdd",!0)},draggableHelperAdd:function(t,e){var n=t.commit,i=t.state;if(void 0===e&&(e=!1),null===i.draggableHelper){var r=e?Object(K["a"])(V["a"]):null;n("DRAGGABLE_HELPER_SET",r)}}},mutations:{DRAG_START:function(t,e){var n=e.id,i=e.listening;t.dragging=n,t.listening=i},DRAG_OVER:function(t,e){t.over=e},DRAG_OUT:function(t){t.over=null},DRAG_POSITION:function(t,e){var n=e.dragged,i=e.x,r=e.y;n&&(n.position.x=i,n.position.y=r)},DRAG_END:function(t){t.dragging=null,t.over=null,t.listening.length&&(t.listening=[])},DROPPABLE_DROP:function(t){t.over=null},DRAGGABLE_HELPER_SET:function(t,e){t.draggableHelper=e||null},DRAGGABLE_HELPER_RESET:function(t){t.draggableHelper=null},STATIC_DROPPABLE_ADD:function(t,e){t.static[e.id]=e},STATIC_DROPPABLE_UPDATE:function(t,e){var n=e.id,i=e.width,r=e.height,o=e.x,s=e.y,a=t.static[n];a.dimensions.width=i,a.dimensions.height=r,a.position.x=o,a.position.y=s},WORKSPACE_ELEMENT_REMOVE:function(t,e){t.dragging===e&&(t.dragging=null)}}},nt=et,it={isReady:!1,playing:!1,online:!0,user:null,userProgressSynced:!1,visible:!0},rt={state:it,getters:{isGameReady:function(t){return t.isReady},online:function(t){return t.online},user:function(t){return t.user},isLoggedIn:function(t){return null!==t.user},canLogout:function(t,e){return e.isLoggedIn&&t.userProgressSynced},isGameActive:function(t){return t.visible},isPlaying:function(t){return t.playing}},actions:{online:function(t){var e=t.commit;e("ONLINE")},offline:function(t){var e=t.commit;e("OFFLINE")},loggedIn:function(t,e){var n=t.commit;n("LOGGED_IN",e),y["a"].emit("LOGGED_IN")},userSynced:function(t){var e=t.commit;e("USER_SYNCED")},notLoggedIn:function(){y["a"].emit("NOT_LOGGED_IN")},loggedOut:function(t){var e=t.commit;e("LOGGED_OUT"),y["a"].emit("LOGGED_OUT")},startedPlaying:function(t){var e=t.commit;e("PLAY")}},mutations:{GAME_READY:function(t){t.isReady=!0},ONLINE:function(t){t.online=!0},OFFLINE:function(t){t.online=!1},LOGGED_IN:function(t,e){t.user=e},LOGGED_OUT:function(t){t.user=null,t.userProgressSynced=!1},USER_SYNCED:function(t){t.userProgressSynced=!0},VISIBILITY:function(t,e){t.visible!==e&&(t.visible=e)},PLAY:function(t){t.playing=!0}}},ot=rt,st=n("a407"),at={elementId:"",timestamp:0},ut=at,ct=Object(f["a"])(Object(f["a"])({active:[],remaining:0},u["b"].load(u["a"].HINTS)||{}),{current:{elementId:null,billing:null}}),lt={state:ct,getters:{hintsActive:function(t){return t.active},hintsRemaining:function(t){return t.remaining},hintCurrent:function(t){return t.current},hintBilling:function(t){return t.current.billing},hintHasCurrent:function(t){return null!==t.current.elementId},hintIsActive:function(t){return function(e){return t.active.some(function(t){var n=t.elementId;return e===n})}},hintById:function(t){return function(e){return t.active.find(function(t){var n=t.elementId;return e===n})||null}}},actions:{hintAdd:function(t,e){var n=t.commit;n("HINT_ADD",Object(f["a"])(Object(f["a"])(Object(f["a"])({},ut),e),{timestamp:Date.now()})),y["a"].emit("ENCYCLOPEDIA_SEND_HINTS")},hintsRemainingSet:function(t,e){var n=t.commit;n("HINT_REMAINING",e)},hintsRemainingAdd:function(t,e){var n=t.commit,i=t.state;n("HINT_REMAINING",i.remaining+e)},hintsDecrement:function(t){var e=t.commit,n=t.state;e("HINT_REMAINING",n.remaining-1)},hintCurrent:function(t,e){var n=t.commit,i=t.state;n("HINT_CURRENT",Object(f["a"])(Object(f["a"])({},i.current),e))},hintCurrentClear:function(t){var e=t.dispatch;e("hintCurrent",{elementId:null,billing:null})},mixNew:function(t,e){var n=t.commit,i=t.getters,r=e.children;r.forEach(function(t){var e=i.hintById(t);e&&(y["a"].emit("HINT_DONE",{id:t,timestamp:e.timestamp}),n("HINT_DONE",t),y["a"].emit("ENCYCLOPEDIA_SEND_HINTS"))})},resetProgress:function(t){var e=t.commit,n=st["a"].getPossibleItemHints();e("HINTS_CLEAR",n),y["a"].emit("ENCYCLOPEDIA_SEND_HINTS")}},mutations:{HINT_ADD:function(t,e){t.active.push(e)},HINT_REMAINING:function(t,e){t.remaining=Math.max(0,e)},HINT_DONE:function(t,e){t.active=t.active.filter(function(t){var n=t.elementId;return n!==e})},HINTS_CLEAR:function(t,e){t.active=t.active.filter(function(t){var n=t.elementId;return e.includes(n)})},HINT_CURRENT:function(t,e){var n=e.elementId,i=e.billing;t.current.elementId=n,t.current.billing=i}}},dt=lt,ht=n("c97d"),ft=function(){function t(){this._history=[],this._historyMap={};var t=u["b"].load(u["a"].PROGRESS)||[];this._history=t,this._historyMap=k(t)}return t.prototype.set=function(t){this._history=t,this._historyMap=k(t)},t.prototype.addNewParents=function(t){var e=t[0],n=t[1];this.addEntry({father:e,mother:n,timestamp:Date.now()})},t.prototype.addEntry=function(t){this._history.push(t);var e=j([t.father,t.mother]);this._historyMap[e]=t.timestamp},t.prototype.reset=function(){this._history=[],this._historyMap={}},t.prototype.removeBeforeTimestamp=function(t){var e=this._history.filter(function(e){var n=e.timestamp;return n>=t});e.length!==this._history.length&&(this._historyMap=k(e)),this._history=e},Object.defineProperty(t.prototype,"history",{get:function(){return this._history},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"historyMap",{get:function(){return this._historyMap},enumerable:!0,configurable:!0}),t}(),pt=new ft;var mt=pt,gt=n("cf19"),vt={historyTimestamp:0,resetTimestamp:u["b"].load(u["a"].RESET_TIMESTAMP)||-1},bt={state:vt,getters:{history:function(t){return t.historyTimestamp<0?[]:mt.history},historyMap:function(t){return t.historyTimestamp<0?{}:mt.historyMap},hasMixed:function(t,e){return function(t){var n=j(t);return e.historyMap.hasOwnProperty(n)}},historyBefore:function(t,e){return function(t){return e.history.filter(function(e){var n=e.timestamp;return n<t})}},historyLastTimestamp:function(t,e){return e.history.length?e.history[e.history.length-1].timestamp:0},resetTimestamp:function(t){return t.resetTimestamp}},actions:{historyReload:function(t){var e=t.dispatch;e("progressCalculate"),ht["a"].scrollTop(),y["a"].emit("SYNC_PROGRESS_CHANGED")},historySet:function(t,e){var n=t.commit;n("HISTORY_SET",e)},historyIntegrity:function(t){var e=t.getters,n=t.dispatch,i=function(t){return e.hasElement(t)&&e.hasInProgress(t)||Object(gt["a"])(t)},r=e.history.filter(function(t){var e=t.mother,n=t.father;return i(e)&&i(n)}),o=r.length!==e.history.length;o&&(n("historySet",r),n("historyReload"))},historyRemoveBeforeTimestamp:function(t,e){var n=t.commit;n("HISTORY_REMOVE_BEFORE",e)},mixNew:function(t,e){var n=t.commit,i=t.getters,r=e.parents;i.hasMixed(r)||(n("HISTORY_NEW_PARENTS",r),y["a"].emit("HISTORY_UPDATE"))},resetProgress:function(t){var e=t.commit,n=t.dispatch;e("RESET_PROGRESS"),n("libraryReload"),y["a"].emit("PROGRESS_RESET")}},mutations:{HISTORY_SET:function(t,e){mt.set(e),t.historyTimestamp=Date.now()},HISTORY_ADD:function(t,e){mt.addEntry(e),t.historyTimestamp=Date.now()},HISTORY_NEW_PARENTS:function(t,e){mt.addNewParents(e),t.historyTimestamp=Date.now()},HISTORY_REMOVE_BEFORE:function(t,e){mt.removeBeforeTimestamp(e),t.historyTimestamp=Date.now()},RESET_PROGRESS:function(t){mt.reset(),t.historyTimestamp=Date.now(),t.resetTimestamp=Date.now()},RESET_TIMESTAMP:function(t,e){t.resetTimestamp=e}}},yt=bt,Et=n("a799"),Ot={status:null,father:null,mother:null,children:[],baseChildren:[]},wt={state:Ot,getters:{mixStatus:function(t){return t.status},mixFather:function(t){return t.father},mixMother:function(t){return t.mother},mixChildren:function(t){return t.children},mixBaseChildren:function(t){return t.baseChildren},mixHasBase:function(t,e){return!!e.mixBaseChildren.length},mixHasNewChildren:function(t,e){return e.mixChildren.some(function(t){var n=t.id;return e.elementIsNewlyDiscovered(n)&&!e.hasUnlockedBase(n)})},isMixingDisabled:function(t,e){return e.isArtModeEnabled}},actions:{droppableDrop:function(t){var e=t.dispatch,n=Et["a"].getDropMixResult();if(n){var i=n.status,r=Object(f["e"])(n,["status"]);e(i,r);var o=Et["a"].getBaseElementsMixResult(r.children);o&&e("mixBase",o)}},mixFail:function(t){var e=t.dispatch;e("mixOccured",{status:E["a"]}),y["a"].emit("MIX_FAIL")},mixMixed:function(t,e){var n=t.dispatch,i=e.children;n("mixOccured",{status:E["b"],children:i.map(function(t){return{id:t}})}),y["a"].emit("MIX_MIXED")},mixNew:function(t,e){var n=t.dispatch,i=e.children,r=e.positions;g();var o=i.map(function(t,e){return{id:t,position:r[e]}});n("mixOccured",{status:E["c"],children:o}),y["a"].emit("MIX_NEW")},mixBase:function(t,e){var n=t.commit,i=t.dispatch,r=t.getters,o=e.children,s=e.positions,a=o.map(function(t,e){return{id:t,position:s[e]}}),u=o.filter(function(t){return r.elementById(t).base});n("MIX_SET_CHILDREN",a),n("MIX_SET_BASE_CHILDREN",u),i("progressNewBase",u)},mixOccured:function(t,e){var n=t.commit,i=t.getters,r=e.status,o=e.children,s=void 0===o?[]:o;if(i.draggedElement&&i.draggingOverElement){var a=Object(f["a"])({},i.draggedElement),u=Object(f["a"])({},i.draggingOverElement);n("MIX_OCCURED",{status:r,father:a,mother:u,children:s})}},mixReset:function(t){var e=t.commit,n=t.state;n.status&&e("MIX_RESET")}},mutations:{MIX_OCCURED:function(t,e){t.status=e.status,t.father=e.father,t.mother=e.mother,t.children=e.children},MIX_SET_CHILDREN:function(t,e){t.children=e},MIX_SET_BASE_CHILDREN:function(t,e){t.baseChildren=e},MIX_RESET:function(t){t.status=null,t.father=null,t.mother=null,t.children.length&&(t.children=[]),t.baseChildren.length&&(t.baseChildren=[])}}},At=wt,It={enabled:!0,current:null,playing:!1},St={state:It,getters:{isAudioEnabled:function(t){return t.enabled},isMusicPlaying:function(t){return t.playing},currentMusic:function(t){return t.current}},actions:{musicSet:function(t,e){var n=t.commit;n("MUSIC_SET",e)},musicPlay:function(t,e){var n=t.commit;n("MUSIC_PLAY",e)},musicPause:function(t){var e=t.commit;e("MUSIC_PAUSE",void 0)},musicStop:function(t){var e=t.commit;e("MUSIC_STOP",void 0)}},mutations:{AUDIO_DISABLED:function(t){t.enabled=!1},MUSIC_SET:function(t,e){t.current=e},MUSIC_PLAY:function(t,e){t.current=e,t.playing=!0},MUSIC_PAUSE:function(t){t.playing=!1},MUSIC_STOP:function(t){t.current=null,t.playing=!1}}},Tt=St,_t=n("ded8"),xt={library:[],rendered:!1,sortBy:"alphabet"},Pt={state:xt,getters:{library:function(t){return t.library},hasLibrary:function(t){return!!t.library.length},hasInLibrary:function(t){return function(e){return t.library.includes(""+e)}},librarySortBy:function(t){return t.sortBy},isLibraryRendered:function(t){return t.rendered}},actions:{libraryReload:function(t){var e,n=t.commit,i=t.getters,r=Object(f["f"])(i.prime,i.progress,i.base);r=i.isArtModeEnabled?r.concat(i.final):r.filter(function(t){var e=i.mixStatus&&(i.mixFather.elementId===t||i.mixMother.elementId===t);return!!e||!(i.elementIsExhausted(t)&&!i.isExhaustedVisible(t))}),e="timestamp"===i.librarySortBy?Object(_t["b"])(i.total,r):Object(_t["a"])(i.elements,r),n("LIBRARY_RELOAD",e)},libraryRendered:function(t){var e=t.commit;e("LIBRARY_RENDERED")},libraryChangeSorting:function(t,e){var n=t.dispatch,i=t.commit;i("LIBRARY_SORTING",e),n("libraryReload")}},mutations:{LIBRARY_RELOAD:function(t,e){t.library=e},LIBRARY_RENDERED:function(t){t.rendered=!0},LIBRARY_SORTING:function(t,e){t.sortBy!==e&&(t.sortBy=e)}}},Ct=Pt,Rt=n("54cb"),Dt=n("22a7"),Lt={progress:{},final:{},prime:[],base:[],total:[]},Nt={state:Lt,getters:{progressObject:function(t){return t.progress},progress:function(t){return Object.keys(t.progress)},prime:function(t){return t.prime},finalObject:function(t){return t.final},final:function(t){return Object.keys(t.final)},base:function(t){return t.base},total:function(t){return t.total},hasProgress:function(t,e){return!!e.progress.length},hasInProgress:function(t){return function(e){var n=""+e;return t.progress.hasOwnProperty(n)||t.final.hasOwnProperty(n)||t.base.includes(n)||t.prime.includes(n)}},hasUnlockedBase:function(t){return function(e){return t.base.includes(e)}},totalProgress:function(t,e){return e.totalProgressWithoutFinal+e.final.length},totalProgressWithoutFinal:function(t,e){var n=e.progress.length;return n+=e.prime.length,n+=e.base.length,n},totalProgressElements:function(t,e){return Object(f["f"])(e.progress,e.prime,e.base,e.final)},progressSince:function(t){return function(e){return t.total.filter(function(t){var n=t.timestamp;return n>e}).map(function(t){var e=t.id;return e})}},elementTimestamp:function(t){return function(e){for(var n=t.total.length-1;n>=0;n--)if(t.total[n].id===e)return t.total[n].timestamp;return 0}},elementIsNewlyDiscovered:function(t,e){return function(t){var n=e.elementTimestamp(t),i=e.historyLastTimestamp;return n>=i}},hasAllElements:function(t,e){return e.elementsCount>0&&e.totalProgress>=e.elementsCount},hasAllExhausted:function(t,e){return e.elementsCount>0&&e.elementsIds.every(function(t){var n=e.elements[t];return!!n.final||!!e.elementIsExhausted(t)})},hasEmptyLibrary:function(t,e){return!e.hasExhaustedVisible&&e.hasAllExhausted},hasAllCleared:function(t,e){return e.hasEmptyLibrary&&!e.workspaceHasInactive},isArtModeEnabled:function(t,e){return e.hasAllCleared&&!e.needsGameCompletionAnimation}},actions:{progressCalculate:function(t){var e=t.commit,n=t.dispatch,i=t.getters,r=Dt["a"].analyze(i.elements,Object(f["f"])(i.history));e("PROGRESS_ANALYZED",r);var o=Rt["a"].getInitiallyUnlocked();o.length&&n("progressNewBase",o),n("exhaustedCheckIds",i.totalProgressElements),n("libraryReload"),z()(function(){y["a"].emit("ENCYCLOPEDIA_PROGRESS_ANALYZED")})},mixNew:function(t,e){var n=t.commit,i=t.getters,r=e.parents,o=e.children;o.forEach(function(t){if(!i.hasInLibrary(t)){var e=i.elementById(t);e&&(e.final?n("PROGRESS_FINAL",t):i.hasInProgress(t)||n("PROGRESS_NEW",t))}}),window.setTimeout(function(){return y["a"].emit("ENCYCLOPEDIA_MIX_NEW",{parents:r,children:o,timestamp:Date.now()})},60)},progressNewBase:function(t,e){var n=t.commit,i=t.getters,r=e.filter(function(t){return!i.base.includes(t)});r.forEach(function(t){return n("PROGRESS_BASE",{id:t,timestamp:Date.now()})}),y["a"].emit("ENCYCLOPEDIA_MIX_BASE",r)}},mutations:{PROGRESS_ANALYZED:function(t,e){var n=e.progress,i=e.base,r=e.final,o=e.primes,s=e.timestamps;t.progress=n,t.base=i,t.prime=o,t.final=r,t.total=s,Object(p["z"])("progress","analyzed",t)},PROGRESS_NEW:function(t,e){r["a"].set(t.progress,e,!0),t.total.push({id:e,timestamp:Date.now()})},PROGRESS_FINAL:function(t,e){t.final.hasOwnProperty(e)||(r["a"].set(t.final,e,!0),t.total.push({id:e,timestamp:Date.now()}))},PROGRESS_BASE:function(t,e){var n=e.id,i=e.timestamp;t.base.push(n),t.total.push({id:n,timestamp:i})},PROGRESS_PRIMES:function(t,e){t.prime=e},RESET_PROGRESS:function(t){t.progress={},t.final={},t.base=[],t.total=[]}}},jt=Nt,kt={query:null},Mt={state:kt,getters:{searchQuery:function(t){return t.query},isSearchActive:function(t){return null!==t.query}},actions:{search:function(t,e){var n=t.commit;n("SEARCH",e)},searchShow:function(t){var e=t.commit;e("SEARCH","")},searchHide:function(t){var e=t.commit,n=t.state;null!==n.query&&e("SEARCH",null)}},mutations:{SEARCH:function(t,e){t.query=e}}},Ht=Mt,Bt=Object(f["a"])({music:!0,sfx:!0},u["b"].load(u["a"].SETTINGS)||{}),$t={state:Bt,getters:{playSfx:function(t){return t.sfx},playMusic:function(t){return t.music}},actions:{settingsMusic:function(t,e){var n=t.commit;n("SETTINGS_MUSIC",e)},settingsSfx:function(t,e){var n=t.commit;n("SETTINGS_SFX",e)}},mutations:{SETTINGS_MUSIC:function(t,e){t.music=e},SETTINGS_SFX:function(t,e){t.sfx=e}}},Ft=$t,Gt={firstLaunch:Date.now(),sessionsCount:1,session:{initialProgress:0,start:Date.now(),streak:0,fails:0,failsStreak:0}},Ut=Object(f["a"])(Object(f["a"])({},Gt),u["b"].load(u["a"].STATS)||{}),Wt={state:Ut,getters:{firstLaunch:function(t){return t.firstLaunch},sessionsCount:function(t){return t.sessionsCount},sessionStats:function(t){return t.session},sessionFailStreak:function(t){return t.session.failsStreak},sessionFails:function(t){return t.session.fails},sessionStreak:function(t){return t.session.streak}},actions:{statsSessionsCount:function(t){var e=t.commit;e("STATS_SESSIONS")},statsInitialProgress:function(t){var e=t.commit,n=t.getters;e("STATS_INITIAL_PROGRESS",n.totalProgress)},mixOccured:function(t,e){var n=t.commit,i=e.status;i===E["c"]?n("STATS_MIX_NEW"):i===E["a"]&&n("STATS_MIX_FAIL")},resetProgress:function(t){var e=t.dispatch;e("statsInitialProgress")}},mutations:{STATS_SESSIONS:function(t){t.sessionsCount++},STATS_INITIAL_PROGRESS:function(t,e){t.session.initialProgress=e},STATS_MIX_NEW:function(t){t.session.streak++,t.session.failsStreak=0},STATS_MIX_FAIL:function(t){t.session.streak=0,t.session.failsStreak++,t.session.fails++}}},Yt=Wt,zt=n("6953"),Kt=Object(f["a"])({tutorial:null,tutorialsFinished:!1,currentText:null,currentTextPosition:null,shownText:[]},u["b"].load(u["a"].TUTORIALS)),Xt={state:Kt,getters:{tutorial:function(t){return t.tutorial},areTutorialsFinished:function(t){return t.tutorialsFinished},isTutorialActive:function(t){return function(e){return t.tutorial===e}},tutorialTextCurrentId:function(t){return t.currentText},tutorialTextCurrent:function(t,e){return zt["a"].getById(e.tutorialTextCurrentId)},tutorialTextPosition:function(t){return t.currentTextPosition},tutorialTextShown:function(t){return t.shownText},wasTutorialTextShown:function(t,e){return function(t){return e.tutorialTextShown.includes(t)}}},actions:{tutorialShow:function(t,e){var n=t.commit;n("TUTORIAL_SHOW",e)},tutorialHide:function(t){var e=t.commit;e("TUTORIAL_HIDE")},tutorialsFinished:function(t){var e=t.commit;e("TUTORIALS_FINISHED"),y["a"].emit("TUTORIALS_FINISHED")},tutorialTextShow:function(t,e){var n=t.commit;n("TUTORIAL_TEXT_SHOW",e)},tutorialTextHide:function(t){var e=t.commit;e("TUTORIAL_TEXT_HIDE")},resetProgress:function(t){var e=t.commit;e("TUTORIALS_TEXT_CLEAR"),zt["a"].onReset()}},mutations:{TUTORIAL_SHOW:function(t,e){t.tutorial=e,t.tutorialsFinished=!1},TUTORIAL_HIDE:function(t){t.tutorial=null},TUTORIALS_FINISHED:function(t){t.tutorialsFinished=!0},TUTORIAL_TEXT_SHOW:function(t,e){var n=e.id,i=e.position;t.currentText=n,t.currentTextPosition=i,t.shownText.includes(n)||t.shownText.push(n)},TUTORIAL_TEXT_HIDE:function(t){t.currentText=null,t.currentTextPosition=null},TUTORIALS_TEXT_CLEAR:function(t){t.currentText=null,t.currentTextPosition=null,t.shownText=[]}}},Vt=Xt,qt=n("b2eb"),Qt=n("2540"),Jt={popupName:null,popupData:null,isOverlayActive:!1},Zt={state:Jt,getters:{popup:function(t){return t.popupName},isPopupActive:function(t,e){return null!==e.popup},isPopupOverlayActive:function(t){return t.isOverlayActive},isPopupWithNameActive:function(t,e){return function(t){return e.popup===t}},popupData:function(t){return t.popupData},isPopupClosable:function(t,e){return null===e.popupData||!e.popupData.hasOwnProperty("closable")||e.popupData.closable}},actions:{popupToggle:function(t,e){var n=t.dispatch,i=t.getters;i.popup!==e?(null!==i.popup&&n("popupHide",void 0),z()(function(){return n("popupShow",e)})):n("popupHide",void 0)},popupShow:function(t,e){var n=t.commit,i=t.dispatch;e===qt["ENCYCLOPEDIA"]&&i("encyclopediaShow"),n("UI_POPUP_SHOW",e),Qt["a"].onShow(e)},popupShowWithData:function(t,e){var n=t.commit,i=t.dispatch,r=e.name,o=e.data;i("popupShow",r),n("UI_POPUP_DATA",o)},popupShowNext:function(t,e){var n=t.dispatch,i=e.name,r=e.data,o=void 0===r?null:r;return Object(f["b"])(this,void 0,void 0,function(){return Object(f["d"])(this,function(t){switch(t.label){case 0:return n("popupHide",{hideOverlay:!1}),[4,Object(p["c"])(qt["DELAY"])];case 1:return t.sent(),o?n("popupShowWithData",{name:i,data:o}):n("popupShow",i),[2]}})})},popupHide:function(t,e){var n=t.commit,i=t.getters,r=(void 0===e?{}:e).hideOverlay,o=void 0===r||r;null!==i.popup&&(Qt["a"].onHide(i.popup),n("UI_POPUP_HIDE",o))}},mutations:{UI_POPUP_SHOW:function(t,e){t.popupName=e,t.isOverlayActive=!0},UI_POPUP_DATA:function(t,e){t.popupData=e},UI_POPUP_HIDE:function(t,e){t.popupName=null,e&&(t.isOverlayActive=!1,t.popupData=null)}}},te=Zt,ee=n("c561"),ne=n("b10a"),ie={elements:u["b"].load(u["a"].WORKSPACE)||[],elementsPrevious:[]},re={state:ie,getters:{workspaceElements:function(t){return t.elements},workspacePrevious:function(t){return t.elementsPrevious},workspaceRevertable:function(t,e){return!!t.elementsPrevious.length||!!e.workspaceInactivePrevious.length},workspaceElementsExhausted:function(t,e){return e.workspaceElements.filter(function(t){var n=t.elementId;return e.elementIsExhausted(n)})}},actions:{workspaceClearRevertStart:function(t){var e=t.dispatch,n=t.getters;n.workspaceRevertable?e("workspaceRevertStart"):e("workspaceClearStart")},workspaceClearStart:function(t){var e=t.dispatch,n=t.getters;(n.workspaceElements.length||n.workspaceExhausted.length)&&(e("animationChange",b["a"]),y["a"].emit("WORKSPACE_CLEAR_START"),g(),y["a"].once("ANIMATION_WORKSPACE_MIDDLE",function(){return e("workspaceClear")}))},workspaceRevertStart:function(t){var e=t.dispatch,n=t.getters;(n.workspacePrevious.length||n.workspaceInactivePrevious.length)&&(e("animationChange",b["h"]),g(),y["a"].once("ANIMATION_WORKSPACE_MIDDLE",function(){return e("workspaceRevert")}))},workspaceClear:function(t){var e=t.commit,n=t.getters;n.droppablesActive.length&&(e("WORKSPACE_CLEAR",n.draggableHelperElement),y["a"].emit("WORKSPACE_CLEAR"))},workspaceRevert:function(t){var e=t.commit,n=t.getters;n.workspacePrevious.length&&(e("WORKSPACE_REVERT"),y["a"].emit("WORKSPACE_REVERT"))},workspaceRemoveUnderLibrary:function(t){var e=t.commit,n=t.getters,i=n.droppableStaticById(X["e"]).position.x,r=n.workspaceBoxDimensions.width/2,o=i-r;n.workspaceElements.forEach(function(t){var i=t.id===n.draggedId,r=t.position.x<=o;i||r||e("WORKSPACE_ELEMENT_REMOVE",t.id)})},workspaceRemoveExhausted:function(t){var e=t.commit,n=t.getters;n.workspaceElementsExhausted.forEach(function(t){var n=t.id;return e("WORKSPACE_ELEMENT_REMOVE",n)})},workspaceElementClone:function(t,e){var n=t.dispatch,i=t.commit,r=t.getters,o=r.droppableById(e);if(o){var s=Object(f["a"])({},o),a=ne["a"].getCloneDirections(o.position,r.workspaceBoxDimensions);i("DRAGGABLE_HELPER_PREPARE",{helper:r.draggableHelperElement,elementId:s.elementId,position:{x:o.position.x+a.x*X["a"]*2,y:o.position.y+a.y*X["a"]}}),y["a"].emit("ELEMENT_CLONE",r.draggableHelperId),i("DRAGGABLE_HELPER_RESET"),window.setTimeout(function(){return n("draggableHelperAdd",!0)},50)}},workspaceElementsAdd:function(t,e){var n=t.commit;n("WORKSPACE_ELEMENT_ADD",e)},workspaceElementRemove:function(t,e){var n=t.commit;n("WORKSPACE_ELEMENT_REMOVE",e)},workspaceRemoveMixParents:function(t){var e=t.getters,n=t.dispatch;if(e.mixFather&&e.mixMother){var i=[e.mixFather.id,e.mixMother.id];i.forEach(function(t){return n("workspaceElementRemove",t)})}},workspaceHandleMixResult:function(t,e){var n=t.dispatch,i=t.getters,r=(void 0===e?{}:e).removeParents,o=void 0===r||r;o&&n("workspaceRemoveMixParents");var s=i.mixChildren,a=s.map(function(t){return Object(f["a"])(Object(f["a"])({},ee["a"]),{id:Object(K["a"])(t.id),elementId:t.id,position:t.position})}),u=[],c=[],l=[];a.forEach(function(t){var e=t.elementId,n=i.elementById(e);n&&(n.final?u.push(t):i.elementIsExhausted(e)?c.push(t):l.push(t))}),l.length&&n("workspaceElementsAdd",l),u.length&&n("workspaceFinalAdd",u),c.length&&n("workspaceExhaustedAdd",c),z()(function(){return n("libraryReload")})},historyIntegrity:function(t){var e=t.commit,n=t.getters;n.workspaceElements.forEach(function(t){var i=t.id,r=t.elementId;n.draggableHelperId!==i&&(n.hasInProgress(r)||e("WORKSPACE_ELEMENT_REMOVE",i))})},resetProgress:function(t){var e=t.commit,n=t.getters;e("WORKSPACE_RESET",n.draggableHelperElement)}},mutations:{WORKSPACE_CLEAR:function(t,e){var n=[],i=[];t.elements.forEach(function(t){return(t&&t.id===e.id?i:n).push(t)}),t.elementsPrevious=n,t.elements=i},WORKSPACE_REVERT:function(t){var e;(e=t.elements).push.apply(e,t.elementsPrevious),t.elementsPrevious.length&&(t.elementsPrevious=[])},WORKSPACE_ELEMENT_ADD:function(t,e){var n;t.elements.length>=1&&t.elementsPrevious.length&&(t.elementsPrevious=[]);var i=Object(f["f"])(e);(n=t.elements).push.apply(n,i)},WORKSPACE_ELEMENT_REMOVE:function(t,e){t.elements=t.elements.filter(function(t){return t.id!==e})},WORKSPACE_RESET:function(t,e){var n=[];e&&(n=[e]),t.elements=n,t.elementsPrevious=[]},LOGGED_IN:function(t){t.elementsPrevious=[]},DRAG_START:function(t){t.elementsPrevious.length&&(t.elementsPrevious=[])},DRAGGABLE_HELPER_SET:function(t,e){e&&t.elements.push(Object(f["a"])(Object(f["a"])({},ee["a"]),{id:e,elementId:V["a"],position:{x:-500,y:-500}}))},DRAGGABLE_HELPER_PREPARE:function(t,e){var n=e.helper,i=e.elementId,r=e.position;n&&(n.elementId=i,n.position=r)}}},oe=re,se=Object(f["a"])({workspaceFinal:[],workspaceFinalPrevious:[],workspaceExhausted:[],workspaceExhaustedPrevious:[],needsGameCompletionAnimation:!1},u["b"].load(u["a"].WORKSPACE_INACTIVE)||{});se.hasOwnProperty("exhausted")&&delete se.exhausted;var ae=se,ue={state:ae,getters:{workspaceFinal:function(t){return t.workspaceFinal},workspaceFinalPrevious:function(t){return t.workspaceFinalPrevious},workspaceExhausted:function(t){return t.workspaceExhausted},workspaceExhaustedPrevious:function(t){return t.workspaceExhaustedPrevious},workspaceInactivePrevious:function(t){return t.workspaceExhaustedPrevious.concat(t.workspaceFinalPrevious)},workspaceHasInactive:function(t,e){return!!e.workspaceFinal.length||!!e.workspaceExhausted.length},needsGameCompletionAnimation:function(t){return t.needsGameCompletionAnimation}},actions:{workspaceClear:function(t){var e=t.commit;return Object(f["b"])(this,void 0,void 0,function(){return Object(f["d"])(this,function(t){return e("WORKSPACE_FINAL_CLEAR"),[2]})})},workspaceRevert:function(t){var e=t.commit;e("WORKSPACE_FINAL_REVERT")},workspaceFinalAdd:function(t,e){var n=t.commit;e.length&&n("WORKSPACE_FINAL_ADD",e)},workspaceFinalRemove:function(t,e){var n=t.commit;n("WORKSPACE_FINAL_REMOVE",e)},workspaceExhaustedAdd:function(t,e){var n=t.commit;e.length&&n("WORKSPACE_EXHAUSTED_ADD",e)},workspaceExhaustedRemove:function(t,e){var n=t.commit;return Object(f["b"])(this,void 0,void 0,function(){return Object(f["d"])(this,function(t){return n("WORKSPACE_EXHAUSTED_REMOVE",e),[2]})})},historyIntegrity:function(t){var e=t.dispatch;e("workspaceExhaustedCheck")},workspaceExhaustedCheck:function(t){var e=t.dispatch,n=t.getters,i=n.workspaceElementsExhausted;e("workspaceExhaustedAdd",i),e("workspaceRemoveExhausted")}},mutations:{WORKSPACE_FINAL_CLEAR:function(t){(t.workspaceFinal.length||t.workspaceExhausted.length)&&(t.needsGameCompletionAnimation=!0),t.workspaceExhaustedPrevious=t.workspaceExhausted,t.workspaceExhausted=[],t.workspaceFinalPrevious=t.workspaceFinal,t.workspaceFinal=[]},WORKSPACE_FINAL_REVERT:function(t){t.workspaceExhausted=t.workspaceExhaustedPrevious,t.workspaceExhaustedPrevious=[],t.workspaceFinal=t.workspaceFinalPrevious,t.workspaceFinalPrevious=[]},DRAG_START:function(t){t.workspaceExhaustedPrevious.length&&(t.workspaceExhaustedPrevious=[]),t.workspaceFinalPrevious.length&&(t.workspaceFinalPrevious=[])},WORKSPACE_FINAL_ADD:function(t,e){t.workspaceFinal=t.workspaceFinal.concat(e)},WORKSPACE_FINAL_REMOVE:function(t,e){t.workspaceFinal=t.workspaceFinal.filter(function(t){var n=t.elementId;return e!==n}),t.needsGameCompletionAnimation=!0},WORKSPACE_EXHAUSTED_ADD:function(t,e){t.workspaceExhausted=t.workspaceExhausted.concat(e)},WORKSPACE_EXHAUSTED_REMOVE:function(t,e){t.workspaceExhausted=t.workspaceExhausted.filter(function(t){var n=t.elementId;return e!==n}),t.needsGameCompletionAnimation=!0},ANIMATION_EXHAUSTED_FINISH:function(t){t.needsGameCompletionAnimation=!0},WORKSPACE_INACTIVE_RESET:function(t){t.needsGameCompletionAnimation=!1,t.workspaceFinalPrevious=[],t.workspaceExhaustedPrevious=[]},RESET_PROGRESS:function(t){t.workspaceFinal=[],t.workspaceFinalPrevious=[],t.workspaceExhausted=[],t.workspaceExhaustedPrevious=[]},LOGGED_IN:function(t){t.workspaceFinalPrevious=[],t.workspaceExhaustedPrevious=[]}}},ce=ue;n.d(e,"b",function(){return he}),r["a"].use(o["b"]);var le={ads:h,animations:A,base:_,dimensions:C,encyclopedia:L,exhausted:W,drag:nt,global:ot,hints:dt,history:yt,mix:At,music:Tt,library:Ct,progress:jt,search:Ht,settings:Ft,stats:Yt,tutorials:Vt,ui:te,workspace:oe,workspaceInactive:ce},de=new o["b"].Store({modules:le,strict:!1}),he=(Object(o["a"])(),o["d"]);o["c"],e["a"]=de},"5d96":function(t,e,n){"use strict";var i=!1;try{var r=Object.defineProperty({},"passive",{get:function(){return i=!0,null}});window.addEventListener("test",function(){},r)}catch(s){}var o=!!i&&{passive:!0};e["a"]=o},"623d":function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});var i="outer-library",r="0"},6294:function(t,e,n){"use strict";var i=n("7fba"),r=n.n(i);r.a},6953:function(t,e,n){"use strict";var i=n("9ab4"),r=n("d257"),o=n("ebe2"),s=n("1663"),a=n("7543"),u=n("93e8"),c={horizontal:1,vertical:1},l=[{id:o["TextTutorialId"].FINAL,text:"You discovered your first <strong>final item</strong>!<br />Since final items don't mix with anything they will hide into the encyclopedia when you tap them.",watcher:function(t){var e="new"===t.mixStatus;if(!e)return!1;var n=t.mixChildren.some(function(e){var n=e.id;return t.elementById(n).final});return n},after:function(){return s["a"].then("ANIMATION_NEW_END")},delay:500,getPosition:function(t){if(!t.getters.workspaceFinal.length)return c;var e=Object(a["b"])(t.getters.workspaceFinal[0].position,t.getters.workspaceBoxDimensions);return Object(u["a"])(e)}},{id:o["TextTutorialId"].BASE,text:"You discovered a new <strong>basic item</strong>!<br />Unlike the items you discover by mixing two things together, basic items can be unlocked by satisfying hidden goals!",watcher:function(t){var e="new"===t.mixStatus;return!!e&&t.mixHasBase},after:function(){return s["a"].then("ANIMATION_NEW_END")},delay:500,getPosition:function(t){var e=t.getters.workspaceElements.find(function(e){var n=e.elementId,i=t.getters.elementById(n);return!!i&&i.base})||null;if(!e)return c;var n=Object(a["b"])(e.position,t.getters.workspaceBoxDimensions);return Object(u["a"])(n)}},{id:o["TextTutorialId"].EXHAUSTED,text:function(t){var e,n=t.exhaustedVisible[t.exhaustedVisible.length-1],i=t.elementById(n);if(i){var o=Object(r["a"])(i.name);e=o+" is now a <strong>depleted item</strong>!<br />"}else e="You produced your first <strong>depleted item</strong>! ";return e+" It means you discovered all uses of this item. Now when you tap it you'll send it straight to the encyclopedia!"},watcher:function(t){var e="new"===t.mixStatus;if(!e)return!1;if(!t.mixFather||!t.mixMother)return!1;var n=[t.mixFather.elementId,t.mixMother.elementId],i=n.some(function(e){return!0===t.elementIsExhausted(e)});return i},after:function(t){return t.mixHasNewChildren?s["a"].then("ANIMATION_NEW_END"):Promise.resolve()},delay:1e3,getPosition:function(t){if(!t.getters.workspaceExhausted.length)return c;var e=Object(a["b"])(t.getters.workspaceExhausted[0].position,t.getters.workspaceBoxDimensions);return Object(u["a"])(e)}},{id:o["TextTutorialId"].GAME_END,text:"<strong>Nice!</strong><br />You discovered all available items!<br />If you feel adventureous you can look for the remaining combinations!",watcher:function(t){return t.hasAllElements},after:function(){return s["a"].then("GAME_END_ANIMATION_END")},delay:500,getPosition:function(){return c}},{id:o["TextTutorialId"].GAME_COMPLETION,text:"<strong>Impressive!</strong><br />You discovered all available combinations!<br />Enjoy the art mode!",watcher:function(t){return t.hasAllCleared},after:function(){return s["a"].then("GAME_COMPLETION_ANIMATION_END")},delay:500,getPosition:function(){return c}}],d=function(){function t(t){this.unwatchList=[],this.tutorials=t}return t.prototype.init=function(t){this.$store=t,this.initWatchers()},t.prototype.initWatchers=function(){var t=this;this.tutorials.forEach(function(e){var n=e.id;if(!t.$store.getters.wasTutorialTextShown(n)){var i=t.$store.watch(function(t,n){return e.watcher(n)},function(n){n&&(t.waitToShow(e),i())});t.unwatchList.push(i)}})},t.prototype.waitToShow=function(t){return Object(i["b"])(this,void 0,void 0,function(){return Object(i["d"])(this,function(e){switch(e.label){case 0:return"function"!==typeof t.after?[3,2]:[4,t.after(this.$store.getters)];case 1:e.sent(),e.label=2;case 2:return"number"!==typeof t.delay?[3,4]:[4,Object(r["c"])(t.delay)];case 3:e.sent(),e.label=4;case 4:return[4,this.canShow()];case 5:return e.sent(),this.show(t),[2]}})})},t.prototype.canShow=function(){var t=this;return null===this.$store.getters.tutorialTextCurrentId?Promise.resolve():new Promise(function(e){var n=t.$store.watch(function(t,e){return null===e.tutorialTextCurrentId},function(t){t&&(e(),n())})})},t.prototype.show=function(t){var e=t.id,n=t.getPosition,i=n(this.$store);this.$store.dispatch("tutorialTextShow",{id:e,position:i})},t.prototype.onReset=function(){this.unwatchAll(),this.initWatchers()},t.prototype.unwatchAll=function(){this.unwatchList.forEach(function(t){return t()}),this.unwatchList=[]},t.prototype.getById=function(t){return this.tutorials.find(function(e){var n=e.id;return t===n})||null},t}(),h=new d(l);e["a"]=h},"6e2e":function(t,e,n){"use strict";var i=n("2de2"),r=n("9ab4"),o=n("d257"),s=function(){function t(){this.elements={},this.descriptions={},this.tags=[]}return t.prototype.init=function(t){this.loader=t},t.prototype.loadBase=function(){return Object(r["b"])(this,void 0,void 0,function(){var t;return Object(r["d"])(this,function(e){switch(e.label){case 0:return[4,this.loader.loadBase()];case 1:return t=e.sent(),this.elements=t,Object(o["z"])("base","elements loaded",{elements:t}),[2,this.elements]}})})},t.prototype.loadDescriptions=function(){return Object(r["b"])(this,void 0,void 0,function(){var t;return Object(r["d"])(this,function(e){switch(e.label){case 0:return[4,this.loader.loadDescriptions()];case 1:return t=e.sent(),this.descriptions=t,Object(o["z"])("base","descriptions loaded",{descriptions:t}),[2,this.descriptions]}})})},t.prototype.loadTags=function(){return Object(r["b"])(this,void 0,void 0,function(){var t;return Object(r["d"])(this,function(e){switch(e.label){case 0:return[4,this.loader.loadTags()];case 1:return t=e.sent(),this.tags=t,Object(o["z"])("base","tags loaded",{tags:t}),[2,this.tags]}})})},t.prototype.elementAdd=function(t,e){return this.elements[t]=e,this.elements},t.prototype.elementRemove=function(t){return delete this.elements[t],this.elements},t.prototype.getElementById=function(t){var e=""+t;return this.elements.hasOwnProperty(e)?this.elements[e]:null},t.prototype.getDescriptionById=function(t){var e=""+t;if(!this.descriptions.hasOwnProperty(e)){var n=this.getElementById(e);return n&&n.description.length?n.description:""}return this.descriptions[e]},t}(),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textElements={},e}return Object(r["c"])(e,t),e.prototype.init=function(t){this.loader=t},e.prototype.loadTextElements=function(){return Object(r["b"])(this,void 0,void 0,function(){var t;return Object(r["d"])(this,function(e){switch(e.label){case 0:return[4,this.loader.loadTextElements()];case 1:return t=e.sent(),this.textElements=t,Object(o["z"])("base","text elements loaded",{elements:t}),[2,this.textElements]}})})},e}(s),u=i["e"]?new a:new s;e["a"]=u},"6e95":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("2b0e"),r=(new i["a"],i["a"])},"6eeb":function(t,e,n){"use strict";var i=n("9ab4"),r=n("2de2"),o=function(){function t(){}return t.prototype.init=function(){return Object(i["b"])(this,void 0,void 0,function(){var t;return Object(i["d"])(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return t=e.sent(),this.firebase=t,[2,this.initApp()]}})})},t.prototype.load=function(){return Object(i["b"])(this,void 0,void 0,function(){var t;return Object(i["d"])(this,function(e){switch(e.label){case 0:return[4,Promise.all([n.e("firebase-app-firebase-auth-firebase-database-firebase-messaging"),n.e("firebase-app")]).then(n.t.bind(null,"59ca",7))];case 1:return t=e.sent(),[2,t.default]}})})},t.prototype.initApp=function(){return this.firebase.initializeApp(r["h"])},t.prototype.reinitialize=function(){return Object(i["b"])(this,void 0,void 0,function(){return Object(i["d"])(this,function(t){switch(t.label){case 0:return[4,this.firebase.app().delete()];case 1:return t.sent(),[2,this.initApp()]}})})},t}(),s=o,a=n("d257"),u=n("7897"),c=n("1663"),l="__fcm",d=1500,h=3,f=function(){function t(){var t=this;this.onMessage=function(e){c["a"].emit("NOTIFICATION_RECEIVED",e),t.log("message received",e)}}return t.prototype.init=function(t,e,n){var r=this;this.firebase=t,this._saveToken=n,this.initEvents(),c["a"].once("PLAY",function(){return Object(i["b"])(r,void 0,void 0,function(){return Object(i["d"])(this,function(t){switch(t.label){case 0:return[4,Object(a["c"])(d)];case 1:return t.sent(),this.shouldLoad(e)?[4,this.load()]:[2];case 2:return t.sent(),this.onLoaded(),this.shouldRequestPermission(e)&&this.request(),[2]}})})})},t.prototype.initEvents=function(){var t=this;c["a"].on("NOTIFICATIONS_REQUEST",function(){return Object(i["b"])(t,void 0,void 0,function(){return Object(i["d"])(this,function(t){switch(t.label){case 0:return[4,this.load()];case 1:return t.sent(),this.onLoaded(),this.request(),[2]}})})})},t.prototype.load=function(){return Promise.all([n.e("firebase-app-firebase-auth-firebase-database-firebase-messaging"),n.e("firebase-messaging")]).then(n.bind(null,"741f"))},t.prototype.onLoaded=function(){this.handleTokenRefresh(),this.messaging.onMessage(this.onMessage)},t.prototype.handleTokenRefresh=function(){var t=this;this.messaging.onTokenRefresh(function(){return Object(i["b"])(t,void 0,void 0,function(){var t;return Object(i["d"])(this,function(e){switch(e.label){case 0:return[4,this.getToken()];case 1:return t=e.sent(),this.sendToken(t),[2]}})})})},t.prototype.request=function(){return Object(i["b"])(this,void 0,void 0,function(){var t;return Object(i["d"])(this,function(e){switch(e.label){case 0:return this.hasSavedToken||this.hasDenied?[2]:[4,this.requestPermission()];case 1:return e.sent(),[4,this.getToken()];case 2:return t=e.sent(),this.sendToken(t),this.notifySuccess(),[2]}})})},t.prototype.requestPermission=function(){return this.messaging.requestPermission()},t.prototype.getToken=function(){return Object(i["b"])(this,void 0,Promise,function(){var t;return Object(i["d"])(this,function(e){switch(e.label){case 0:return[4,this.messaging.getToken()];case 1:if(t=e.sent(),!t)throw new Error;return[2,t]}})})},t.prototype.sendToken=function(t){return Object(i["b"])(this,void 0,void 0,function(){return Object(i["d"])(this,function(e){switch(e.label){case 0:return"function"!==typeof this._saveToken?[2]:[4,this._saveToken(t)];case 1:return e.sent(),Object(u["b"])(l,JSON.stringify(1)),[2]}})})},t.prototype.notifySuccess=function(){c["a"].emit("NOTIFICATIONS_APPROVED")},t.prototype.shouldLoad=function(t){return this.shouldRequestPermission(t)||window.Notification&&"granted"===Notification.permission},t.prototype.shouldRequestPermission=function(t){return t.getters.sessionsCount>=h&&!this.hasDenied},Object.defineProperty(t.prototype,"messaging",{get:function(){return this.firebase.messaging()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasSavedToken",{get:function(){return!!Object(u["a"])(l)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRequest",{get:function(){return!this.hasSavedToken&&!this.hasDenied},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasDenied",{get:function(){return!window.Notification||"denied"===Notification.permission},enumerable:!0,configurable:!0}),t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a["o"].apply(void 0,Object(i["f"])(["firebase","[NOTIFICATIONS]"],t))},t}(),p=f,m=n("b047"),g=n.n(m),v={"auth/invalid-email":"Invalid email","auth/user-disabled":"User account is disabled","auth/user-not-found":"User not found","auth/wrong-password":"Password doesn't match the email","auth/email-already-in-use":"This email is already in use","auth/operation-not-allowed":"Unknown error occured","auth/weak-password":"Your password is too weak"},b=function(){function t(t,e){var n=this;this.handleError=function(t){var e=t.code,i=n.getErrorText(e);throw new Error(i)},this.firebase=t,this._onLoggedIn=e}return t.prototype.login=function(t){var e=t.mail,n=t.password;return Object(i["b"])(this,void 0,void 0,function(){var t,r,o,s;return Object(i["d"])(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.firebase.auth().signInWithEmailAndPassword(e,n)];case 1:return t=i.sent(),r=t.user,o=t.additionalUserInfo,this.notify(r,o),[3,3];case 2:return s=i.sent(),this.handleError(s),[3,3];case 3:return[2]}})})},t.prototype.signup=function(t){var e=t.mail,n=t.password;return Object(i["b"])(this,void 0,void 0,function(){var t,r,o,s;return Object(i["d"])(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.firebase.auth().createUserWithEmailAndPassword(e,n)];case 1:return t=i.sent(),r=t.user,o=t.additionalUserInfo,this.notify(r,o),[3,3];case 2:return s=i.sent(),this.handleError(s),[3,3];case 3:return[2]}})})},t.prototype.sendResetEmail=function(t){return Object(i["b"])(this,void 0,void 0,function(){return Object(i["d"])(this,function(e){return[2,this.firebase.auth().sendPasswordResetEmail(t).catch(this.handleError)]})})},t.prototype.checkProviders=function(t){return Object(i["b"])(this,void 0,Promise,function(){var e,n,r;return Object(i["d"])(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.firebase.auth().fetchSignInMethodsForEmail(t)];case 1:return e=i.sent(),e.length?(n=e[0],[2,n]):[2,"signup"];case 2:return r=i.sent(),this.handleError(r),[3,3];case 3:return[2]}})})},t.prototype.getErrorText=function(t){return v.hasOwnProperty(t)?v[t]:"Unknown error occured!"},t.prototype.notify=function(t,e){"function"===typeof this._onLoggedIn&&this._onLoggedIn(t,e)},t}(),y=b,E=function(){function t(){var t=this;this.unsubscribe=null,this.onAuthStateChanged=function(e,n){if(t.log("onAuthStateChanged",e),e){var i={isAnonymous:e.isAnonymous,uid:e.uid,name:e.displayName,email:e.email,emailVerified:e.emailVerified,avatar:e.photoURL,providerId:n?n.providerId:"",isNewUser:!!n&&n.isNewUser};t.onLoggedIn(i)}else t.onNotLoggedIn()},this.onAuthStateChanged=g()(this.onAuthStateChanged,250,{leading:!0,trailing:!1})}return t.prototype.init=function(t,e,n){return Object(i["b"])(this,void 0,void 0,function(){return Object(i["d"])(this,function(i){switch(i.label){case 0:return this.firebase=t,this.$store=e,this.listeners=n,[4,this.load()];case 1:return i.sent(),this.mail=new y(t,this.onAuthStateChanged),[2,this.initAuth()]}})})},t.prototype.load=function(){return Object(i["b"])(this,void 0,void 0,function(){return Object(i["d"])(this,function(t){switch(t.label){case 0:return[4,Promise.all([n.e("firebase-app-firebase-auth-firebase-database-firebase-messaging"),n.e("firebase-auth")]).then(n.bind(null,"ea7b"))];case 1:return t.sent(),[2]}})})},t.prototype.initAuth=function(){var t=this;null!==this.unsubscribe&&this.unsubscribe(),this.unsubscribe=this.auth.onAuthStateChanged(this.onAuthStateChanged,function(e){return t.log(e)})},t.prototype.login=function(t){return"google"===t?this.loginGoogle():"facebook"===t?this.loginFacebook():Promise.reject()},t.prototype.loginGoogle=function(){var t=new this.firebase.auth.GoogleAuthProvider;return this.loginWithProvider(t)},t.prototype.loginFacebook=function(){var t=new this.firebase.auth.FacebookAuthProvider;return t.setCustomParameters({display:"popup"}),this.loginWithProvider(t)},t.prototype.loginWithProvider=function(t){return Object(i["b"])(this,void 0,void 0,function(){var e,n;return Object(i["d"])(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.auth.signInWithPopup(t)];case 1:return e=i.sent(),this.log(t.providerId,"login success",e),this.onAuthStateChanged(e.user,e.additionalUserInfo),[2,e];case 2:throw n=i.sent(),this.log(t.providerId,"login error",n),new Error(n.message);case 3:return[2]}})})},t.prototype.logout=function(){return Object(i["b"])(this,void 0,void 0,function(){var t;return Object(i["d"])(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.auth.signOut()];case 1:return e.sent(),this.onLoggedOut(),[3,3];case 2:throw t=e.sent(),this.log("logout error",t),new Error(t.message);case 3:return[2]}})})},t.prototype.onLoggedIn=function(t){this.$store.dispatch("loggedIn",t),this.listeners.onLogin()},t.prototype.onNotLoggedIn=function(){this.$store.dispatch("notLoggedIn")},t.prototype.onLoggedOut=function(){this.$store.dispatch("loggedOut"),this.initAuth(),this.listeners.onLogout()},Object.defineProperty(t.prototype,"auth",{get:function(){return this.firebase.auth()},enumerable:!0,configurable:!0}),t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a["o"].apply(void 0,Object(i["f"])(["firebase","[AUTH]"],t))},t}(),O=E,w=function(){function t(){}return t.prototype.init=function(t,e,n){return Object(i["b"])(this,void 0,void 0,function(){var r;return Object(i["d"])(this,function(i){switch(i.label){case 0:return[4,this.load()];case 1:return r=i.sent(),[4,n()];case 2:return i.sent(),this.handler=new r(t,e),[2]}})})},t.prototype.load=function(){return Object(i["b"])(this,void 0,void 0,function(){var t,e;return Object(i["d"])(this,function(n){switch(n.label){case 0:return[4,Promise.all([this.loadDatabase(),this.loadHandler()])];case 1:return t=n.sent(),e=t[1],[2,e]}})})},t.prototype.loadDatabase=function(){return Promise.all([n.e("firebase-app-firebase-auth-firebase-database-firebase-messaging"),n.e("firebase-database")]).then(n.bind(null,"66ce"))},t.prototype.loadHandler=function(){return Object(i["b"])(this,void 0,void 0,function(){var t;return Object(i["d"])(this,function(e){switch(e.label){case 0:return[4,n.e("firebase-database-handler").then(n.bind(null,"65f2"))];case 1:return t=e.sent(),[2,t.default]}})})},t.prototype.destroy=function(){this.handler&&this.handler.destroy(),this.handler=null},t}(),A=w,I=function(){function t(){var t=this;this.database=null,this.onLogin=function(){t.initDatabase()},this.onLogout=function(){t.database&&(t.database.destroy(),t.database=null)},this.reinitialize=function(){return t.app.reinitialize()}}return t.prototype.init=function(t){return Object(i["b"])(this,void 0,void 0,function(){var e=this;return Object(i["d"])(this,function(n){switch(n.label){case 0:return this.$store=t,this.app=new s,[4,this.app.init()];case 1:return n.sent(),this.auth=new O,this.auth.init(this.firebase,this.$store,{onLogin:this.onLogin,onLogout:this.onLogout}),this.notifications=new p,this.notifications.init(this.firebase,this.$store,function(t){return Object(i["b"])(e,void 0,void 0,function(){return Object(i["d"])(this,function(e){switch(e.label){case 0:return[4,this.initDatabase()];case 1:if(e.sent(),!this.database)throw new Error("database not initialized");return[2,this.database.handler.sendNotificationsToken(t)]}})})}),[2]}})})},t.prototype.initDatabase=function(){return Object(i["b"])(this,void 0,void 0,function(){return Object(i["d"])(this,function(t){switch(t.label){case 0:return this.database=new A,[4,this.database.init(this.firebase,this.$store,this.reinitialize)];case 1:return t.sent(),[2]}})})},Object.defineProperty(t.prototype,"firebase",{get:function(){return this.app.firebase},enumerable:!0,configurable:!0}),t}();e["a"]=new I},"6f84":function(t,e){},7543:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o});var i=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},r=function(t,e){return{x:t.x+e.width/2,y:t.y+e.height/2}},o=function(t,e,n,i,r){void 0===r&&(r="half");var o=t.x,s=t.y,a=o+e.width,u=s+e.height,c=i.width,l=i.height,d=n.x,h=d+c,f=n.y,p=f+l;return"touch"===r?(f>=s&&f<=u||p>=s&&p<=u||f<s&&p>u)&&(d>=o&&d<=a||h>=o&&h<=a||d<o&&h>a):o<d+c/2&&h-c/2<a&&s<f+l/2&&p-l/2<u}},7897:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var i=function(t){if(!t)return null;try{var e=localStorage.getItem(t);if(!e)return null;var n=JSON.parse(e);return n}catch(i){return null}},r=function(t,e){if(t)try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error(n)}}},"7d61":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i,r=n("53b2"),o=(i={},i[r["c"]]={middle:"fusion-core-come-back",end:"fusion-core-out"},i[r["g"]]={start:"background-in",end:"background-out",hideContent:"hide-popup-content",showContent:"hide-popup-content-timer",baseShow:"item-unlocked-show",baseHide:"item-unlocked-hide"},i[r["b"]]={delete:"dematerialize-core-in",end:"dematerialize-timer",encyclopedia:"materialize-core-out",encyclopediaId:"animation-final-encyclopedia"},i[r["a"]]={transitionMiddle:"transform",revertMiddle:"opacity"},i[r["e"]]={end:"ending-hide"},i[r["d"]]={middle:"cover-show",end:"completion-hide"},i)},"7fba":function(t,e,n){},"826a":function(t,e,n){"use strict";var i,r;n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),function(t){t["store"]="store",t["ad"]="ad"}(i||(i={})),function(t){t["item"]="item"}(r||(r={}))},"8d6a":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});n("9ab4");var i=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},r=function(t,e,n){}},"93e8":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i=function(t){var e=3,n=window.innerWidth/e,i=window.innerHeight/e,r=Math.floor(t.x/n),o=Math.floor(t.y/i);return{horizontal:r,vertical:o}},r=function(t){var e=i(t),n=e.horizontal,r=e.vertical;return{horizontal:n,vertical:r}},o=function(t){return"string"===typeof t}},"9b08":function(t,e,n){"use strict";n.d(e,"h",function(){return i}),n.d(e,"f",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"k",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return u}),n.d(e,"j",function(){return c}),n.d(e,"g",function(){return l}),n.d(e,"c",function(){return d}),n.d(e,"b",function(){return h}),n.d(e,"i",function(){return f});var i="sfx",r="music",o="connector",s="silence",a=1,u=2,c="static/audio/sfx/",l="static/audio/music/",d=3,h="audio-extension",f="GenericClick"},a097:function(t,e){},a407:function(t,e,n){"use strict";var i=n("9ab4"),r=n("ebe2"),o=n("d257"),s=n("0682"),a=n("53b2"),u=n("1663"),c=n("c380"),l=n("0ee2"),d=n("f75c"),h=function(t){var e=Object(d["a"])(t.getters.elements,t.getters.totalProgressElements,t.getters.hasInProgress);return e.filter(function(e){return!t.getters.hintIsActive(e)&&!t.getters.hasInProgress(e)})},f=n("2de2"),p=150,m=500,g=function(){function t(){}return t.prototype.init=function(t){this.$store=t,f["i"]&&u["a"].on("IAP_CONSUMABLE_OWNED",this.onHintBought)},t.prototype.setBilling=function(t){this.$store.dispatch("hintCurrent",{billing:t})},t.prototype.useHint=function(t){return void 0===t&&(t={type:r["HintType"].item}),this.isStoreBilling?this.handleStoreBilling(t):this.handleAdBilling(t)},t.prototype.handleStoreBilling=function(t){return u["a"].emit("HINT_USE","bought"),this.$store.getters.hintsRemaining<=0?Promise.reject():this.handleHintUsage(t)},t.prototype.handleAdBilling=function(t){return Object(i["b"])(this,void 0,Promise,function(){return Object(i["d"])(this,function(e){switch(e.label){case 0:if(!l["a"].areAvailable)return[2,Promise.reject()];u["a"].emit("HINT_USE","ad"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,c["a"].show()];case 2:return e.sent(),[2,this.handleHintUsage(t)];case 3:return e.sent(),this.isStoreBilling||this.$store.dispatch("hintCurrentClear"),[2,Promise.reject()];case 4:return[2]}})})},t.prototype.handleHintUsage=function(t){var e=t.type,n=null;return e!==r["HintType"].item?Promise.reject():(n=this.getItemHint(),n?(this.$store.dispatch("hintAdd",n),this.$store.dispatch("hintCurrent",n),this.showAnimation(),this.shouldBill&&this.$store.dispatch("hintsDecrement"),Promise.resolve()):Promise.reject())},t.prototype.getItemHint=function(){var t=this.getPossibleItemHints();if(!t.length)return null;var e,n=this.hasSpecialHint;return e=n?this.getSpecialItemHint(t):this.random(t),{elementId:e}},Object.defineProperty(t.prototype,"hasSpecialHint",{get:function(){var t=5,e=.5,n=this.isStoreBilling&&Math.random()>=e,i=this.$store.getters.sessionFailStreak>t,r=!1,o=n||i||r;return o&&Math.random()>=e},enumerable:!0,configurable:!0}),t.prototype.getSpecialItemHint=function(t){var e=this,n=t.map(function(t){return e.$store.getters.elementById(t)}).filter(s["b"]).sort(function(t,e){return e.children.length-t.children.length}).map(function(t){var e=t.id;return e}),i=3,r=n.slice(0,i);return this.random(r)},t.prototype.showAnimation=function(){return Object(i["b"])(this,void 0,void 0,function(){var t;return Object(i["d"])(this,function(e){switch(e.label){case 0:return[4,Object(o["c"])(p)];case 1:return e.sent(),this.$store.dispatch("animationChange",a["f"]),t=this.$store.getters.hintCurrent,[4,Object(o["c"])(m)];case 2:return e.sent(),u["a"].emit("ENCYCLOPEDIA_SHOW_ITEM",t.elementId),[2]}})})},t.prototype.getHint=function(t){return this.$store.getters.hintById(t)},t.prototype.getPossibleItemHints=function(){return h(this.$store)},Object.defineProperty(t.prototype,"isItemHintPossible",{get:function(){return!!this.getPossibleItemHints().length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStoreBilling",{get:function(){return this.$store.getters.hintBilling===r["HintBilling"].store},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldBill",{get:function(){return this.isStoreBilling},enumerable:!0,configurable:!0}),t.prototype.random=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},t}(),v=new g;e["a"]=v},a799:function(t,e,n){"use strict";var i=n("9ab4"),r=n("c2e2"),o=n("ded8"),s=n("54cb"),a=n("623d"),u=function(){function t(){}return t.prototype.init=function(t){this.$store=t},t.prototype.getDropMixResult=function(){if(!this.canMix)return null;var t=this.parents,e=Object(r["b"])(this.elements,t),n=!e.length,o={parents:t,children:e,positions:[]};if(n)return Object(i["a"])(Object(i["a"])({},o),{status:"mixFail"});var s=this.$store.getters.hasMixed(t);if(s)return Object(i["a"])(Object(i["a"])({},o),{status:"mixMixed"});var a=this.getChildrenPositions(e.length);return Object(i["a"])(Object(i["a"])({},o),{status:"mixNew",positions:a})},t.prototype.getBaseElementsMixResult=function(t){var e=s["a"].getRecentlyUnlockedIds();if(!e.length)return null;var n=t.concat(e),i=this.getChildrenPositions(n.length);return{base:e,children:n,positions:i}},t.prototype.getChildrenPositions=function(t){if(!this.father||!this.mother)return[];var e=[this.father.position,this.mother.position],n=this.$store.getters.workspaceBoxDimensions.width;return Object(r["a"])(e,n,t)},Object.defineProperty(t.prototype,"elements",{get:function(){return this.$store.getters.elements},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parents",{get:function(){return this.father&&this.mother?Object(o["c"])([this.father.elementId,this.mother.elementId]):[a["a"],a["a"]]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"father",{get:function(){return this.$store.getters.draggedElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mother",{get:function(){return this.$store.getters.draggingOverElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canMix",{get:function(){return!this.$store.getters.isMixingDisabled&&this.$store.getters.isOver&&this.$store.getters.isDragging&&!this.$store.getters.isOverStatic},enumerable:!0,configurable:!0}),t}();e["a"]=new u},ab1f:function(t,e){},b10a:function(t,e,n){"use strict";var i=n("9ab4"),r=n("d257"),o=n("7543"),s=n("199d"),a=n("c561"),u=n("2138"),c=n("1663"),l=20,d=10,h=function(){function t(){}return t.prototype.init=function(t){var e=this;this.$store=t,c["a"].on("ELEMENT_CLONE",function(t){return e.onCloned(t)})},t.prototype.onCloned=function(t){var e=this.getWorkspaceBoxById(t);if(e){Object(r["v"])(e);var n=e.__vue__;n.onClone()}},t.prototype.getCloneDirections=function(t,e){var n=1,i=-1;return t.x+e.width+d>=this.workspacePositionRight&&(n*=-1),t.y<=d&&(i*=-1),{x:n,y:i}},t.prototype.addToWorkspace=function(t){this.$store.dispatch("workspaceElementsAdd",[Object(i["a"])(Object(i["a"])({},a["a"]),{id:Object(s["a"])(t),elementId:t,position:this.calculateNewElementPosition()})])},t.prototype.calculateNewElementPosition=function(){var t=this.workspaceBoxDimensions.width+l,e=this.workspaceBoxDimensions.height+l,n=this.workspacePositionRight-t,i=this.height/2-e/2,r=0,o=i;while(o>0&&o<this.height){for(var s=n;s>0;s-=t)if(this.isEmptyPosition({x:s,y:o}))return{x:s,y:o};r*=-1,r>=0&&(r+=e),o=i+r}return{x:n,y:i}},t.prototype.isEmptyPosition=function(t){var e=this,n=this.$store.getters.droppables;return!n.some(function(n){return Object(o["c"])(n.position,e.workspaceBoxDimensions,t,e.workspaceBoxDimensions)})},t.prototype.getWorkspaceBoxById=function(t){var e=document.querySelector("#"+u["g"]+' [data-id="'+t+'"]');return e||null},Object.defineProperty(t.prototype,"workspacePositionRight",{get:function(){var t=this.$store.getters.droppableStaticById(u["e"]);return t.position.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return window.innerHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceBoxDimensions",{get:function(){return this.$store.getters.workspaceBoxDimensions},enumerable:!0,configurable:!0}),t}();e["a"]=new h},b2eb:function(t,e,n){"use strict";var i;n.r(e),n.d(e,"DELAY",function(){return r}),n.d(e,"HIDE_DURATION",function(){return o}),n.d(e,"SETTINGS",function(){return s}),n.d(e,"PROGRESS_RESET",function(){return a}),n.d(e,"LOGIN",function(){return u}),n.d(e,"ENCYCLOPEDIA",function(){return c}),n.d(e,"STORE",function(){return l}),n.d(e,"SYNC",function(){return d}),n.d(e,"NEWS",function(){return h}),n.d(e,"RATING_MAIN",function(){return f}),n.d(e,"RATING_REVIEW",function(){return p}),n.d(e,"RATING_FEEDBACK",function(){return m}),n.d(e,"HINTS",function(){return g}),n.d(e,"HINTS_STORE",function(){return v}),n.d(e,"ALL",function(){return b});var r=150,o=400,s="SETTINGS",a="PROGRESS_RESET",u="LOGIN",c="ENCYCLOPEDIA",l="STORE",d="SYNC",h="NEWS",f="RATING_MAIN",p="RATING_REVIEW",m="RATING_FEEDBACK",g="HINTS",v="HINTS_STORE",b=(i={},i[s]=s,i[a]=a,i[u]=u,i[c]=c,i[l]=l,i[f]=f,i[p]=p,i[m]=m,i[d]=d,i[h]=h,i[g]=g,i[v]=v,i)},b7ba:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i="new",r="fail",o="mixed"},c2e2:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return u});var i=n("da98"),r=function(t,e,n){var r=e[0],o=e[1],s=t[n];if(!Object(i["a"])(t,n)||!Object(i["b"])(s))return[];var a=s.parents.filter(function(t){var e=t[0],n=t[1];return r===e&&o===n}).length;return 0===a?[]:1===a?[n]:Array(a).fill(n)},o=function(t,e){var n=e[0],r=e[1];if(!Object(i["a"])(t,n)||!Object(i["a"])(t,r))return[];var o=t[n],s=t[r];if(n===r)return o.children;var a=[];return o.children.forEach(function(t){s.children.includes(t)&&(a.includes(t)||a.push(t))}),a},s=function(t,e){for(var n=[],i=o(t,e),s=i.length,a=0;a<s;++a){var u=r(t,e,i[a]);u.length&&(n=n.concat(u))}return n},a=.35,u=function(t,e,n){for(var i=t[0],r=t[1],o=function(t){var n=(i.y-r.y)/(i.x-r.x),o=e*a,s={x:(i.x+r.x)/2,y:(i.y+r.y)/2},u=s.x+Math.cos(Math.atan(-1/n))*t*o,c=s.y+Math.sin(Math.atan(-1/n))*t*o;return{x:Math.round(u),y:Math.round(c)}},s=[],u=Math.floor(n/2),c=-u;c<=u;c++)(0!==c||n%2)&&s.push(o(c));return s}},c380:function(t,e,n){"use strict";var i=n("9ab4"),r=n("ebe2"),o=n("8d6a"),s=n("2de2"),a=n("b2eb"),u=n("1663"),c={poki:function(){return n.e("provider-poki").then(n.bind(null,"c239")).then(function(t){return t.default})}},l=4e3,d=function(){function t(){this.providers={}}return t.prototype.init=function(t){return Object(i["b"])(this,void 0,void 0,function(){var e=this;return Object(i["d"])(this,function(n){switch(n.label){case 0:return this.$store=t,[4,u["a"].onReady()];case 1:return n.sent(),u["a"].once("PLAY",function(){return Object(i["b"])(e,void 0,void 0,function(){return Object(i["d"])(this,function(t){switch(t.label){case 0:return[4,this.setup()];case 1:return t.sent(),this.dispatchAdState(r["AdState"].INITIAL),[2]}})})}),[2]}})})},t.prototype.setup=function(){return Object(i["b"])(this,void 0,void 0,function(){return Object(i["d"])(this,function(t){switch(t.label){case 0:return[4,this.loadProviders()];case 1:return t.sent(),[4,this.initProviders()];case 2:return t.sent(),this.currentProvider=Object.values(this.providers)[0],[2]}})})},t.prototype.loadProviders=function(){var t=this;return Promise.all(s["a"].map(function(e){return Object(i["b"])(t,void 0,void 0,function(){var t;return Object(i["d"])(this,function(n){switch(n.label){case 0:return[4,c[e]()];case 1:return t=n.sent(),this.providers[e]=t,[2]}})})}))},t.prototype.initProviders=function(){return Promise.all(Object.values(this.providers).map(function(t){return t.init()}))},t.prototype.load=function(){return Object(i["b"])(this,void 0,void 0,function(){var t,e,n;return Object(i["d"])(this,function(i){switch(i.label){case 0:this.log("ad load"),this.chooseProvider(),this.dispatchAdState(r["AdState"].LOADING),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.currentProvider.load()];case 2:return i.sent(),this.dispatchAdState(r["AdState"].LOADED),this.log("ad loaded"),[3,4];case 3:throw t=i.sent(),e=t.error,n=r["AdState"].ERROR,this.dispatchAdState(n),new Error(e);case 4:return[2]}})})},t.prototype.chooseProvider=function(){this.state!==r["AdState"].LOADED&&(this.currentProvider=this.getRandomProvider(),this.log("provider",this.currentProvider.name))},t.prototype.show=function(){return Object(i["b"])(this,void 0,void 0,function(){var t;return Object(i["d"])(this,function(e){switch(e.label){case 0:this.log("show"),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,this.load()];case 2:if(e.sent(),!this.shouldShow)throw new Error;return this.dispatchAdState(r["AdState"].PLAYING),this.log("playing"),[4,this.currentProvider.show()];case 3:return e.sent(),this.log("played"),this.onSuccess(this.currentProvider.name),[3,5];case 4:throw t=e.sent(),this.log("playing error",t),this.state!==r["AdState"].ERROR&&this.state!==r["AdState"].ERROR_NO_FILL||this.onLoadError(),this.state===r["AdState"].PLAYING&&this.onDismiss(),new Error(t);case 5:return[2]}})})},t.prototype.reset=function(){this.dispatchAdState(r["AdState"].INITIAL)},t.prototype.onSuccess=function(t){this.$store.dispatch("adUsed"),this.reset(),u["a"].emit("AD_SUCCESS",t),this.log("onSuccess")},t.prototype.onDismiss=function(t){void 0===t&&(t=""),this.reset(),u["a"].emit("AD_DISMISSED",t),this.log("onDismiss")},t.prototype.onLoadError=function(){var t=this;window.setTimeout(function(){return t.reset()},l),u["a"].emit("AD_ERROR"),this.log("onLoadError")},t.prototype.dispatchAdState=function(t){this.$store.dispatch("adState",t)},t.prototype.getRandomProvider=function(){var t=Object.values(this.providers),e=Math.floor(Math.random()*t.length);return t[e]},Object.defineProperty(t.prototype,"shouldShow",{get:function(){return this.$store.getters.isPopupWithNameActive(a["HINTS"])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.$store.getters.adState},enumerable:!0,configurable:!0}),t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o["a"].apply(void 0,Object(i["f"])(["ad_manager"],t))},t}(),h=new d;window.__AD=h;e["a"]=h},c55c:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="encyclopediaFrame"},c561:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={id:"",elementId:"",position:{x:0,y:-500}}},c97d:function(t,e,n){"use strict";var i=n("9ab4"),r=n("623d"),o=n("1663"),s=n("d257"),a=n("0347"),u=n("5d96"),c=function(){function t(){this._callback=null}return t.prototype.init=function(t){return this.element=t,this.element.style.WebkitOverflowScrolling="touch",this.element.style.overflowY="scroll",this.element.style.overflowX="hidden",this.element.style.transform="translateZ(0)",Promise.resolve()},t.prototype.reinitialize=function(){return Promise.resolve()},t.prototype.enable=function(){this.element.style.overflow="scroll"},t.prototype.disable=function(){this.element.style.overflow="hidden"},t.prototype.onScroll=function(t){var e=this;this._callback=function(){return t({y:e.element.scrollTop})},this.element.addEventListener("scroll",this._callback,u["a"])},t.prototype.offScroll=function(){this._callback&&(this.element.removeEventListener("scroll",this._callback),this._callback=null)},t.prototype.scrollTo=function(t,e){void 0===e&&(e=350),Object(s["x"])(this.element,t,e)},Object.defineProperty(t.prototype,"type",{get:function(){return"native"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.element.scrollTop},enumerable:!0,configurable:!0}),t.prototype.onResize=function(){"function"===typeof this._callback&&this._callback()},t.prototype.refresh=function(){},t}(),l=c,d=n("0f32"),h=n.n(d),f=n("152b"),p=10,m=function(){function t(){this._callback=null}return t.prototype.init=function(t){return Object(i["b"])(this,void 0,void 0,function(){return Object(i["d"])(this,function(e){switch(e.label){case 0:return[4,this.initInstance(t)];case 1:return e.sent(),this.initMouseOutHandling(),[2]}})})},t.prototype.initInstance=function(t){return Object(i["b"])(this,void 0,void 0,function(){var e;return Object(i["d"])(this,function(n){switch(n.label){case 0:return[4,this.load()];case 1:return e=n.sent(),this.iscroll=new e("#"+t.id,{bindToWrapper:!1,mouseWheel:!0,deceleration:.0011,resizePolling:2e3,disablePointer:!0,disableMouse:!1,disableTouch:!1,bounceTime:300,probeType:3}),[2,this.iscroll]}})})},t.prototype.load=function(){return Object(i["b"])(this,void 0,void 0,function(){var t;return Object(i["d"])(this,function(e){switch(e.label){case 0:return[4,n.e("iscroll").then(n.bind(null,"a59a"))];case 1:return t=e.sent(),[2,t.default]}})})},t.prototype.initMouseOutHandling=function(){var t=this;document.addEventListener("mouseout",function(e){var n=e.relatedTarget||e.toElement;n&&"HTML"!==n.nodeName||Object(f["c"])(t.iscroll.wrapper)},!1)},t.prototype.reinitialize=function(){return Object(i["b"])(this,void 0,void 0,function(){var t;return Object(i["d"])(this,function(e){return this.iscroll?(t=this.iscroll.wrapper,this.iscroll.destroy(),[2,this.initInstance(t)]):[2,Promise.reject()]})})},t.prototype.enable=function(){this.iscroll&&(this.iscroll.initiated=!1,this.iscroll.enable())},t.prototype.disable=function(){this.iscroll&&this.iscroll.disable&&this.iscroll.disable()},t.prototype.onScroll=function(t){var e=this;this._callback=h()(function(){var n=-1*Math.round(e.iscroll.y);n+e.iscroll.wrapperHeight>e.iscroll.scrollerHeight||t({y:n})},p),this.iscroll.on("scroll",this._callback)},t.prototype.offScroll=function(){this.iscroll&&this.iscroll.off("scroll",this._callback)},t.prototype.scrollTo=function(t,e){void 0===e&&(e=350),this.iscroll&&this.iscroll.scrollTo(0,-t,e)},Object.defineProperty(t.prototype,"type",{get:function(){return"iscroll"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.iscroll?-this.iscroll.y:0},enumerable:!0,configurable:!0}),t.prototype.refresh=function(t){this.iscroll&&this.iscroll.refresh(!0,t)},t.prototype.onResize=function(){"function"===typeof this._callback&&this._callback()},t}(),g=m,v=Object(a["a"])(navigator.userAgent).any,b=function(){function t(){var t=this;this.initiated=!1,this.position=0,this.init=function(){return Object(i["b"])(t,void 0,void 0,function(){var t=this;return Object(i["d"])(this,function(e){switch(e.label){case 0:return this.hasNativeSupport()?this._handler=new l:this._handler=new g,[4,this.handler.init(this.scrollerElement)];case 1:return e.sent(),this.notify(),this.setScrollClass(),o["a"].on("RESIZE",function(){return t.handler.onResize()}),[2]}})})},o["a"].once("LIBRARY_RENDERED",this.init)}return t.prototype.onInit=function(){return this.initiated?Promise.resolve():new Promise(function(t){return o["a"].once("SCROLL_INITIATED",t)})},t.prototype.hasNativeSupport=function(){var t="Chrome"===s["d"].browser.name&&s["d"].browser&&s["d"].browser.major&&+s["d"].browser.major>25,e="WebkitOverflowScrolling"in document.documentElement.style,n=t||e,i=s["d"].os.version||"0.0",r="android"===s["d"].os.name&&!!i.split(".").length&&+i.split(".")[0]<5,o=n&&v&&!r;return o},t.prototype.notify=function(){this.initiated=!0,o["a"].emit("SCROLL_INITIATED")},t.prototype.setScrollClass=function(){var t=this.isNative?"native":"iscroll";this.scrollerElement.classList.add(t)},t.prototype.scrollTop=function(t){void 0===t&&(t=150),this.handler.scrollTo(0,t)},t.prototype.savePosition=function(){this.position=this.handler.y},t.prototype.applyPosition=function(){this.handler.scrollTo(this.position,0),this.handler.onResize()},Object.defineProperty(t.prototype,"scrollerElement",{get:function(){return document.querySelector("#"+r["b"])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handler",{get:function(){return this._handler},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNative",{get:function(){return"native"===this.handler.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isIScroll",{get:function(){return"iscroll"===this.handler.type},enumerable:!0,configurable:!0}),t}(),y=new b;e["a"]=y},cd49:function(t,e,n){"use strict";n.r(e);n("bf2c"),n("1067"),n("4e28"),n("a960"),n("2929");var i,r=n("2b0e"),o=n("5c57"),s=n("d257"),a=n("6e2e"),u=n("9ab4"),c=n("da98"),l=n("2e77"),d=n.n(l),h=function(){function t(){}return t.prototype.loadBase=function(){return Object(u["b"])(this,void 0,void 0,function(){var t,e;return Object(u["d"])(this,function(n){switch(n.label){case 0:return[4,this.fetchBase()];case 1:return t=n.sent(),e={},Object.entries(t).forEach(function(t){var n=t[0],i=t[1];e[n]=Object(c["c"])(i,n)}),[2,e]}})})},t.prototype.fetchBase=function(){return Promise.resolve(d.a)},t.prototype.loadDescriptions=function(){return Object(u["b"])(this,void 0,Promise,function(){var t;return Object(u["d"])(this,function(e){switch(e.label){case 0:return[4,this.fetchDescriptions()];case 1:return t=e.sent(),[2,t]}})})},t.prototype.fetchDescriptions=function(){return Object(u["b"])(this,void 0,void 0,function(){var t;return Object(u["d"])(this,function(e){switch(e.label){case 0:return[4,n.e("descriptions").then(n.t.bind(null,"afd0",7))];case 1:return t=e.sent(),[2,t.default]}})})},t.prototype.loadTags=function(){return Object(u["b"])(this,void 0,Promise,function(){var t;return Object(u["d"])(this,function(e){switch(e.label){case 0:return[4,this.fetchTags()];case 1:return t=e.sent(),[2,t]}})})},t.prototype.fetchTags=function(){return Object(u["b"])(this,void 0,void 0,function(){var t;return Object(u["d"])(this,function(e){switch(e.label){case 0:return[4,n.e("tags").then(n.t.bind(null,"b9f0",7))];case 1:return t=e.sent(),[2,t.default]}})})},t}(),f=h,p=n("54cb"),m=n("1663"),g=n("80b0"),v=n.n(g),b=n("7897"),y=n("b2eb"),E=n("2de2"),O={id:"",offline:!1,immediate:!1,title:"",img:"",text:"",conditions:[],action:null,timestamp:Date.now()},w=n("29f9"),A="./public/news/v1/w",I="news",S=1,T=3*w["a"],_=300,x=function(){function t(){var t=this;this._promise=null,this.initContent=function(){return Object(u["b"])(t,void 0,void 0,function(){var t,e;return Object(u["d"])(this,function(n){switch(n.label){case 0:return this.fetch().then(this.fillCache),this.$store.getters.sessionsCount<=S?[2]:[4,this.load()];case 1:return t=n.sent(),e=this.getNewsToShow(this.prepare(t)),e?(this.show(e),[2]):[2]}})})},this.fillCache=function(e){void 0===e&&(e=[]);var n=!1,i=t.cached.map(function(t){var e=t.id;return e});e&&Array.isArray(e)&&e.forEach(function(e){i.includes(e.id)||t.shown.includes(e.id)||("boolean"===typeof e.clear&&e.clear&&(n=!0),t.cached.push(e))}),t.cached=n?[]:t.cached.filter(function(e){var n=e.id;return!t.shown.includes(n)}),t.save()},this.shown=this.storage.shown||[],this.cached=this.storage.cached||[],this.lastShownTimestamp=this.storage.timestamp||-1}return t.prototype.init=function(t){this.$store=t,m["a"].once("LIBRARY_RENDERED",this.initContent)},t.prototype.load=function(){var t=this,e=function(){return Object(u["b"])(t,void 0,Promise,function(){return Object(u["d"])(this,function(t){switch(t.label){case 0:return[4,Object(s["c"])(_)];case 1:return t.sent(),[2,this.cached]}})})};return Promise.race([this.fetch(),e()])},t.prototype.prepare=function(t){var e=this;return t?t.map(function(t){return Object(u["a"])(Object(u["a"])({},O),t)}).filter(function(t){var n=t.id,i=t.offline,r=t.conditions,o=e.shown.includes(n);if(o)return!1;var s=e.isOffline&&i||!e.isOffline,a=e.checkConditions(r);return a&&s}):[]},t.prototype.getNewsToShow=function(t){if(!t||!t.length)return null;var e=t.find(function(t){var e=t.immediate;return e});if(e)return e;var n=Date.now()-this.lastShownTimestamp;if(n<T)return null;var i=t[0];return i.clear?null:i},t.prototype.show=function(t){var e=this;v()(function(){return e.$store.dispatch("popupShowWithData",{name:y["NEWS"],data:t})}),m["a"].once("PLAY",function(){e.shown.push(t.id),e.lastShownTimestamp=Date.now(),e.save()})},t.prototype.checkConditions=function(t){var e=this,n={versionEq:function(t){return t===E["n"]},versionGt:function(t){var e=E["n"].split("."),n=t.split(".");return n.some(function(t,n){return+t<+e[n]})},versionLt:function(t){var e=E["n"].split("."),n=t.split(".");return n.some(function(t,n){return+t>+e[n]})},expired:function(t){return Date.now()<=t},after:function(t){return e.shown.includes(t)}};return t.every(function(t){var e=t.type,i=t.value;return!n.hasOwnProperty(e)||n[e](i)})},t.prototype.save=function(){Object(b["b"])(I,{shown:this.shown,cached:this.cached,timestamp:this.lastShownTimestamp})},t.prototype.fetch=function(){return null!==this._promise?this._promise:(this._promise=Object(s["e"])(A),this._promise)},Object.defineProperty(t.prototype,"storage",{get:function(){return Object(b["a"])(I)||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOffline",{get:function(){return!this.$store.getters.online},enumerable:!0,configurable:!0}),t}(),P=new x,C=n("c55c"),R=n("0682"),D=n("b10a"),L={addToWorkspace:function(t){var e=t.id;return D["a"].addToWorkspace(e)}},N=L,j=n("152b"),k=function(t,e,n){return Object(u["a"])({trigger:t,command:e},n)},M=[k("ENCYCLOPEDIA_ELEMENTS","elements",{prepare:function(){return{elements:a["a"].elements}}}),k("ENCYCLOPEDIA_TAGS","tags",{prepare:function(){return{tags:a["a"].tags}}}),k("ENCYCLOPEDIA_DESCRIPTIONS","descriptions",{prepare:function(){return{descriptions:a["a"].descriptions}}}),k("ENCYCLOPEDIA_SHOW_ITEM","showItem",{prepare:function(t,e){return{id:e}},callback:function(t){return Object(u["b"])(void 0,void 0,void 0,function(){return Object(u["d"])(this,function(e){switch(e.label){case 0:return Object(j["c"])(document.body,"longpress"),[4,Object(s["c"])(60)];case 1:return e.sent(),t.dispatch("popupShow",y["ENCYCLOPEDIA"]),[2]}})})}}),k("ENCYCLOPEDIA_SHOW_HELP","showHelp",{prepare:function(t,e){return{id:e}},callback:function(t){return Object(u["b"])(void 0,void 0,void 0,function(){return Object(u["d"])(this,function(e){switch(e.label){case 0:return[4,Object(s["c"])(60)];case 1:return e.sent(),t.dispatch("popupShow",y["ENCYCLOPEDIA"]),[2]}})})}}),k("ENCYCLOPEDIA_POPUP_HIDE","hiding",{callback:function(){document.activeElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()}}),k("PROGRESS_RESET","reset",{}),k("ENCYCLOPEDIA_MIX_BASE","mixBase",{prepare:function(t,e){return{elements:e}}}),k("ENCYCLOPEDIA_MIX_NEW","mixNew",{prepare:function(t,e){var n=e.parents.filter(function(e){return t.getters.elementIsExhausted(e)});return Object(u["a"])(Object(u["a"])({},e),{exhausted:n})}}),k("ENCYCLOPEDIA_PROGRESS_ANALYZED","progress",{prepare:function(t){var e=t.getters.totalProgressElements.filter(function(e){return t.getters.elementIsExhausted(e)});return{history:t.getters.history,progress:t.getters.progress,timestamps:t.getters.total,prime:t.getters.prime,base:t.getters.base,final:t.getters.final,exhausted:e}}}),k("ENCYCLOPEDIA_READY","hints",{prepare:function(t){return{hints:t.getters.hintsActive}}}),k("ENCYCLOPEDIA_SEND_HINTS","hints",{prepare:function(t){return{hints:t.getters.hintsActive}}})],H=M,B=function(){function t(){var t=this;this.saved=[],this.loaded=!1,this.onMessageReceived=function(e){if(e.data&&e.data.length){0;var n=t.parseJSON(e.data);n&&t.onMessage(n)}}}return t.prototype.init=function(t){this.$store=t,window.addEventListener("message",this.onMessageReceived,!1),this.initCommands()},t.prototype.initCommands=function(){var t=this;H.forEach(function(e){m["a"].on(e.trigger,function(n){var i={};Object(R["a"])(e.prepare)&&(i=e.prepare(t.$store,n)),t.post(e.command,i),Object(R["a"])(e.callback)&&e.callback(t.$store)})})},t.prototype.onMessage=function(t){var e=t.command,n=t.data;this.log("onMessage",e,n),"ready"!==e?N.hasOwnProperty(e)&&N[e](n):this.onReady()},t.prototype.onReady=function(){var t=this;this.log("ready"),this.loaded=!0,this.saved.forEach(function(e){return t.post.apply(t,e)}),this.saved=[],m["a"].emit("ENCYCLOPEDIA_READY"),this.post("version",{version:E["n"]}),this.post("userAgent",{browser:s["d"].browser.name})},t.prototype.post=function(t,e){if(void 0===e&&(e={}),!this.loaded)return this.log("post save",t,e),void this.saved.push([t,e]);if(this.iframe){var n={command:t,data:e};this.log("post",t,e),this.iframe.postMessage(JSON.stringify(n),"*")}},t.prototype.parseJSON=function(t){try{return JSON.parse(t)}catch(e){return null}},Object.defineProperty(t.prototype,"iframe",{get:function(){var t=document.getElementById(C["a"]);return t?t.contentWindow:null},enumerable:!0,configurable:!0}),t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s["o"].apply(void 0,Object(u["f"])(["encyclopedia"],t))},t}(),$=new B,F=function(){if(!Object(s["m"])()){var t="proper-hover";document.body.classList.add(t)}if(Object(s["m"])()&&Object(s["n"])()){document.addEventListener("gestureend",function(t){t.scale&&1!==t.scale&&t.preventDefault()},!1),document.addEventListener("touchmove",function(t){t.scale&&1!==t.scale&&t.preventDefault()},!1);var e=0;document.addEventListener("touchend",function(t){var n=Date.now();n-e<=300&&t.preventDefault(),e=n},!1)}},G=[F],U=function(){function t(){}return t.prototype.init=function(){this.applyChanges(),this.disableContextMenu(),this.addCommitHelpers()},t.prototype.applyChanges=function(){G.forEach(function(t){return t()})},t.prototype.disableContextMenu=function(){document.oncontextmenu=function(){return!1}},t.prototype.addCommitHelpers=function(){window.__COMMIT_HASH=function(){return{short:"e7dbcab",hash:"e7dbcabef73dea63f6a37423b006258aba5a7e6c",date:"2021-10-19T09:08:19.000Z",branch:"poki",message:"set game id"}.short}},t}(),W=new U,Y=n("3b56");(function(t){t["Intro"]="INTRO",t["Mix"]="MIX",t["Guide"]="GUIDE"})(i||(i={}));var z,K=.6,X=function(){return o["a"].getters.droppablesActive},V=[{name:i.Intro,check:function(){return!o["a"].getters.hasProgress},next:i.Mix,hide:function(){return m["a"].then("ELEMENT_DROP")}},{name:i.Mix,check:function(){return!o["a"].getters.hasProgress&&1===o["a"].getters.droppablesActive.length},next:i.Guide,hide:function(){return new Promise(function(t){var e=function(){X().length<2||(m["a"].off("ELEMENT_DROP",e),m["a"].off("MIX_NEW",e),t())};m["a"].on("ELEMENT_DROP",e),m["a"].once("MIX_NEW",e)})}},{name:i.Guide,check:function(){return!o["a"].getters.hasProgress&&2===X().length},hide:function(){return new Promise(function(t){var e,n=function(){m["a"].off("ELEMENT_DESTROY",e),m["a"].off("MIX_NEW",n),t()};e=function(){X().length>=1||n()},m["a"].on("ELEMENT_DESTROY",e),m["a"].once("MIX_NEW",n)})}}],q=function(){function t(){var t=this;this.check=function(){if(o["a"].getters.isLoggedIn)m["a"].emit("TUTORIALS_FINISHED");else{var e=V.find(function(t){return t.check()})||null;e?t.show(e):m["a"].emit("TUTORIALS_FINISHED")}},this.notifyIfFinished=function(){var t=o["a"].getters.isLoggedIn,e=V.some(function(t){return t.check()});!t&&e||o["a"].commit("TUTORIALS_FINISHED")},this.reset=function(){t.hide(),o["a"].dispatch("tutorialsFinished"),m["a"].off("PLAY",t.check),m["a"].off("WORKSPACE_CLEAR",t.reset),m["a"].off("LOGGED_IN",t.reset)}}return t.prototype.init=function(){m["a"].once("PLAY",this.check),m["a"].once("WORKSPACE_CLEAR",this.reset),m["a"].once("LOGGED_IN",this.reset),m["a"].onReady().then(this.notifyIfFinished)},t.prototype.show=function(t){var e=this;o["a"].dispatch("tutorialShow",t.name),m["a"].emit("TUTORIALS_PROGRESS",{type:"start",name:t.name}),t.hide().then(function(){var n=e.getNext();e.hide(),m["a"].emit("TUTORIALS_PROGRESS",{type:"end",name:t.name}),n?e.showNext(n):window.setTimeout(function(){return o["a"].dispatch("tutorialsFinished")},1e3*K)})},t.prototype.getNext=function(t){if(void 0===t&&(t=this.current),!t||!t.hasOwnProperty("next"))return null;var e=this.getByName(t.next);return e&&e.check()?e:null},t.prototype.showNext=function(t){var e=this;t&&window.setTimeout(function(){if(t.check())e.show(t);else{var n=e.getNext(t);n?e.showNext(n):e.reset()}},1e3*K)},t.prototype.hide=function(){o["a"].dispatch("tutorialHide")},Object.defineProperty(t.prototype,"current",{get:function(){var t=o["a"].getters.tutorial;return t?this.getByName(t):null},enumerable:!0,configurable:!0}),t.prototype.getByName=function(t){return V.find(function(e){return e.name===t})},t}(),Q=new q,J=n("6953"),Z=n("2540"),tt=n("5d96"),et=n("571d"),nt=0,it=n("7543"),rt=function(t){return t.target&&t.target.parentElement&&t.target.parentElement.classList&&t.target.parentElement.classList.contains("element")},ot=2,st=600,at=30,ut=0,ct=null,lt=null,dt=null,ht=null,ft=null,pt=function(){if(lt){var t=document.createEvent("Event");t.initEvent("doubletap",!0,!0),lt.dispatchEvent(t)}},mt=function(){clearTimeout(ct),ct=null,ut=0,lt=null,ft=null,dt=null,ht=null},gt=function(t){t.simulated||"mousedown"===t.type&&t.button!==nt||null!==ht&&ht!==t.type||null!==lt&&lt!==t.target||rt(t)&&(lt=t.target,ht=t.type,clearTimeout(ct),ct=window.setTimeout(mt,st),0!==ut||ft||(ft={x:t.pageX,y:t.pageY}))},vt=function(t){if(!t.simulated&&("mouseup"!==t.type||t.button===nt)&&(null===dt||dt===t.type)&&(null===lt||lt===t.target)&&rt(t))if(ft){var e=Object(it["a"])(ft,{x:t.pageX,y:t.pageY});e>at?mt():(dt=t.type,clearTimeout(ct),ct=window.setTimeout(mt,st),ut++,ut===ot&&(pt(),mt()))}else mt()},bt=1e3,yt=2,Et=null,Ot=null,wt=null,At=null,It=null,St=function(){document.removeEventListener(It+"move",z,!1),clearTimeout(Ot),Ot=null,Et=null,It=null},Tt=function(){if(Et){var t=document.createEvent("Event");t.initEvent("longpress",!0,!0),Et.dispatchEvent(t),St()}else St()},_t=function(){if(!At||!wt)return 0;var t=Object(it["a"])(At,wt);return t<=yt},xt=function(t){t.simulated||(null===It||t.type.includes(It))&&("mousedown"!==t.type&&"pointerdown"!==t.type||t.button===nt)&&rt(t)&&(Et=t.target,It=t.type.replace("down","").replace("start",""),wt={x:t.pageX,y:t.pageY},At=wt,Ot=window.setTimeout(function(){_t()?Tt():St()},bt),z=function(t){Ot&&(At={x:t.pageX,y:t.pageY})},document.addEventListener(It+"move",z,!1))},Pt=function(t){(null===It||t.type.includes(It))&&St()},Ct=function(){function t(){this.onDown=this.onDown.bind(this),this.onUp=this.onUp.bind(this)}return t.prototype.init=function(){var t=this;et["d"].forEach(function(e){document.addEventListener(e,t.onDown,tt["a"])}),et["e"].forEach(function(e){document.addEventListener(e,t.onUp,tt["a"])})},t.prototype.onDown=function(t){gt(t),xt(t)},t.prototype.onUp=function(t){vt(t),Pt(t)},t}(),Rt=new Ct,Dt=n("c97d"),Lt=function(){function t(){}return t.prototype.init=function(t){this.$store=t},t.prototype.onDragStart=function(t){null!==t&&(Dt["a"].handler.disable(),this.$store.dispatch("dragStart",t))},t.prototype.onDragEnd=function(t,e){void 0===e&&(e=!1),Dt["a"].handler.enable(),this.$store.dispatch("dragEnd",{position:t,simulated:e})},t.prototype.onLibraryDistanceDragged=function(t,e,n,i,r){return Object(u["b"])(this,void 0,void 0,function(){var o,a,c;return Object(u["d"])(this,function(u){switch(u.label){case 0:return Dt["a"].handler.disable(),o=this.calculatePosition(e,n,i),a=this.$store.getters.draggableHelperId,c=this.$store.getters.draggableHelperElement,c&&this.getWorkspaceBoxElement(a)?[3,2]:(this.$store.commit("DRAGGABLE_HELPER_RESET"),this.$store.dispatch("draggableHelperAdd",!0),a=this.$store.getters.draggableHelperId,c=this.$store.getters.draggableHelperElement,[4,Object(s["p"])()]);case 1:u.sent(),u.label=2;case 2:return this.$store.commit("DRAGGABLE_HELPER_PREPARE",{helper:c,elementId:t,position:o}),this.$store.commit("DRAGGABLE_HELPER_RESET"),this.simulateStartDrag({id:a,dragPoint:n,startEventType:r}),[2]}})})},t.prototype.calculatePosition=function(t,e,n){var i=this.$store.getters.workspaceBoxDimensions,r=this.$store.getters.libraryBoxDimensions,o=Object(u["a"])({},n),s=this.$store.getters.libraryBoxMargin,a=i.width!==r.width,c=i.height!==r.height;if(a||c){var l=i.width/r.width,d=i.height/r.height,h=l*(t.x-n.x),f=d*(t.y-n.y),p=e.x-t.x,m=e.y-t.y;o.x=t.x-h+l*s+p,o.y=t.y-f+m}return o},t.prototype.simulateStartDrag=function(t){var e=t.id,n=t.dragPoint,i=n.x,r=n.y,o=t.startEventType,s={cancelable:!1,simulated:!0,pageX:i,pageY:r,clientX:i,clientY:r,startEventType:o},a=this.getWorkspaceBoxElement(e);if(!a)throw new Error("DragManager.simulateStartDrag - empty helper");var u=a.__vue__;u&&(u.updateDraggablePosition(),u.draggable.dragStart(s,s))},t.prototype.getWorkspaceBoxElement=function(t){return document.querySelector('#workspace [data-id="'+t+'"]')},Object.defineProperty(t.prototype,"isDragging",{get:function(){return this.$store.getters.isDragging},enumerable:!0,configurable:!0}),t}(),Nt=new Lt,jt=n("d0c4"),kt=function(){function t(){}return t.prototype.init=function(t){var e=this;this.$store=t,m["a"].once("PLAY",function(){return e.setInitial()})},t.prototype.setInitial=function(){this.$store.dispatch("statsSessionsCount"),this.$store.dispatch("statsInitialProgress")},t}(),Mt=new kt,Ht="./static/online",Bt=function(){function t(){}return t.prototype.init=function(t){this.$store=t,this.initEvents(),this.isOnline()},t.prototype.initEvents=function(){var t=this;window.addEventListener("online",function(){return t.notify(!0)}),window.addEventListener("offline",function(){return t.notify(!1)})},t.prototype.isOnline=function(){var t=this,e=navigator.onLine;return e?this.testConnection().then(function(e){return t.notify(e)}):(this.notify(!1),Promise.reject())},t.prototype.notify=function(t){var e=t?"ONLINE":"OFFLINE";m["a"].emit(e);var n=t?"online":"offline";return this.$store.dispatch(n),t},t.prototype.testConnection=function(){return new Promise(function(t){var e=new XMLHttpRequest;e.open("HEAD",Ht),e.send(),e.onprogress=function(){return t(!0)},e.onload=function(){return t(!0)},e.onerror=function(){return t(!1)}})},t}(),$t=new Bt,Ft=n("a799"),Gt=1050,Ut=function(){function t(){}return t.prototype.init=function(t){this.$store=t},t.prototype.startExhausted=function(t){var e=this;this.$store.dispatch("animationExhaustedStart",t),window.setTimeout(function(){e.$store.dispatch("animationExhaustedFinished",t),e.$store.dispatch("animationReset")},Gt),this.startFinal(t)},t.prototype.startFinal=function(t){this.$store.dispatch("animationFinalStart",t)},t}(),Wt=new Ut,Yt=function(){function t(){var t=this;this.onShow=function(){t.$store.commit("VISIBILITY",!0)},this.onHide=function(){t.$store.commit("VISIBILITY",!1)}}return t.prototype.init=function(t){this.$store=t,m["a"].on("BLUR",this.onHide),m["a"].on("FOCUS",this.onShow),m["a"].on("VISIBILITY_HIDDEN",this.onHide),m["a"].on("VISIBILITY_VISIBLE",this.onShow)},t}(),zt=new Yt,Kt=n("db96"),Xt=n("6eeb"),Vt={logged_in:"dimension1",music_active:"dimension2",sfx_active:"dimension3",engagement:"dimension4",progress:"dimension5"},qt={game_ready_timing:"metric1",session_progress:"metric2",total_progress:"metric3",fails_on_hints_click:"metric4"},Qt=["4","5","6","10","20","30","50","75","100","150","200","250","300","400","500"],Jt=function(t){var e=Qt.findIndex(function(e){return!(+e<=t)})||-1;return-1===e?null:Qt[e-1]},Zt=function(t,e){return{trigger:t,handle:e}},te=function(t,e){return{watcher:t,handle:e}},ee=[Zt("ANALYTICS_INIT",function(t){var e=t.send;return e("metrics","game_ready",null,null,null,!0)}),Zt("PLAY",function(t){var e=t.send;return e("metrics","play_clicked")}),Zt("MIX_NEW",function(t){var e=t.send,n=t.$store;return Object(u["b"])(void 0,void 0,void 0,function(){var t,i;return Object(u["d"])(this,function(r){switch(r.label){case 0:return[4,Object(s["c"])(500)];case 1:return r.sent(),t=n.getters.totalProgress,i=Jt(t),i&&e("metrics","total_progress",i,+i),[2]}})})}),Zt("TUTORIALS_FINISHED",function(t){var e=t.send;return e("metrics","tutorials_finished")}),Zt("HINTS_CLICKED",function(t){var e=t.send,n=t.$store;e("metrics","hints_clicked"),e("user","opens hints - fails streak",n.getters.sessionFailStreak)}),Zt("UNLOAD",function(t){var e=t.send,n=t.$store;return e("user","leaves - fails streak",n.getters.sessionFailStreak)})],ne=ee,ie=[Zt("ANALYTICS_INIT",function(t){var e=t.set,n=t.$store;e("game_ready_timing",Math.round(window.performance.now())),e("music_active",n.state.settings.music),e("sfx_active",n.state.settings.sfx),n.getters.totalProgress===n.getters.prime.length&&e("engagement","game_ready")}),Zt("PLAY",function(t){var e=t.set,n=t.$store,i=n.getters.totalProgress,r=n.getters.prime.length;i===r?e("engagement","play_clicked"):i===r+1?e("engagement","tutorials_finished"):i>=r+2&&e("engagement","own_element");var o=Jt(i);o&&e("progress",o)}),Zt("MIX_NEW",function(t){var e=t.set,n=t.$store;return Object(u["b"])(void 0,void 0,void 0,function(){var t,i,r,o;return Object(u["d"])(this,function(a){switch(a.label){case 0:return[4,Object(s["c"])(500)];case 1:return a.sent(),t=n.getters.sessionStats.initialProgress,i=n.getters.totalProgress,r=i-t,e("session_progress",r),i===n.getters.prime.length+2&&e("engagement","own_element"),o=Jt(i),o&&e("progress",o),[2]}})})}),Zt("LOGGED_IN",function(t){var e=t.set;return e("logged_in",!0)}),Zt("NOT_LOGGED_IN",function(t){var e=t.set;return e("logged_in",!1)}),Zt("TUTORIALS_FINISHED",function(t){var e=t.set;return e("engagement","tutorials_finished")}),Zt("TUTORIALS_PROGRESS",function(t,e){var n=t.set,i=e.type,r=e.name;return n("engagement","tutorial_"+i+"_"+r)}),Zt("ANIMATION_NEW_POP",function(t){var e=t.set,n=t.$store;n.getters.totalProgress>5||e("engagement","first_new_animation_pop")}),Zt("ANIMATION_NEW_END",function(t){var e=t.set,n=t.$store;n.getters.totalProgress>5||e("engagement","first_new_animation_end")}),Zt("HINTS_CLICKED",function(t){var e=t.set;return e("engagement","hints_clicked")}),Zt("GAME_ENDED",function(t){var e=t.set;return e("engagement","game_ended")}),Zt("GAME_COMPLETED",function(t){var e=t.set;return e("engagement","game_completed")})],re=[te(function(t){return t.playMusic},function(t,e){var n=t.set;return n("music_active",e)}),te(function(t){return t.playSfx},function(t,e){var n=t.set;return n("sfx_active",e)})],oe=Object(u["f"])(ie,re),se=oe,ae=[Zt("GAME_READY",function(t){var e=t.timing;return e("ready",Math.round(window.performance.now()))})],ue=ae,ce=Object(u["f"])(ne,se,ue),le=ce,de=function(t){return t.hasOwnProperty("trigger")},he=Object(u["a"])(Object(u["a"])({},Vt),qt),fe=function(){function t(){var t=this;this.setup=function(){t.setupTracker(),t.initHandlers()},this.send=function(e,n,i,r,o,s){if(void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=!1),window.ga){var a={};s&&(a.nonInteraction=!0),null===o?window.ga("send","event",e,n,i,r,a):window.ga("send","event",e,n,o,a),t.logger("[EVENT]",e,n,i,r,o,a)}},this.set=function(e,n){window.ga&&(window.ga("set",he[e],n),t.logger("[SET]",e,n))},this.sendTiming=function(e,n){window.ga&&(window.ga("send","timing","Game",e,n),t.logger("[TIMING]",e,n))}}return t.prototype.init=function(t){return Object(u["b"])(this,void 0,void 0,function(){var e=this;return Object(u["d"])(this,function(n){switch(n.label){case 0:return this.$store=t,document.addEventListener(et["c"],function(){return e.send("metrics","not_ready_play_click","timing",window.performance.now(),null,!0)}),[4,m["a"].onReady()];case 1:return n.sent(),this.setup(),[2]}})})},t.prototype.setupTracker=function(){window.ga&&window.ga("set","transport","beacon")},t.prototype.initHandlers=function(){var t=this,e={send:this.send,set:this.set,timing:this.sendTiming,$store:this.$store};le.forEach(function(n){var i=function(t){return n.handle(e,t)};de(n)?m["a"].on(n.trigger,i):t.$store.watch(function(t,e){return n.watcher(e)},i)})},t.prototype.handleErrors=function(t){window.ga&&window.ga("send","exception",{exDescription:t.message||t,exFatal:!1})},t.prototype.logger=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s["o"].apply(void 0,Object(u["f"])(["analytics"],t))},t}(),pe=new fe,me=n("a407"),ge=n("0ee2"),ve=n("c380"),be=n("e238"),ye=n("f2ce"),Ee=n("4b9b"),Oe=n("5169"),we=n("5980"),Ae="https://littlealchemy2.com";function Ie(){return document.getElementById("progress_merge")}function Se(t){var e,n,i=Ie();null===(n=null===(e=i)||void 0===e?void 0:e.contentWindow)||void 0===n||n.postMessage(JSON.stringify(t),"*")}function Te(t,e){var n=function(i){var r=i.origin,o=i.data;if(r===Ae){var s=JSON.parse(o);s.command===t&&(e(s),window.removeEventListener("message",n))}};window.addEventListener("message",n)}function _e(){return new Promise(function(t){Te("get",function(e){var n=e.data,i=n.history.map(function(t){var e=t[0],n=t[1],i=t[2];return{father:e,mother:n,timestamp:i}});t({history:i,reset:n.reset})}),Se({command:"get"})})}function xe(t,e){return new Promise(function(n){Te("set",function(t){var e=t.success;return n(e)}),Se({command:"set",data:{history:t.map(function(t){var e=t.father,n=t.mother,i=t.timestamp;return[e,n,i]}),reset:e}})})}var Pe=function(){function t(t,e){var n=this;this.remoteHistory=[],this.remoteReset=-1,this.handleChange=function(){return Object(u["b"])(n,void 0,void 0,function(){var t,e,n;return Object(u["d"])(this,function(i){switch(i.label){case 0:return this.logger("handleChange"),[4,this.fetchHistory()];case 1:return i.sent(),t=Object(we["a"])(this.$store,this.remoteHistory,this.remoteReset,Re),this.logger("are different?",t),e=!1,t?[4,this.chooseSyncMethod()]:(e=this.merge(),this.logger("merged","has local changed?",e),this.handleSync(e),[2]);case 2:return n=i.sent(),n===ye["a"].MERGE&&(e=this.merge(!1)),n===ye["a"].LOCAL&&(e=this.useLocal()),n===ye["a"].REMOTE&&(e=this.useRemote()),this.handleSync(e),[2]}})})},this.$store=t,this._updateRemote=e}return t.prototype.handleSync=function(t){if(this.logger("handle sync"),this.$store.dispatch("userSynced"),t)return this.logger("reload local history"),this.$store.dispatch("historyReload"),this.$store.dispatch("historyIntegrity"),void this.updateRemote();var e=!t&&this.remoteHistory.length<this.history.length;this.logger("should update remote",e),e&&this.updateRemote()},t.prototype.merge=function(t){return void 0===t&&(t=!0),Object(Oe["a"])({store:this.$store,remote:{history:this.remoteHistory,reset:this.remoteReset},local:{history:this.history,reset:this.reset},handleReset:t})},t.prototype.useLocal=function(){return this.updateRemote(),!1},t.prototype.useRemote=function(){return this.$store.dispatch("historySet",this.remoteHistory),this.$store.commit("RESET_TIMESTAMP",this.remoteReset),!0},t.prototype.chooseSyncMethod=function(){return Object(u["b"])(this,void 0,void 0,function(){return Object(u["d"])(this,function(t){return this.logger("choose sync method"),[2,Object(Ee["a"])({$store:this.$store,remoteHistory:this.remoteHistory,remoteReset:this.remoteReset,type:"localstorage"})]})})},t.prototype.fetchHistory=function(){return Object(u["b"])(this,void 0,void 0,function(){var t,e,n;return Object(u["d"])(this,function(i){switch(i.label){case 0:return this.logger("fetching remote history"),[4,_e()];case 1:return t=i.sent(),e=t.history,n=t.reset,this.logger("fetched",e,n),this.remoteHistory=e,this.remoteReset=n,[2]}})})},t.prototype.updateRemote=function(){this.logger("save remote"),this._updateRemote(this.history,this.reset)},Object.defineProperty(t.prototype,"history",{get:function(){return this.$store.getters.history},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reset",{get:function(){return this.$store.getters.resetTimestamp},enumerable:!0,configurable:!0}),t.prototype.logger=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s["o"].apply(void 0,Object(u["f"])(["progress-merge","[SYNC]"],t))},t}(),Ce=Pe;function Re(t,e){return e.every(function(e){var n=e.father,i=e.mother;return t.getters.hasMixed([n,i])})}var De=function(){function t(){}return t.prototype.init=function(t){var e=this;this.syncHandler=new Ce(t,xe),m["a"].on("HISTORY_UPDATE",function(){return e.syncHandler.handleChange()}),m["a"].on("PROGRESS_RESET",function(){return e.syncHandler.handleChange()}),m["a"].once("GAME_READY",function(){return e.syncHandler.handleChange()})},t}(),Le=new De,Ne=n("2ae7"),je={bind:function(t,e,n){var i=e.expression,r=n.context[i];t.addEventListener(Ne["a"],r,!1)},unbind:function(t,e,n){var i=e.expression,r=n.context[i];t.removeEventListener(Ne["a"],r)}},ke=je;r["a"].directive("animation-end",ke);var Me=n("baf5");m["a"].on("PLAY",function(){return Me["install"]({onUpdateReady:function(){return Me["applyUpdate"]()}})});var He=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.isGameReady?n("Popups"):t._e(),n("Game"),n("AudioExtension")],1)},Be=[],$e=n("6e95"),Fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"game",attrs:{id:"js-game"}},[i("Workspace"),i("Animations"),i("Library"),i("div",{staticClass:"ui"},[i("Search"),i("Menu"),i("img",{staticClass:"logo",attrs:{alt:"Little Alchemy 2",src:n("1ae4")}})],1),i("Tutorials"),i("TextTutorials")],1)},Ge=[],Ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"workspace",class:t.classes,attrs:{id:t.WORKSPACE_ID},on:{longpress:t.onLongpress}},[n("div",{ref:"element",staticClass:"workspace-cleanup"}),n("BoxSizing"),t._l(t.workspaceFinalWithoutAnimated,function(t){return n("FinalBox",{key:t.id,attrs:{data:t,type:"final"}})}),t._l(t.workspaceExhaustedWithoutAnimated,function(t){return n("FinalBox",{key:t.id,attrs:{data:t,type:"exhausted"}})}),t._l(t.workspaceElements,function(t){return n("WorkspaceBox",{key:t.id,attrs:{data:t,"data-normal":""}})})],2)},We=[],Ye=n("2138"),ze=n("53b2"),Ke=n("7d61"),Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Box",{class:t.classes,attrs:{data:t.data,"data-final":t.isFinal,"data-exhausted":t.isExhausted},on:{click:t.onClick,touchstart:t.onClick}})},Ve=[],qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._g({staticClass:"element droppable",style:t.style},t.$listeners),[n("img",{attrs:{src:t.iconUrl,alt:t.id}})])},Qe=[],Je=n("fd41"),Ze=$e["a"].extend({name:"base-box",props:{data:Object},computed:{id:function(){return this.data.id},iconUrl:function(){return Object(Je["a"])(this.data.elementId)},style:function(){var t=this.data.position,e=t.x,n=t.y;return{position:"absolute",top:n+"px",left:e+"px"}}}}),tn=Ze,en=n("2877"),nn=Object(en["a"])(tn,qe,Qe,!1,null,null,null);nn.options.__file="base-box.vue";var rn=nn.exports,on=$e["a"].extend({name:"final-box",props:{data:Object,type:String},components:{Box:rn},computed:{id:function(){return this.data.elementId},isFinal:function(){return"final"===this.type},isExhausted:function(){return"exhausted"===this.type},isFinalAnimationActive:function(){return this.$store.getters.isFinalForIdActive(this.id)},isExhaustedAnimationActive:function(){return this.$store.getters.isExhaustedForIdActive(this.id)},classes:function(){return{"js-final":!this.isFinalAnimationActive&&!this.isExhaustedAnimationActive,"js-exhausted":this.isExhausted}}},methods:{onClick:function(){this.isFinal?this.onFinalClick():this.onExhaustedClick()},onFinalClick:function(){Wt.startFinal(this.id)},onExhaustedClick:function(){Wt.startExhausted(this.id)}}}),sn=on,an=Object(en["a"])(sn,Xe,Ve,!1,null,null,null);an.options.__file="final-box.vue";var un=an.exports,cn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"element",staticClass:"element droppable",class:t.classes,style:t.style,attrs:{"data-id":t.id},on:{mouseenter:function(e){return e.stopPropagation(),t.onMouseEnter(e)},mouseleave:function(e){return e.stopPropagation(),t.onMouseLeave(e)}}},[n("img",{ref:"icon",attrs:{src:t.iconUrl,alt:t.name,draggable:"false"},on:{doubletap:t.onDoubleTap}})])},ln=[],dn=n("b7ba"),hn=Object(s["i"])("transform"),fn={id:null,dragDistance:null,position:null,handle:null,type:Ye["d"]},pn={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel","mouseup"],pointerdown:["pointermove","pointerup","pointercancel","mouseup"]},mn=function(){function t(t,e){void 0===e&&(e={}),this.handles=[],this.throttle=!1,this.startEventType="",this.pointerIdentifier=null,this.startPosition={x:0,y:0},this.isDragging=!1,this.boundEvents=[],this.element=t,this.position={x:-1,y:-1},this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.options=Object(u["a"])(Object(u["a"])({},fn),e),this._create(this.options)}return t.prototype._create=function(t){this.isWorkspace&&(this.position=t.position?t.position:this._getPosition()),this.startPosition=Object.assign({},this.position),this.setHandles()},Object.defineProperty(t.prototype,"isWorkspace",{get:function(){return this.options.type===Ye["d"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.options.id},enumerable:!0,configurable:!0}),t.prototype.setHandles=function(){this.options.handle?this.handles=this.options.handle:this.handles=[this.element],this.addListenersToHandles()},t.prototype.addListenersToHandles=function(){var t=this;this.handles.forEach(function(e){e.addEventListener("mousedown",t,!1),e.addEventListener("touchstart",t,!1),window.navigator.pointerEnabled&&(e.addEventListener("pointerdown",t,!1),e.style.touchAction="none")})},t.prototype.removeHandlerListeners=function(){var t=this;this.handles.forEach(function(e){e.removeEventListener("mousedown",t,!1),e.removeEventListener("touchstart",t,!1),e.removeEventListener("pointerdown",t,!1)})},t.prototype.setPosition=function(t){this.position=t},t.prototype._getPosition=function(){var t=Object(s["h"])(this.element),e=function(t){return"0px"===t||"auto"===t};if("absolute"!==t.position||e(t.left)&&e(t.top)){var n=this.element.getBoundingClientRect();return this.position={x:n.left,y:n.top},this.position}return this.position={x:parseInt(t.left,10),y:parseInt(t.top,10)},this.position},t.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},t.prototype.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this.dragStart(t,t)},t.prototype.ontouchstart=function(t){this.isDragging||this.dragStart(t,t.changedTouches[0])},t.prototype.onMSPointerDown=function(t){this.onpointerdown(t)},t.prototype.onpointerdown=function(t){this.isDragging||this.dragStart(t,t)},t.prototype.setPointerPoint=function(t,e){t.x=void 0!==e.pageX?e.pageX:e.clientX,t.y=void 0!==e.pageY?e.pageY:e.clientY},t.prototype.dragStart=function(t,e){Nt.isDragging||(t.cancelable&&t.preventDefault(),this.throttle=!1,this.helper=null,this.isDragging=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.setPointerPoint(this.startPoint,e),t.simulated&&this.position||this._getPosition(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.dragPoint.x=0,this.dragPoint.y=0,this.startEventType=t.startEventType?t.startEventType:t.type,this._bindEvents(pn[this.startEventType]),this.isWorkspace?this.startAnimatedDrag():this.hasOwnProperty("onLibraryDragStart")&&"function"===typeof this.onLibraryDragStart&&this.onLibraryDragStart())},t.prototype.startAnimatedDrag=function(){this.helper=this.element,this.setLeftTop(),this.hasOwnProperty("onDragStart")&&"function"===typeof this.onDragStart&&this.onDragStart(this),Nt.onDragStart(this.id),this.animate()},t.prototype._bindEvents=function(t){var e=this;t.forEach(function(t){window.addEventListener(t,e,!1)}),this.boundEvents=t},t.prototype._unbindEvents=function(){var t=this,e=this.boundEvents;e&&(e.forEach(function(e){window.removeEventListener(e,t,!1)}),this.boundEvents=null)},t.prototype._getTouch=function(t){if(!this.pointerIdentifier){var e=t.changedTouches[0];return this.pointerIdentifier=e.identifier,e}for(var n=0,i=t.changedTouches.length;n<i;n++)if(this.pointerIdentifier===t.changedTouches[n].identifier)return t.changedTouches[n];return null},t.prototype.onmousemove=function(t){this.dragMove(t,t)},t.prototype.ontouchmove=function(t){var e=this._getTouch(t);e&&this.dragMove(t,e)},t.prototype.onpointermove=function(t){this.pointerIdentifier||(this.pointerIdentifier=t.pointerId),t.preventDefault(),this.pointerIdentifier===t.pointerId&&this.dragMove(t,t)},t.prototype.dragMove=function(t,e){if((!this.isWorkspace||!this.throttle)&&(this.throttle=!0,this.isDragging)){this.setPointerPoint(this.dragPoint,e);var n=this.dragPoint.x-this.startPoint.x,i=this.dragPoint.y-this.startPoint.y;if(this.isWorkspace||!this.options.dragDistance)this.position.x=this.startPosition.x+n,this.position.y=this.startPosition.y+i,this.dragPoint.x=n,this.dragPoint.y=i,jt["a"].onDragMove(this.position);else{var r=Math.sqrt(n*n+i*i);r>this.options.dragDistance&&(this.dragEnd(),this.hasOwnProperty("onDistanceDragged")&&"function"===typeof this.onDistanceDragged&&this.onDistanceDragged(this.startPoint,this.dragPoint,this.startPosition,this.startEventType))}}},t.prototype.onmouseup=function(t){this.dragEnd(t)},t.prototype.ontouchend=function(t){var e=this._getTouch(t);e&&this.dragEnd(t)},t.prototype.onpointerup=function(t){this.pointerIdentifier===t.pointerId&&this.dragEnd(t)},t.prototype.onpointercancel=function(t){t.pointerId===this.pointerIdentifier&&this.dragEnd(t)},t.prototype.ontouchcancel=function(t){var e=this._getTouch(t);e&&this.dragEnd(t)},t.prototype.dragEnd=function(t){this.isDragging=!1,this.pointerIdentifier=null,this._unbindEvents(),this.isWorkspace&&(this.helper&&"none"!==this.helper.style.display&&hn&&(this.helper.style[hn]="",this.setLeftTop()),this.hasOwnProperty("onDragEnd")&&"function"===typeof this.onDragEnd&&this.onDragEnd(this),Nt.onDragEnd(this.position,t.simulated||!1))},t.prototype.animate=function(){if(this.throttle=!1,this.isDragging){this.transform();var t=this;window.requestAnimationFrame(function(){t.animate()})}},t.prototype.transform=function(){this.helper.style[hn]="translate("+this.dragPoint.x+"px,"+this.dragPoint.y+"px)"},t.prototype.setLeftTop=function(){this.helper.style.left=this.position.x+"px",this.helper.style.top=this.position.y+"px"},t.prototype.destroy=function(){this.onDragStart=null,this.onDragEnd=null,this.onDistanceDragged=null,this.onLibraryDragStart=null,this._unbindEvents(),this.removeHandlerListeners()},t}(),gn=mn,vn=$e["a"].extend({name:"workspace-box",props:{data:Object},data:function(){return{isDragging:!1,hover:!1,isClone:!1,cloned:!1}},computed:Object(u["a"])(Object(u["a"])({},Object(o["b"])(["elementById","isArtModeEnabled","draggingOverId","mixFather","mixStatus","elementIsExhausted"])),{id:function(){return this.data.id},elementId:function(){return this.data.elementId},position:function(){return this.data.position},element:function(){return this.elementById(this.elementId)},name:function(){return this.element?this.element.name:""},isBelow:function(){return this.draggingOverId===this.id&&!this.isDragging},hasFailed:function(){var t=this.mixFather;return this.mixStatus===dn["a"]&&!!t&&t.id===this.id},hasAlreadyMixed:function(){var t=this.mixFather;return this.mixStatus===dn["b"]&&!!t&&t.id===this.id},iconUrl:function(){return Object(Je["a"])(this.elementId)},style:function(){var t=this.position,e=t.x,n=void 0===e?-500:e,i=t.y,r=void 0===i?-500:i;return{position:"absolute",top:r+"px",left:n+"px"}},isExhausted:function(){return!!this.elementIsExhausted(this.elementId)},classes:function(){return{"is-dragging":this.isDragging,"js-hover":this.hover,"js-pulse":this.isBelow,"js-mix-fail":!this.isDragging&&this.hasFailed,"js-mix-mixed":!this.isDragging&&this.hasAlreadyMixed,"js-cloned":!this.isDragging&&this.cloned,"js-clone":this.isClone,"js-to-remove":!!this.element&&this.isExhausted&&!this.isArtModeEnabled}}}),mounted:function(){this.initDraggable()},beforeDestroy:function(){this.draggable&&(this.draggable.destroy(),this.draggable=null)},methods:{initDraggable:function(){var t=this;this.draggable=new gn(this.$refs.element,{id:this.id,handle:[this.$refs.icon],type:Ye["d"],position:Object(u["a"])({},this.position)}),this.draggable.onDragStart=function(){return t.onDragStart()},this.draggable.onDragEnd=function(){return t.onDragEnd()}},onDragStart:function(){var t=this;this.isDragging=!0,this.isClone=!1,Object(s["v"])(this.$refs.element),window.setTimeout(function(){t.hover=!1},150)},onDragEnd:function(){this.isDragging=!1},onMouseEnter:function(){this.isDragging||this.isClone||(this.hover=!0)},onMouseLeave:function(){this.isDragging||(this.hover=!1,this.isClone=!1)},onDoubleTap:function(){var t=this;this.$store.dispatch("workspaceElementClone",this.id),this.$nextTick(function(){return Object(u["b"])(t,void 0,void 0,function(){return Object(u["d"])(this,function(t){switch(t.label){case 0:return this.cloned=!0,this.$refs.element?[4,Object(s["r"])(this.$refs.element)]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,Object(s["c"])(50)];case 3:t.sent(),t.label=4;case 4:return this.cloned=!1,[2]}})})})},onClone:function(){var t=this;this.$nextTick(function(){t.isClone=!0})},updateDraggablePosition:function(){this.draggable&&this.draggable.setPosition(Object(u["a"])({},this.position))}}}),bn=vn,yn=Object(en["a"])(bn,cn,ln,!1,null,null,null);yn.options.__file="box.vue";var En=yn.exports,On=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.obtainSize?n("Box",{ref:"box",attrs:{data:t.boxData}}):t._e()},wn=[],An=$e["a"].extend({name:"workspace-box-sizing",components:{Box:rn},data:function(){return{obtainSize:!0}},computed:{boxData:function(){return{id:"0",elementId:"0",position:{x:-200,y:-200}}}},mounted:function(){var t=this;this.updateSize(),m["a"].onResize(function(){t.obtainSize=!0,t.$nextTick(function(){return t.updateSize()})})},methods:{updateSize:function(t){if(void 0===t&&(t=!1),this.$refs.box&&this.$refs.box.$el){var e=this.getSize(),n=e.width,i=e.height;n&&i?(this.obtainSize=!1,this.notify(n,i)):this.retry(t)}else this.retry(t)},retry:function(t){var e=this;t?this.notify(0,0):window.setTimeout(function(){return e.updateSize(!0)},100)},getSize:function(){var t=Object(s["h"])(this.$refs.box.$el),e=parseInt(t.width,10)||0,n=parseInt(t.height,10)||0;return{width:e,height:n}},notify:function(t,e){this.$store.dispatch("dimensionsWorkspaceBox",{width:t,height:e})}}}),In=An,Sn=Object(en["a"])(In,On,wn,!1,null,null,null);Sn.options.__file="size.vue";var Tn=Sn.exports,_n=Ke["a"][ze["a"]],xn=$e["a"].extend({name:"workspace",components:{WorkspaceBox:En,FinalBox:un,BoxSizing:Tn},data:function(){return{listenerAdded:!1}},computed:Object(u["a"])(Object(u["a"])({},Object(o["b"])(["workspaceElements","workspaceRevertable","workspaceFinal","workspaceExhausted","isAnimationActive","animationFinalFinished","droppableById"])),{WORKSPACE_ID:function(){return Ye["g"]},ifAnimateClear:function(){return this.isAnimationActive(ze["a"])||this.workspaceRevertable},ifAnimateRevert:function(){return this.isAnimationActive(ze["h"])},workspaceFinalWithoutAnimated:function(){var t=this;return this.workspaceFinal.filter(function(e){var n=e.elementId;return!t.animationFinalFinished.includes(n)})},workspaceExhaustedWithoutAnimated:function(){var t=this;return this.workspaceExhausted.filter(function(e){var n=e.elementId;return!t.animationFinalFinished.includes(n)})},classes:function(){return{"js-cleanup":this.ifAnimateClear||this.ifAnimateRevert,"js-revert":this.ifAnimateRevert}}}),mounted:function(){this.onTransitionEnd=this.onTransitionEnd.bind(this)},watch:{ifAnimateClear:"addTransitionListener",ifAnimateRevert:"addTransitionListener"},methods:{onLongpress:function(t){var e=t.target;if(e){var n=e.parentNode.dataset.id,i=this.droppableById(n);i&&m["a"].emit("ENCYCLOPEDIA_SHOW_ITEM",i.elementId)}},addTransitionListener:function(t){t&&!this.listenerAdded&&(this.$refs.element.addEventListener(Ne["b"],this.onTransitionEnd,!1),this.listenerAdded=!0)},onTransitionEnd:function(t){var e=t.target,n=t.propertyName;if(e===this.$refs.element){var i=n.includes(_n.revertMiddle)&&this.ifAnimateRevert,r=n.includes(_n.transitionMiddle)&&this.ifAnimateClear;i||r?this.onWorkspaceAnimationMiddle():this.onWorkspaceAnimationEnd()}},onWorkspaceAnimationMiddle:function(){m["a"].emit("ANIMATION_WORKSPACE_MIDDLE")},onWorkspaceAnimationEnd:function(){this.$store.dispatch("animationReset"),this.$refs.element.removeEventListener(Ne["b"],this.onTransitionEnd),this.listenerAdded=!1}}}),Pn=xn,Cn=Object(en["a"])(Pn,Ue,We,!1,null,null,null);Cn.options.__file="index.vue";var Rn=Cn.exports,Dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"element",staticClass:"side",attrs:{id:"side"}},[t.isSortingEnabled?n("div",[n("button",{class:{"js-active":"alphabet"===t.sorting},on:{click:function(e){return t.changeSorting("alphabet")}}},[t._v("\n      A to Z\n    ")]),n("button",{class:{"js-active":"timestamp"===t.sorting},on:{click:function(e){return t.changeSorting("timestamp")}}},[t._v("\n      Newest to oldest\n    ")])]):t._e(),n("div",{staticClass:"outer-library",attrs:{id:t.OUTER_LIBRARY_ID},on:{longpress:t.onLongpress}},[n("LibraryScroller",{ref:"scroller",attrs:{elements:t.libraryCurrentElements}})],1)])},Ln=[],Nn=n("b047"),jn=n.n(Nn),kn=n("623d"),Mn=function(t){var e=200,n=t.getBoundingClientRect(),i=Object(s["h"])(t),r=parseInt(i.width,10)+e,o=parseInt(i.height,10)+2*e;return{width:r,height:o,x:n.left,y:n.top-e}},Hn=function(t){var e=Object(s["h"])(t),n=parseInt(e.width,10)||0,i=parseInt(e.height,10)||0,r=parseInt(e.paddingLeft,10)||0;return{width:n,height:i,margin:r}},Bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasElements?n("div",{staticClass:"library",style:t.styles,attrs:{id:"library"}},[t.shouldUseLiteBox?t._l(t.elementsList,function(e,i){return n("LibraryBoxLite",{key:i,style:t.getStyle(i),attrs:{element:e}})}):t._l(t.elementsList,function(e,i){return n("LibraryBox",{key:i,style:t.getStyle(i),attrs:{element:e}})})],2):t._e()},$n=[],Fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"element",staticClass:"element",class:t.classes,on:{click:t.onClick,touchstart:t.onClick}},[n("img",{ref:"icon",attrs:{src:t.iconUrl,alt:t.name,draggable:"false",decoding:"async"}}),n("div",{staticClass:"elementName"},[t._v("\n    "+t._s(t.name)+"\n  ")])])},Gn=[],Un=$e["a"].extend({name:"library-box",props:{element:Object},data:function(){return{animated:!1}},computed:Object(u["a"])(Object(u["a"])({},Object(o["b"])(["elementIsExhausted","isExhaustedForIdActive"])),{iconUrl:function(){return Object(Je["a"])(this.element.id)},name:function(){return this.element.name},isExhausted:function(){return!!this.elementIsExhausted(this.element.id)},ifAnimateExhausted:function(){return this.isExhausted&&this.isExhaustedForIdActive(this.element.id)},classes:function(){return{"js-exhausted":this.isExhausted,"js-animate":this.ifAnimateExhausted}}}),mounted:function(){this.initDraggable()},beforeDestroy:function(){this.draggable&&(this.draggable.destroy(),this.draggable=null)},methods:{initDraggable:function(){var t=this;this.draggable=new gn(this.$refs.element,{handle:[this.$refs.icon],type:Ye["c"],dragDistance:Ye["b"]}),this.startedDragId=null,this.draggable.onDistanceDragged=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.isExhausted||Nt.onLibraryDistanceDragged.apply(Nt,Object(u["f"])([t.startedDragId],e))},this.draggable.onLibraryDragStart=function(){t.startedDragId=t.element.id}},onClick:function(){this.isExhausted&&Wt.startExhausted(this.element.id)}}}),Wn=Un,Yn=Object(en["a"])(Wn,Fn,Gn,!1,null,null,null);Yn.options.__file="box.vue";var zn=Yn.exports,Kn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"element",staticClass:"element"},[n("img",{ref:"icon",attrs:{src:t.iconUrl,alt:t.name,draggable:"false",decoding:"async"}}),n("div",{staticClass:"elementName"},[t._v("\n    "+t._s(t.name)+"\n  ")])])},Xn=[],Vn=$e["a"].extend({name:"library-box-lite",props:{element:Object},computed:{iconUrl:function(){return Object(Je["a"])(this.element.id)},name:function(){return this.element.name}},mounted:function(){this.initDraggable()},beforeDestroy:function(){this.draggable&&(this.draggable.destroy(),this.draggable=null)},methods:{initDraggable:function(){var t=this;this.draggable=new gn(this.$refs.element,{handle:[this.$refs.icon],type:Ye["c"],dragDistance:Ye["b"]}),this.draggable&&(this.startedDragId=null,this.draggable.onDistanceDragged=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Nt.onLibraryDistanceDragged.apply(Nt,Object(u["f"])([t.startedDragId],e))},this.draggable.onLibraryDragStart=function(){t.startedDragId=t.element.id})}}}),qn=Vn,Qn=Object(en["a"])(qn,Kn,Xn,!1,null,null,null);Qn.options.__file="box-lite.vue";var Jn=Qn.exports,Zn=5,ti=15,ei=10,ni=$e["a"].extend({name:"library-scroller",props:{elements:Array},components:{LibraryBox:zn,LibraryBoxLite:Jn},data:function(){return{starting:0,reloading:!1}},computed:Object(u["a"])(Object(u["a"])({},Object(o["b"])({libraryElementsIds:"library",hasElements:"hasLibrary",isSearchActive:"isSearchActive",searchQuery:"searchQuery",inArtMode:"isArtModeEnabled",boxDimensions:"libraryBoxDimensions"})),{shouldUseLiteBox:function(){return this.inArtMode},elementsCount:function(){return this.elements.length},elementsList:function(){if(this.elementsCount<this.KEEP)return this.elements;var t=this.startIndex,e=(this.KEEP-this.startIndex)%this.KEEP,n=this.elements.slice(t,t+this.KEEP),i=n.slice(e,n.length);return n.splice(e,n.length),n.unshift.apply(n,i),n},elementHeight:function(){return this.boxDimensions.height},elementOuterHeight:function(){return this.elementHeight+this.boxDimensions.margin},totalHeight:function(){var t=Object(s["m"])()?5:0,e=this.elementsCount*this.elementOuterHeight;return t+ei+e},styles:function(){return{opacity:this.reloading?0:1,height:this.totalHeight+"px",contain:"layout"}},scrollerHeight:function(){var t=this.$store.getters.droppableStaticById(Ye["e"]);return t.dimensions.height},startIndex:function(){var t=this.starting-Zn;return t+this.KEEP>this.elementsCount&&(t=this.elementsCount-this.KEEP),Math.max(t,0)},KEEP:function(){var t=Math.ceil(this.scrollerHeight/this.elementHeight)+6;return Math.max(ti,t)}}),mounted:function(){this.initScroll(),this.lastY=0,this._startIndex=0,this._KEEP=this.KEEP,this._elementOuterHeight=this.elementOuterHeight},watch:{searchQuery:function(t,e){var n=this;t!==e&&null!==t&&t.length&&this.$nextTick(function(){n.setStarting(0),n.$nextTick(function(){return Dt["a"].scrollTop(0)})})},isSearchActive:function(t){var e=this;t||(this.reloading=!0,this.$nextTick(function(){return window.setTimeout(function(){e.reloading=!1},50)}))},inArtMode:function(t){return Object(u["b"])(this,void 0,void 0,function(){return Object(u["d"])(this,function(e){switch(e.label){case 0:return t?[4,Dt["a"].onInit()]:[2];case 1:return e.sent(),Dt["a"].handler&&Dt["a"].handler.refresh(),[2]}})})},startIndex:function(t){this._startIndex=t},KEEP:function(t){this._KEEP=t},elementOuterHeight:function(t){this._elementOuterHeight=t}},methods:{initScroll:function(){return Object(u["b"])(this,void 0,void 0,function(){var t=this;return Object(u["d"])(this,function(e){switch(e.label){case 0:return[4,Dt["a"].onInit()];case 1:return e.sent(),[4,Dt["a"].handler.reinitialize()];case 2:return e.sent(),this.handleScroll=this.handleScroll.bind(this),Dt["a"].handler.onScroll(function(e){t.lastY=e.y,window.requestAnimationFrame(function(){return t.handleScroll()})}),[2]}})})},handleScroll:function(t){void 0===t&&(t=this.lastY);var e=Math.max(0,Math.floor(t/this.elementOuterHeight));this.starting!==e&&this.setStarting(e)},setStarting:function(t){this.starting=t},getKey:function(t){var e=this._startIndex%this._KEEP;return Math.abs(e-t-this._KEEP)%this._KEEP},getStyle:function(t){var e=this.getKey(t),n=ei+(this._startIndex+e)*this._elementOuterHeight;return{transform:"translate3d(0, "+n+"px, 0)"}}}}),ii=ni,ri=Object(en["a"])(ii,Bn,$n,!1,null,null,null);ri.options.__file="scroller.vue";var oi=ri.exports,si=/[|\\{}()[\]^$+*?.]/g,ai=$e["a"].extend({name:"library",components:{LibraryScroller:oi},data:function(){return{OUTER_LIBRARY_ID:kn["b"],outerHeight:0,elementOuterHeight:0}},computed:Object(u["a"])(Object(u["a"])({},Object(o["b"])({libraryElementsIds:"library",hasElements:"hasLibrary",elementById:"elementById",isSearchActive:"isSearchActive",searchQuery:"searchQuery",hasEmptyLibrary:"hasEmptyLibrary",sorting:"librarySortBy"})),{elements:function(){var t=this;return this.libraryElementsIds.map(function(e){return t.elementById(e)}).filter(R["b"])},filteredByQuery:function(){if(!this.searchQuery)return[];var t=this.searchQuery.toLowerCase().trim();t=t.replace(si,"");var e=new RegExp(t);return this.elements.filter(function(t){var n=t.name;return e.test(n.toLowerCase())})},libraryCurrentElements:function(){return this.isSearchActive&&this.searchQuery&&this.searchQuery.length?this.filteredByQuery:this.elements},elementsCount:function(){return this.libraryCurrentElements.length},elementHeight:function(){var t=this.$store.getters.libraryBoxDimensions;return t.height+t.margin},isSortingEnabled:function(){return E["f"]}}),mounted:function(){var t=this;this.checkUnderLibrary=jn()(this.checkUnderLibrary.bind(this),E["d"]),this.updateDroppableData(),m["a"].onResize(function(){return Object(u["b"])(t,void 0,void 0,function(){return Object(u["d"])(this,function(t){switch(t.label){case 0:return[4,Object(s["c"])(100)];case 1:return t.sent(),this.onResize(),[2]}})})}),this.libraryRendered().then(function(){return t.onRendered()}),this.onEmptyLibrary().then(function(){return t.onEmpty()}),this.initScrollRefresher()},watch:{searchQuery:function(t,e){t===e||t&&!t.length||this.refreshScroll()}},methods:{onRendered:function(){this.updateLibraryBoxDimensions(),m["a"].emit("LIBRARY_RENDERED"),this.$store.dispatch("libraryRendered")},onEmpty:function(){m["a"].emit("LIBRARY_EMPTY"),this.$store.dispatch("libraryRendered")},onLongpress:function(t){var e=t.target;if(e.parentNode){var n=e.parentNode.__vue__;if(n&&n.element){var i=n.element.id;m["a"].emit("ENCYCLOPEDIA_SHOW_ITEM",i)}}},onResize:function(){this.updateDroppableData(),this.updateLibraryBoxDimensions();var t=this.updateHeights();t&&this.refreshScroll(),this.checkUnderLibrary()},updateDroppableData:function(){var t=Mn(this.$refs.element);this.$store.commit("STATIC_DROPPABLE_UPDATE",Object(u["a"])({id:Ye["e"]},t))},updateLibraryBoxDimensions:function(){var t=this.$refs.scroller.$children;if(t.length){var e=t[0].$el.querySelector("img");e&&this.$store.dispatch("dimensionsLibraryBox",Hn(e))}},updateHeights:function(){var t=this.$refs.scroller.$children;if(Dt["a"].isNative||!this.$refs.element.firstChild)return!1;if(t.length<2)return!1;var e=t[1].$el,n=e.offsetHeight,i=(Object(s["f"])(e)-n)/2;return this.elementOuterHeight=n+i,this.outerHeight=this.$refs.element.firstChild.offsetHeight,!0},checkUnderLibrary:function(){this.$store.dispatch("workspaceRemoveUnderLibrary")},changeSorting:function(t){this.$store.dispatch("libraryChangeSorting",t)},initScrollRefresher:function(){return Object(u["b"])(this,void 0,void 0,function(){var t=this;return Object(u["d"])(this,function(e){switch(e.label){case 0:return[4,Dt["a"].onInit()];case 1:return e.sent(),Dt["a"].isNative?[2]:(this.updateHeights(),this.$watch(function(){return t.libraryCurrentElements},function(){return t.refreshScroll()}),[2])}})})},refreshScroll:function(){var t=this.elementsCount,e=this.outerHeight;e<t*this.elementHeight&&(e=t*this.elementHeight+20),Dt["a"].handler&&Dt["a"].handler.refresh&&Dt["a"].handler.refresh(e)},libraryRendered:function(){var t=this;return new Promise(function(e){var n=t.$watch(function(){return t.hasElements},function(i){i&&(t.$nextTick(function(){return window.setTimeout(e,30)}),n())})})},onEmptyLibrary:function(){var t=this;return new Promise(function(e){var n=t.$watch(function(){return t.hasEmptyLibrary},function(t){t&&(e(),n())})})}}}),ui=ai,ci=Object(en["a"])(ui,Dn,Ln,!1,null,null,null);ci.options.__file="index.vue";var li=ci.exports,di=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{ref:"container",attrs:{for:"search-input",id:t.SEARCH_BAR_ID}},[n("input",{ref:"input",staticClass:"search-bar",class:t.classes,attrs:{type:"text",id:"search-input",maxlength:"20",tabindex:t.tabIndex},on:{blur:t.hide,keyup:t.onKeyUp}}),n("div",{staticClass:"search icon",class:t.iconClasses,on:{click:t.toggle}},[t.isActive?n("IconClose",{staticClass:"close-search-icon"}):n("IconSearch")],1)])},hi=[],fi=n("06c5"),pi=n("cd57"),mi={functional:!0,render(t,e){const{_c:n,_v:i,data:r,children:o=[]}=e,{class:s,staticClass:a,style:u,staticStyle:c,attrs:l={},...d}=r;return n("svg",{class:[s,a],style:[u,c],attrs:Object.assign({id:"icon-search",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},l),...d},o.concat([n("path",{attrs:{d:"M26.3 10.08a16.2 16.2 0 11-11.47 4.75 16.1 16.1 0 0111.46-4.75m0-3a19.2 19.2 0 1013.54 5.62A19.15 19.15 0 0026.3 7.08z"}}),n("path",{attrs:{d:"M26.3 3a23.3 23.3 0 0116.45 39.75A23.3 23.3 0 019.82 9.82 23.13 23.13 0 0126.3 3m0-3a26.3 26.3 0 1018.57 7.7A26.2 26.2 0 0026.3 0zm25.85 48.53l8.14 8.14a2.5 2.5 0 010 3.54l-.1.1a2.5 2.5 0 01-3.57 0l-8.13-8.1 3.63-3.62m0-3.84a1 1 0 00-.68.3L45 51.47a1 1 0 000 1.35l9.6 9.6a5.5 5.5 0 007.77 0l.1-.1a5.5 5.5 0 000-7.78L52.82 45a1 1 0 00-.68-.28z"}}),n("path",{staticClass:"svg-n svg-m",attrs:{d:"M48.93 48.93l-4.3-4.3"}})]))}},gi={functional:!0,render(t,e){const{_c:n,_v:i,data:r,children:o=[]}=e,{class:s,staticClass:a,style:u,staticStyle:c,attrs:l={},...d}=r;return n("svg",{class:["close-icon",s,a],style:[u,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},l),...d},o.concat([n("path",{staticClass:"cls-1",attrs:{d:"M5 59L59 5"}}),n("path",{staticClass:"cls-1",attrs:{d:"M5 5l54 54"}})]))}},vi=$e["a"].extend({name:"search-bar",components:{IconSearch:mi,IconClose:gi},computed:Object(u["a"])(Object(u["a"])({},Object(o["b"])({isActive:"isSearchActive",query:"searchQuery",isPopupActive:"isPopupActive",isTutorialFinished:"areTutorialsFinished",isAnimationActive:"isAnimationActive",isArtModeEnabled:"isArtModeEnabled"})),{tabIndex:function(){return this.isPopupActive?-1:0},classes:function(){return{"js-hidden":!this.isActive,"js-visible":this.isActive}},iconClasses:function(){return{"js-hidden":!this.isTutorialFinished}},isCompletionAnimationActive:function(){return this.isAnimationActive(ze["d"])},SEARCH_BAR_ID:function(){return pi["b"]}}),mounted:function(){this.blurHackForIOS=this.blurHackForIOS.bind(this),this.initListener()},watch:{isCompletionAnimationActive:function(t){t&&this.hide()},isActive:function(t){t||this.onHide()}},methods:{initListener:function(){var t=this;m["a"].on("KEY_DOWN",function(e){if(!t.isActive&&!t.isPopupActive){var n=document.activeElement;n&&n!==document.body&&"INPUT"!==n.tagName||e.keyCode<fi["a"]||e.keyCode>fi["f"]||e.ctrlKey||e.metaKey||t.show()}})},getValue:function(){return this.$refs.input.value},onKeyUp:function(t){var e=this.getValue();if(this.isActive&&t.keyCode===fi["d"])return t.preventDefault(),void this.hide();this.query!==e&&this.$store.dispatch("search",e)},toggle:function(){this.isActive?this.hide():this.show(!0)},show:function(t){void 0===t&&(t=!1);var e=this.isTutorialFinished&&!this.isCompletionAnimationActive;e&&(this.$store.dispatch("searchShow"),this.$refs.input.focus(),Dt["a"].savePosition(),t&&this.emitSound(),Object(s["n"])()&&Object(s["m"])()&&document.addEventListener("touchstart",this.blurHackForIOS))},emitSound:function(){m["a"].emit("BUTTON_CLICK")},hide:function(){var t=this;window.setTimeout(function(){return t.$store.dispatch("searchHide")},50)},onHide:function(){this.$refs.input.blur(),this.$refs.input.value="",Dt["a"].applyPosition(),Object(s["n"])()&&Object(s["m"])()&&document.removeEventListener("touchstart",this.blurHackForIOS)},blurHackForIOS:function(t){var e=this;t.target&&(Object(s["l"])(this.$refs.container,t.target)||(this.isArtModeEnabled?window.setTimeout(function(){return e.$refs.input.blur()},100):this.$refs.input.blur()))}}}),bi=vi,yi=Object(en["a"])(bi,di,hi,!1,null,null,null);yi.options.__file="search.vue";var Ei=yi.exports,Oi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icons"},[n("MenuButton",{staticClass:"no-highlight",attrs:{active:!t.workspaceRevertable,alwaysShow:!0,alwaysAnimate:!0,primaryText:"clean up",secondaryText:"revert"},on:{click:t.onClearRevert}},[n("IconClear",{staticClass:"menu-button-icon primary",attrs:{slot:"primary"},slot:"primary"}),n("IconRevert",{staticClass:"menu-button-icon secondary",attrs:{slot:"secondary"},slot:"secondary"})],1),n("MenuButton",{attrs:{active:!t.isSettingsActive,primaryText:"settings",secondaryText:"close"},on:{click:t.toggleSettings}},[n("IconSettings",{staticClass:"menu-button-icon primary",attrs:{slot:"primary"},slot:"primary"}),n("IconClose",{staticClass:"menu-button-icon secondary",attrs:{slot:"secondary"},slot:"secondary"})],1),n("MenuButton",{staticClass:"tight",attrs:{active:!t.isEncyclopediaActive,primaryText:"encyclopedia",secondaryText:"close"},on:{click:t.toggleEncyclopedia}},[n("div",{attrs:{slot:"additional"},slot:"additional"},[n("div",{staticClass:"badge-container"},[n("span",{staticClass:"badge",class:{"js-hide":0===t.newInEncyclopediaCount}},[t._v("\n          "+t._s(t.newInEncyclopediaCount||"")+"\n        ")])]),n("AnimationFinalEncyclopedia")],1),n("IconEncyclopedia",{staticClass:"menu-button-icon primary",attrs:{slot:"primary"},slot:"primary"}),n("IconClose",{staticClass:"menu-button-icon secondary",attrs:{slot:"secondary"},slot:"secondary"})],1),n("MenuButton",{attrs:{active:!t.isHintsActive,primaryText:"hints",secondaryText:"close"},on:{click:t.toggleHints}},[n("IconHints",{staticClass:"menu-button-icon primary",attrs:{slot:"primary"},slot:"primary"}),n("IconClose",{staticClass:"menu-button-icon secondary",attrs:{slot:"secondary"},slot:"secondary"})],1)],1)},wi=[],Ai=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ii=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"materialize-container"},[n("div",{directives:[{name:"animation-end",rawName:"v-animation-end",value:t.onAnimation,expression:"onAnimation"}],staticClass:"materialize",class:t.classes,attrs:{id:t.id}},[n("div",{staticClass:"core"}),n("div",{staticClass:"core2"})])])}],Si=Ke["a"][ze["b"]],Ti=$e["a"].extend({name:"animation-final-encyclopedia",data:function(){return{isActive:!1}},computed:{id:function(){return Si.encyclopediaId},classes:function(){return{"js-active":this.isActive}}},mounted:function(){var t=this;m["a"].on("ANIMATION_FINAL_SINGLE_END",function(){return t.onElementAnimationEnd()})},methods:{onElementAnimationEnd:function(){this.isActive=!0},onAnimation:function(t){var e=t.animationName;e===Si.encyclopedia&&(this.isActive=!1)}}}),_i=Ti,xi=Object(en["a"])(_i,Ai,Ii,!1,null,null,null);xi.options.__file="encyclopedia.vue";var Pi=xi.exports,Ci={functional:!0,render(t,e){const{_c:n,_v:i,data:r,children:o=[]}=e,{class:s,staticClass:a,style:u,staticStyle:c,attrs:l={},...d}=r;return n("svg",{class:[s,a],style:[u,c],attrs:Object.assign({id:"icon-clear",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},l),...d},o.concat([n("g",[n("path",{attrs:{d:"M23.13 18.13a3.55 3.55 0 012.5 1L44.53 38a3.53 3.53 0 01.53 4.27L29 58.3 5.3 34.6l16-16a3.53 3.53 0 011.8-.46m0-3a6.44 6.44 0 00-3.7 1.12L1.07 34.62 29 62.52l18.37-18.35a6.5 6.5 0 00-.72-8.3L27.75 17a6.56 6.56 0 00-4.62-1.85z"}}),n("path",{staticClass:"svg-n svg-m",attrs:{d:"M46.36 44.6L19 17.3M8.76 41.2l17.1-17.08M20.38 52.8l7.52-7.5"}}),n("path",{attrs:{d:"M58.86 3.74a1.1 1.1 0 01.76.28 1.08 1.08 0 010 1.52L38 27.12l-1.5-1.52L58.1 4a1.1 1.1 0 01.77-.28m0-3A4.08 4.08 0 0056 1.9L32.25 25.6 38 31.36l23.75-23.7a4 4 0 00-2.9-6.92z"}})]),n("circle",{staticClass:"svg-n svg-m",attrs:{cx:"50",cy:"56",r:"2.83"}})]))}},Ri={functional:!0,render(t,e){const{_c:n,_v:i,data:r,children:o=[]}=e,{class:s,staticClass:a,style:u,staticStyle:c,attrs:l={},...d}=r;return n("svg",{class:[s,a],style:[u,c],attrs:Object.assign({id:"icon-encyclopedia",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},l),...d},o.concat([n("path",{attrs:{d:"M55.86 7.12a3 3 0 002.54 1.4H61v38.7h-9.77l-11.83-.1h-2.8a3 3 0 00-2.68 1.66 2.13 2.13 0 01-1 1h-.08a2.12 2.12 0 01-1 .25 2.55 2.55 0 01-2.22-1.33A3 3 0 0027 47.12H3V8.92h2.1a3 3 0 002.75-1.8h16.4a5.73 5.73 0 014.83 3 3 3 0 002.62 1.54A3 3 0 0034.34 10a5.35 5.35 0 014.76-2.88h16.76m1.54-3H39.1a8.36 8.36 0 00-7.4 4.5 8.76 8.76 0 00-7.4-4.5H6.1a.94.94 0 00-1 1v.8H1a.94.94 0 00-1 1v42.2a.94.94 0 001 1h26A5.56 5.56 0 0031.86 53a5.4 5.4 0 004.74-2.9h2.8l11.8.1H63a.94.94 0 001-1V6.5a1 1 0 00-1-1h-4.6v-.4a.94.94 0 00-1-1z"}}),n("path",{staticClass:"svg-b svg-m bookmark",attrs:{d:"M54.1 33.62v25.2a.87.87 0 01-.9 1 1.85 1.85 0 01-.7-.2l-5.2-4.5-5.3 4.5a1 1 0 01-1.4-.1.9.9 0 01-.3-.7v-25.2z"}}),n("path",{staticClass:"svg-b",attrs:{d:"M31.7 45.56A8 8 0 0025.9 43H6.5V5.62h17.8a7.2 7.2 0 016.1 3.73l1.32 2.4L33 9.33a6.83 6.83 0 016.1-3.7h17.8V43H37.5a8 8 0 00-5.8 2.56z"}}),n("path",{attrs:{d:"M55.4 7.12v34.4H37.5a9.5 9.5 0 00-5.8 2 9.5 9.5 0 00-5.8-2H8V7.12h16.25a5.73 5.73 0 014.83 3l2.67 4.8 2.6-4.92a5.35 5.35 0 014.75-2.88h16.3m2-3H39.1a8.36 8.36 0 00-7.4 4.5 8.76 8.76 0 00-7.4-4.5H6a.94.94 0 00-1 1v38.4a.94.94 0 001 1h19.9a6.5 6.5 0 015 2.4.55.55 0 00.5.3h.6a.85.85 0 00.5-.3 6.5 6.5 0 015-2.4h19.9a.94.94 0 001-1V5.12a.94.94 0 00-1-1z"}}),n("path",{staticClass:"svg-n svg-j",attrs:{d:"M31.7 9.5v36"}}),n("g",{staticClass:"lines"},[n("path",{attrs:{d:"M25.91 14H10.33a1 1 0 010-2h15.58a1 1 0 010 2z"}}),n("path",{attrs:{d:"M25.91 21.54H10.33a1 1 0 010-2h15.58a1 1 0 010 2z"}}),n("path",{attrs:{d:"M25.91 29.11H10.33a1 1 0 010-2h15.58a1 1 0 010 2z"}}),n("path",{attrs:{d:"M25.91 36.69H10.33a1 1 0 010-2h15.58a1 1 0 010 2z"}}),n("path",{attrs:{d:"M52.92 14H37.34a1 1 0 010-2h15.58a1 1 0 010 2z"}}),n("path",{attrs:{d:"M52.92 21.54H37.34a1 1 0 010-2h15.58a1 1 0 010 2z"}}),n("path",{attrs:{d:"M52.92 29.11H37.34a1 1 0 010-2h15.58a1 1 0 010 2z"}}),n("path",{attrs:{d:"M52.92 36.69H37.34a1 1 0 010-2h15.58a1 1 0 010 2z"}})])]))}},Di={functional:!0,render(t,e){const{_c:n,_v:i,data:r,children:o=[]}=e,{class:s,staticClass:a,style:u,staticStyle:c,attrs:l={},...d}=r;return n("svg",{class:[s,a],style:[u,c],attrs:Object.assign({id:"icon-hints",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},l),...d},o.concat([n("g",{staticClass:"lines"},[n("path",{staticClass:"line-r",attrs:{d:"M61.64 31.9h-4.08a1.33 1.33 0 110-2.67h4.09a1.33 1.33 0 110 2.67z"}}),n("path",{staticClass:"line-l",attrs:{d:"M6.44 31.9H2.36a1.33 1.33 0 010-2.67h4.08a1.33 1.33 0 010 2.67z"}}),n("path",{staticClass:"line-rt",attrs:{d:"M50.06 14.1a1.33 1.33 0 01-.94-2.28L52 9a1.33 1.33 0 111.87 1.9L51 13.72a1.33 1.33 0 01-.94.38z"}}),n("path",{staticClass:"line-lb",attrs:{d:"M11 52.56a1.33 1.33 0 01-.94-2.28L13 47.41a1.33 1.33 0 011.87 1.9L12 52.18a1.33 1.33 0 01-1 .38z"}}),n("path",{staticClass:"line-t",attrs:{d:"M32 6.74a1.33 1.33 0 01-1.33-1.33V1.33a1.33 1.33 0 112.67 0v4.08A1.33 1.33 0 0132 6.74z"}}),n("path",{staticClass:"line-lt",attrs:{d:"M13.94 14.1a1.33 1.33 0 01-.94-.38l-2.9-2.87A1.33 1.33 0 1112 9l2.91 2.86a1.33 1.33 0 01-.94 2.28z"}}),n("path",{staticClass:"line-rb",attrs:{d:"M53 52.56a1.33 1.33 0 01-.94-.38l-2.91-2.86A1.33 1.33 0 1151 47.41l2.91 2.86a1.33 1.33 0 01-.91 2.29z"}})]),n("path",{attrs:{d:"M32 50.81a20.12 20.12 0 01-20.25-19.94 20.25 20.25 0 0140.5 0A20.12 20.12 0 0132 50.81z"}}),n("path",{staticClass:"svg-b",attrs:{d:"M32 13.59a17.45 17.45 0 00-17.58 17.28 17.58 17.58 0 0035.16 0A17.45 17.45 0 0032 13.59z"}}),n("path",{attrs:{d:"M38.59 57H25.41a1.33 1.33 0 110-2.67h13.18a1.33 1.33 0 110 2.67z"}}),n("path",{attrs:{d:"M35.43 64h-6.86a1.33 1.33 0 010-2.67h6.87a1.33 1.33 0 010 2.67z"}})]))}},Li={functional:!0,render(t,e){const{_c:n,_v:i,data:r,children:o=[]}=e,{class:s,staticClass:a,style:u,staticStyle:c,attrs:l={},...d}=r;return n("svg",{class:[s,a],style:[u,c],attrs:Object.assign({id:"icon-revert",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},l),...d},o.concat([n("path",{staticClass:"svg-n svg-c svg-j",attrs:{d:"M36.4 53.5h9.9a15.6 15.6 0 100-31.22h-44"}}),n("path",{staticClass:"svg-n svg-c svg-j",attrs:{d:"M2.3 22.3l11.8-11.8"}}),n("path",{staticClass:"svg-n svg-c svg-j",attrs:{d:"M2.1 22.3l11.8 11.8"}})]))}},Ni={functional:!0,render(t,e){const{_c:n,_v:i,data:r,children:o=[]}=e,{class:s,staticClass:a,style:u,staticStyle:c,attrs:l={},...d}=r;return n("svg",{class:[s,a],style:[u,c],attrs:Object.assign({id:"icon-settings",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},l),...d},o.concat([n("path",{staticClass:"svg-n svg-m svg-c",attrs:{d:"M63 15H1m62 17H1m62 17H1"}}),n("ellipse",{staticClass:"svg-b svg-c",attrs:{cx:"14",cy:"15",rx:"6",ry:"6.06"}}),n("ellipse",{staticClass:"svg-b svg-c",attrs:{cx:"32",cy:"32",rx:"6",ry:"6.06"}}),n("ellipse",{staticClass:"svg-b svg-c",attrs:{cx:"50",cy:"49",rx:"6",ry:"6.06"}})]))}},ji=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu-button",class:t.classes,on:{click:t.onClick}},[t._t("additional"),n("div",{staticClass:"menu-button-icon-container"},[t._t("primary"),t._t("secondary")],2),n("div",{staticClass:"menu-button-label-container"},[n("div",{staticClass:"menu-button-label primary"},[t._v(t._s(t.primaryText))]),n("div",{staticClass:"menu-button-label secondary"},[t._v(t._s(t.secondaryText))])])],2)},ki=[],Mi=500,Hi=$e["a"].extend({name:"menu-button",props:{active:{type:Boolean,required:!1,default:!0},primaryText:{type:String,required:!0},secondaryText:{type:String,required:!1,default:""},alwaysShow:{type:Boolean,required:!1,default:!1},alwaysAnimate:{type:Boolean,required:!1,default:!1}},data:function(){return{animating:!1}},computed:{classes:function(){var t=this.alwaysAnimate?this.animating:this.isPrimary;return{primary:this.isPrimary||this.alwaysAnimate&&this.animating,secondary:!this.active&&this.hasSecondary&&(!this.alwaysAnimate||!this.animating),back:!this.alwaysShow&&this.hasSecondary,"js-in":t}},isPrimary:function(){return this.active||!this.hasSecondary},hasSecondary:function(){return!!this.secondaryText.length}},methods:{onClick:function(){this.click(),this.handleAnimation()},click:function(){this.$emit("click"),this.emitSound()},handleAnimation:function(){return Object(u["b"])(this,void 0,void 0,function(){return Object(u["d"])(this,function(t){switch(t.label){case 0:return this.alwaysAnimate?(this.animating=!0,[4,Object(s["c"])(Mi)]):[2];case 1:return t.sent(),this.onAnimationEnd(),[2]}})})},onAnimationEnd:function(){this.animating=!1},emitSound:function(){m["a"].emit("BUTTON_CLICK")}}}),Bi=Hi,$i=Object(en["a"])(Bi,ji,ki,!1,null,null,null);$i.options.__file="button.vue";var Fi=$i.exports,Gi=$e["a"].extend({name:"menu-custom",components:{AnimationFinalEncyclopedia:Pi,MenuButton:Fi,IconClear:Ci,IconClose:gi,IconEncyclopedia:Ri,IconHints:Di,IconRevert:Li,IconSettings:Ni},computed:Object(u["a"])(Object(u["a"])({},Object(o["b"])(["isPopupWithNameActive","encyclopediaTimestamp","workspaceRevertable","progressSince"])),{HINTS_URL:function(){return E["j"]},newInEncyclopediaCount:function(){return this.progressSince(this.encyclopediaTimestamp).length},isSettingsActive:function(){return this.isPopupWithNameActive(y["SETTINGS"])},isEncyclopediaActive:function(){return this.isPopupWithNameActive(y["ENCYCLOPEDIA"])},isHintsActive:function(){return this.isPopupWithNameActive(y["HINTS"])||this.isPopupWithNameActive(y["HINTS_STORE"])}}),methods:{onClearRevert:function(){this.$store.dispatch("workspaceClearRevertStart")},toggleSettings:function(){this.isPopupWithNameActive(y["SETTINGS"])?m["a"].emit("SETTINGS_HIDE"):m["a"].emit("SETTINGS_SHOW"),this.toggle(y["SETTINGS"])},toggleEncyclopedia:function(){this.toggle(y["ENCYCLOPEDIA"])},toggleStore:function(){this.toggle(y["STORE"])},toggleHints:function(){this.isPopupWithNameActive(y["SYNC"])||(this.toggle(y["HINTS"]),this.onHintsClick())},onHintsClick:function(){m["a"].emit("HINTS_CLICKED")},toggle:function(t){this.isPopupWithNameActive(y["SYNC"])||this.$store.dispatch("popupToggle",t)}}}),Ui=Gi,Wi=Object(en["a"])(Ui,Oi,wi,!1,null,null,null);Wi.options.__file="index.vue";var Yi=Wi.exports,zi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.areTutorialsFinished?t._e():n("div",{staticClass:"tutorials",class:t.wrapperClasses},[n("div",{directives:[{name:"animation-end",rawName:"v-animation-end",value:t.restart,expression:"restart"}],ref:"window",staticClass:"tutorial-window",class:t.classes},[t._m(0),t._m(1),t._m(2),n("div",{staticClass:"cursor"},[n("div",{staticClass:"y-offset"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 600 600"}},[n("polygon",{attrs:{points:"594 7 191.82 424.92 430.04 412.82 592.99 587 594 7"}})])])]),n("div",{staticClass:"hand"},[n("div",{staticClass:"y-offset"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 600 600"}},[n("path",{staticClass:"hand-background",attrs:{d:"M553.13 0a46.88 46.88 0 0 0-46.88 46.88v318.75a46.88 46.88 0 1 0-93.75 0v18.75a46.88 46.88 0 1 0-93.75 0v37.5a46.88 46.88 0 1 0-93.75 0V525a75 75 0 0 0 75 75h225a75 75 0 0 0 75-75V46.88A46.88 46.88 0 0 0 553.13 0z"}}),n("rect",{attrs:{x:"515.63",y:"9.38",width:"75",height:"84.38",rx:"35.16"}}),n("path",{staticClass:"hand-lines",attrs:{d:"M591.88 226.56c0-13.47-15.75-24.38-35.16-24.38H552c-19.41 0-35.16 10.91-35.16 24.38M516.88 251.4c0 13.46 15.75 24.38 35.16 24.38h4.68c19.41 0 35.16-10.92 35.16-24.38"}}),n("path",{staticClass:"hand-lines",attrs:{d:"M571.26 233.4c0-4.14-7.09-7.5-15.83-7.5h-2.12c-8.73 0-15.82 3.36-15.82 7.5M537.51 248c0 4.15 7.08 7.5 15.82 7.5h2.12c8.74 0 15.83-3.35 15.83-7.5"}})])])])])])},Ki=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon-container"},[n("div",{staticClass:"y-offset"},[n("div",{staticClass:"icon"})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon-container"},[n("div",{staticClass:"y-offset"},[n("div",{staticClass:"icon"})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"click-container"},[n("div",{staticClass:"y-offset"},[n("div",{staticClass:"click"},[n("div"),n("div"),n("div"),n("div"),n("div"),n("div")])])])}],Xi=["timer","timer","timer"],Vi=$e["a"].extend({name:"tutorials",data:function(){return{isTouch:!1,last:null}},computed:Object(u["a"])(Object(u["a"])({},Object(o["b"])(["tutorial","isTutorialActive","areTutorialsFinished"])),{isIntroActive:function(){return this.isTutorialActive(i.Intro)},isMixActive:function(){return this.isTutorialActive(i.Mix)},isGuideActive:function(){return this.isTutorialActive(i.Guide)},classes:function(){return{"js-touch":this.isTouch,"step-intro":this.isIntroActive||this.last===i.Intro,"step-mix":this.isMixActive||this.last===i.Mix,"step-guide":this.isGuideActive||this.last===i.Guide}},wrapperClasses:function(){return{"js-active":null!==this.tutorial}}}),created:function(){this.detectInputMethod()},watch:{tutorial:"reload"},methods:{iconUrl:Je["a"],detectInputMethod:function(){var t=this,e=function(){t.isTouch=!0,document.removeEventListener("touchstart",e)};document.addEventListener("touchstart",e)},reload:function(t,e){var n=this;null!==e&&(this.last=e),Object(s["t"])(this.$el,function(){n.last=null})},restart:function(t){void 0===t&&(t=null),(null===t||Xi.includes(t.animationName))&&Object(s["w"])(this.$refs.window)}}}),qi=Vi,Qi=Object(en["a"])(qi,zi,Ki,!1,null,null,null);Qi.options.__file="tutorials.vue";var Ji=Qi.exports,Zi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-tutorials-container",class:t.containerClasses},[i("div",{staticClass:"text-tutorials",class:t.classes},[i("div",{staticClass:"close",on:{click:t.hide}},[i("img",{staticClass:"label",attrs:{src:n("2260"),alt:"close"}})]),i("div",{staticClass:"content",domProps:{innerHTML:t._s(t.text)}})])])},tr=[],er=n("93e8"),nr=["left","center","right"],ir=["top","center","bottom"],rr=function(t,e){return e>t.length-1?"center":t[e]},or=$e["a"].extend({name:"text-tutorials",data:function(){return{textCopy:"",containerClassesCopy:[]}},computed:Object(u["a"])(Object(u["a"])({},Object(o["b"])(["tutorialTextCurrent","tutorialTextPosition"])),{classes:function(){return{"js-active":null!==this.tutorialTextCurrent}},containerClasses:function(){var t=this.tutorialTextPosition;if(!t)return this.containerClassesCopy;var e=["horizontal-"+rr(nr,t.horizontal),"vertical-"+rr(ir,t.vertical)];return this.containerClassesCopy=e,e},text:function(){return this.textCopy}}),watch:{tutorialTextCurrent:function(t){var e;t&&(e=Object(er["b"])(t.text)?t.text:t.text(this.$store.getters),this.textCopy=e)}},methods:{hide:function(){this.$store.dispatch("tutorialTextHide")}}}),sr=or,ar=Object(en["a"])(sr,Zi,tr,!1,null,null,null);ar.options.__file="text-tutorials.vue";var ur=ar.exports,cr=$e["a"].extend({name:"game",components:{Workspace:Rn,Library:li,Search:Ei,Menu:Yi,Tutorials:Ji,TextTutorials:ur,Animations:function(){return n.e("animations").then(n.bind(null,"407f"))}},mounted:function(){var t=this;m["a"].once("PLAY",function(){return t.$store.dispatch("startedPlaying")})}}),lr=cr,dr=Object(en["a"])(lr,Fe,Ge,!1,null,null,null);dr.options.__file="game.vue";var hr=dr.exports,fr=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},pr=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("audio",{attrs:{id:t.id,preload:"metadata"},on:{loadedmetadata:t.onMetaData}},[n("source",{attrs:{src:t.srcOGG,type:"audio/ogg"}}),n("source",{attrs:{src:t.srcM4A,type:"audio/mpeg"}})])}],mr=n("9b08"),gr=$e["a"].extend({name:"audio-extension",computed:{id:function(){return mr["b"]},srcOGG:function(){return""+mr["j"]+mr["i"]+".ogg"},srcM4A:function(){return""+mr["j"]+mr["i"]+".m4a"}},methods:{onMetaData:function(){m["a"].emit("AUDIO_EXTENSION")}}}),vr=gr,br=Object(en["a"])(vr,fr,pr,!1,null,null,null);br.options.__file="audio-extension.vue";var yr=br.exports,Er=$e["a"].extend({name:"app",components:{Game:hr,Popups:function(){return n.e("popups").then(n.bind(null,"59a1"))},AudioExtension:yr},computed:{isGameReady:function(){return this.$store.getters.isGameReady}}}),Or=Er,wr=(n("6294"),Object(en["a"])(Or,He,Be,!1,null,null,null));wr.options.__file="app.vue";var Ar=wr.exports;r["a"].config.productionTip=!1,r["a"].config.devtools=!1,r["a"].config.debug=!1,r["a"].config.silent=!0,r["a"].config.performance=!1,new r["a"]({store:o["a"],el:"#app",render:function(t){return t(Ar)}}),a["a"].init(new f),p["a"].init(o["a"]),m["a"].init(o["a"]),P.init(o["a"]),$.init(o["a"]),W.init(),Y["b"].init(o["a"]),Q.init(),be["a"].init(o["a"]),Le.init(o["a"]),o["a"].dispatch("init"),Object(s["b"])(function(){me["a"].init(o["a"]),ge["a"].init(o["a"]),ve["a"].init(o["a"]),Z["a"].init(o["a"]),Rt.init(),Nt.init(o["a"]),jt["a"].init(o["a"]),Mt.init(o["a"]),Xt["a"].init(o["a"]),Object(s["b"])(function(){J["a"].init(o["a"]),$t.init(o["a"]),Ft["a"].init(o["a"]),Wt.init(o["a"]),D["a"].init(o["a"]),zt.init(o["a"]),Kt["a"].init(o["a"]),pe.init(o["a"])})})},cd57:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var i="js-animation-new",r="js-search-bar"},cf19:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var i=n("2de2"),r="_",o=function(t){return t.includes(r)},s=function(t,e){return e===i["k"]?!o(t):o(t)&&t.includes(e)}},cfb6:function(t,e){},d0c4:function(t,e,n){"use strict";var i=n("2138"),r=n("1663"),o=n("7543"),s=function(t){return t.hasOwnProperty("dimensions")},a=function(){function t(){this.currentPosition=null,this.listening=[]}return t.prototype.init=function(t){this.$store=t},t.prototype.onDragStart=function(){this.isMixingEnabled&&(this.listening=this.getSortedListening())},t.prototype.onDragMove=function(t){if(this.currentPosition=t,!this.checkStatic()&&!this.checkAlreadyOver()&&this.isMixingEnabled){var e=this.checkListening();null!==e&&(this.isOver||this.triggerOver(e))}},t.prototype.onDragEnd=function(t){if(void 0===t&&(t=!1),this.currentPosition=null,!this.isOver)return this.isOutsideWorkspace()?void this.destroyDragged():void(this.wasCloned||"longpress"===t||r["a"].emit("ELEMENT_DROP"));this.shouldDestroyAfterDrop?this.destroyDragged():t||this.$store.dispatch("droppableDrop")},t.prototype.destroyDragged=function(){var t=this.$store.getters.draggedId;null!==t&&this.$store.dispatch("workspaceElementRemove",t),r["a"].emit("ELEMENT_DESTROY")},t.prototype.triggerOver=function(t){var e=t.id;this.$store.dispatch("dragOver",e)},t.prototype.triggerOut=function(){this.$store.dispatch("dragOut")},t.prototype.checkAlreadyOver=function(){if(!this.isOver)return!1;var t=this.checkIntersection(this.over);return!!t||(this.triggerOut(),!1)},t.prototype.checkStatic=function(){var t=this,e=this.static.find(function(e){return t.checkIntersection(e)});return!!e&&(this.over&&this.over.id===e.id||this.triggerOver(e),!0)},t.prototype.checkListening=function(){var t=this;return this.listening.find(function(e){return t.checkIntersection(e)})||null},t.prototype.checkIntersection=function(t){if(null===t)return!1;var e=s(t)?t.dimensions:this.workspaceBoxDimensions;return Object(o["c"])(t.position,e,this.currentPosition,this.workspaceBoxDimensions)},t.prototype.isOutsideWorkspace=function(){var t=this.$store.getters.draggedElement,e=t?t.position:null;if(!e)return!1;var n=e.x,r=e.y,o=this.workspaceBoxDimensions,s=o.width,a=o.height;return n<-s*i["f"]||(r<-a*i["f"]||r>window.innerHeight-a*(1-i["f"]))},t.prototype.getSortedListening=function(){var t=[],e=this.$store.getters.droppablesListening,n=document.querySelectorAll("#"+i["g"]+" [data-id]");return Array.from(n).forEach(function(n){var i=n.dataset.id,r=e.find(function(t){return t.id===i});r&&t.push(r)}),t.reverse()},Object.defineProperty(t.prototype,"isMixingEnabled",{get:function(){return!this.$store.getters.isMixingDisabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"static",{get:function(){return Object.values(this.$store.getters.droppablesStatic)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return this.$store.getters.draggingOverElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOver",{get:function(){return this.$store.getters.isOver},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDragging",{get:function(){return this.$store.getters.isDragging},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldDestroyAfterDrop",{get:function(){return this.over&&this.over.id===i["e"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceBoxDimensions",{get:function(){return this.$store.getters.workspaceBoxDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wasCloned",{get:function(){var t=this.$store.getters.draggedElement;if(!t)return!1;var e=document.querySelector('[data-id="'+t.id+'"]');return!(!e||!e.__vue__)&&e.__vue__.cloned},enumerable:!0,configurable:!0}),t}();e["a"]=new a},d1f6:function(t,e){},d257:function(t,e,n){"use strict";var i=n("2ae7"),r=function(t,e){return void 0===e&&(e="animationend"),new Promise(function(n){var i=function(){t.removeEventListener(e,i),n()};t.addEventListener(e,i)})},o=function(t){var e=t.className;t.className="",t.offsetWidth,t.className=e},s=function(t,e){return t.addEventListener(i["a"],e,!1),function(){return t.removeEventListener(i["a"],e)}},a=function(t,e){return s(t,function(t){var n=t.animationName;return e(n)})},u=function(t,e){return t.addEventListener(i["b"],e,!1),function(){return t.removeEventListener(i["b"],e)}},c=function(t){return new Promise(function(e){return window.setTimeout(e,t)})},l=function(t){return window.setTimeout(t,0)},d=window.requestAnimationFrame?function(){return new Promise(function(t){return requestAnimationFrame(function(){return t()})})}:function(){return c(0)},h=["Webkit","Moz","ms","Ms","O"],f=document.documentElement.style,p=window.getComputedStyle?function(t){return getComputedStyle(t,null)}:function(t){return t.currentStyle},m=function(t){if("string"===typeof f[t])return t;for(var e,n=""+t.charAt(0).toUpperCase()+t.slice(1),i=0,r=h.length;i<r;i++)if(e=h[i]+n,"string"===typeof f[e])return e;return t},g=function(t){var e=getComputedStyle(t);return t.offsetHeight+parseInt(e.marginTop||"0",10)+parseInt(e.marginBottom||"0",10)},v=n("2b80"),b=null,y=null,E=function(){var t=new v["UAParser"](navigator.userAgent),e=t.getResult();b=e.os,y=e.browser},O=function(){null===b&&null===y&&E()},w=function(){return O(),b&&"iOS"===b.name},A=function(){return O(),y&&y.name&&y.name.includes("Safari")},I=function(){return O(),b&&y&&"iOS"===b.name&&"Chrome"===y.name},S=Object.defineProperties({},{os:{get:function(){return O(),b}},browser:{get:function(){return O(),y}}}),T=function(t,e){var n=e.parentNode;while(null!==n){if(n===t)return!0;n=n.parentNode}return!1},_=function(t){t.parentNode&&t.parentNode.appendChild(t)},x=function(t){return new Promise(function(e,n){var i=new XMLHttpRequest;i.open("get",t,!0),i.responseType="json",i.onload=function(){200===i.status?e(i.response):n(i.status)},i.send()})},P=n("8d6a"),C=function(t,e){t.scrollTop=e},R=function(t){return t.scrollY||t.scrollTop},D=function(t){return"getComputedStyle"in window&&"smooth"===window.getComputedStyle(t)["scroll-behavior"]},L=function(t,e,n){if(void 0===n&&(n=250),0===n||D(t))C(t,e);else{var i=R(t),r=Math.max(0,e)-i,o=(new Date).getTime(),s=n||Math.min(Math.abs(r),n);(function e(){setTimeout(function(){var n=Math.min(1,((new Date).getTime()-o)/s),a=n<.5?2*n*n:n*(4-2*n)-1,u=Math.max(0,Math.floor(i+r*a));C(t,u),n<1&&e()},9)})()}},N=function(t){return""+t.charAt(0).toUpperCase()+t.slice(1)},j=60,k=60*j,M=24*k,H=function(t){var e=Math.floor(t/M),n=Math.floor((t-e*M)/k),i=Math.floor((t-e*M-n*k)/j);return{days:e,hours:n,minutes:i}},B=function(t){var e=Date.now(),n=Math.round((e-t)/1e3);return H(n)},$=function(t){var e=B(t),n=e.days,i=e.hours,r=e.minutes;return 0===n&&0===i&&r<2?"just now":0===n&&0===i?r+" minutes ago":0===n&&1===i?i+" hour "+r+" minutes ago":0===n&&i<3?i+" hours "+r+" minutes ago":0===n?i+" hours ago":1===n?n+" day ago":n+" days ago"},F=function(t,e){var n=new XMLHttpRequest;return n.open("POST",t,!0),n.setRequestHeader("Content-type","application/json"),n.send(JSON.stringify(e)),new Promise(function(t,e){n.onload=function(){return t(n.response)},n.onerror=e})},G=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!0),e.send(),new Promise(function(t,n){e.onload=function(){return t(e.response)},e.onerror=n})};n.d(e,"r",function(){return r}),n.d(e,"w",function(){return o}),n.d(e,"q",function(){return s}),n.d(e,"s",function(){return a}),n.d(e,"t",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"p",function(){return d}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"f",function(){return g}),n.d(e,"m",function(){return w}),n.d(e,"n",function(){return A}),n.d(e,"k",function(){return I}),n.d(e,"d",function(){return S}),n.d(e,"l",function(){return T}),n.d(e,"v",function(){return _}),n.d(e,"e",function(){return x}),n.d(e,"o",function(){return P["a"]}),n.d(e,"z",function(){return P["b"]}),n.d(e,"x",function(){return L}),n.d(e,"a",function(){return N}),n.d(e,"y",function(){return H}),n.d(e,"j",function(){return $}),n.d(e,"u",function(){return F}),n.d(e,"g",function(){return G})},d74b:function(t,e){},da98:function(t,e,n){"use strict";var i=n("9ab4"),r={id:"",name:"",description:"",parents:[],children:[],tags:[],prime:!1,base:!1,final:!1,exhausted:null,condition:null},o=r;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var s=function(t,e){return t.hasOwnProperty(e)},a=function(t){return t.hasOwnProperty("parents")&&!!t.parents&&!!t.parents.length},u=function(t,e){var n=t.name||t.n||"",r=t.parents||t.p||[],s=t.children||t.c||[];return delete t.n,delete t.c,delete t.p,Object(i["a"])(Object(i["a"])(Object(i["a"])({},o),t),{id:e,name:n,children:s,parents:r,final:!s.length})}},db96:function(t,e,n){"use strict";var i,r=n("9b08"),o=n("9ab4"),s=n("d257"),a=0,u=.6,c=.08,l=.01,d=function(){function t(t,e){this.$store=e,this.context=t,this.sfx=this.context.createGain(),this.setVolume(this.sfx.gain,u),this.music=this.context.createGain(),this.setVolume(this.music.gain,l),this.gain=this.context.createGain(),this.sfx.connect(this.gain),this.music.connect(this.gain),this.gain.connect(this.context.destination),this.initWatchers()}return t.prototype.initWatchers=function(){var t=this;this.$store.watch(function(t,e){return e.playMusic},function(e){return t[e?"unmute":"mute"](r["f"])}),this.$store.watch(function(t,e){return e.playSfx},function(e){return t[e?"unmute":"mute"](r["h"])})},t.prototype.mute=function(t){var e=t===r["f"]?l:a;this.setVolumeSmooth(this[t].gain,e)},t.prototype.unmute=function(t,e){void 0===e&&(e=c);var n=t===r["f"]?this.getMusicMax(e):u;this.setVolumeSmooth(this[t].gain,n)},t.prototype.fadeInMusic=function(t,e){return void 0===t&&(t=r["c"]),void 0===e&&(e=c),Object(o["b"])(this,void 0,void 0,function(){var n;return Object(o["d"])(this,function(i){switch(i.label){case 0:return this.canPlay(r["f"])&&(n=this.getMusicMax(e),this.music.gain.value!==n&&this.setVolume(this.music.gain,l),this.music.gain.exponentialRampToValueAtTime(n,this.context.currentTime+t)),[4,Object(s["c"])(1e3*t)];case 1:return i.sent(),[2]}})})},t.prototype.fadeOutMusic=function(t){return void 0===t&&(t=r["c"]),Object(o["b"])(this,void 0,void 0,function(){return Object(o["d"])(this,function(e){switch(e.label){case 0:return this.music.gain.exponentialRampToValueAtTime(l,this.context.currentTime+t),[4,Object(s["c"])(1e3*t)];case 1:return e.sent(),[2]}})})},t.prototype.canPlay=function(t){return t===r["f"]?this.$store.getters.playMusic:this.$store.getters.playSfx},t.prototype.setVolume=function(t,e){t.setValueAtTime(e,this.context.currentTime)},t.prototype.setVolumeSmooth=function(t,e){var n=.25;t.setTargetAtTime(e,this.context.currentTime,n)},t.prototype.getMusicMax=function(t){return 100===t?c:t/100*c},t}(),h=d,f={name:"",type:null,url:null,buffer:null},p=Object(o["a"])(Object(o["a"])({},f),{lazy:!0,loop:!1,mood:-1,duration:0,fadeIn:0,fadeOut:0,volume:100,silenceAfter:0,prevents:[]}),m=function(t){return t.hasOwnProperty("lazy")},g=function(){function t(t){var e=this;this.sounds={},this.decode=function(t){return new Promise(function(n,i){return e.context.decodeAudioData(t,n,i)})},this.context=t}return t.prototype.add=function(t,e){var n=this,i=this.extension,s=t===r["h"]?r["j"]:r["g"],a=t===r["h"]?f:p;Object.entries(e).forEach(function(e){var r=e[0],u=e[1],c=Object(o["a"])(Object(o["a"])({},a),u);c.name=r,c.type=c.type||t,c.url&&(c.url=""+s+c.url+"."+i),n.sounds[r]=c})},t.prototype.get=function(t){return this.sounds.hasOwnProperty(t)?this.sounds[t]:null},t.prototype.loadAll=function(){var t=this,e=[];return Object.values(this.sounds).forEach(function(n){m(n)&&n.lazy||e.push(t.load(n))}),Promise.all(e)},t.prototype.load=function(t){var e=t.name,n=t.url,i=void 0===n?null:n;return this.sounds.hasOwnProperty(e)&&i?t.hasOwnProperty("promise")?t.promise:(t.promise=this.fetch(i).then(this.decode).then(function(e){return t.buffer=e,!0}).catch(function(t){return console.error("Error while loading and decoding sound",t)}),t.promise):Promise.resolve(null)},t.prototype.fetch=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!0),e.responseType="arraybuffer",new Promise(function(t,n){e.onload=function(){return t(e.response)},e.onerror=n,e.send()})},Object.defineProperty(t.prototype,"extension",{get:function(){var t=document.getElementById(r["b"]);if(!t||!t.currentSrc)return"ogg";var e=t.currentSrc;return e.includes(".m4a")?"m4a":"ogg"},enumerable:!0,configurable:!0}),t}(),v=g,b=n("1663"),y={click:{url:r["i"],volume:100},pickup:{url:"PickUpItem",volume:100},drop:{url:"DropItem",volume:100},alreadymixed:{url:"AlreadyMixed",volume:400},clone:{url:"CloneItem",volume:150},failed:{url:"FailedToMix",volume:80},remove:{url:"RemoveItem",volume:80},charge:{url:"ChargeUp",volume:10},pop:{url:"PopUp",volume:30}},E={DRAG_START:"pickup",ELEMENT_DROP:"drop",ELEMENT_CLONE:"clone",ELEMENT_DESTROY:"remove",MIX_MIXED:"alreadymixed",MIX_FAIL:"failed",MIX_NEW:"charge",ANIMATION_NEW_POP:"pop",BUTTON_CLICK:"click"},O=function(){function t(t){this.play=t,this.initTriggersListeners()}return t.prototype.initTriggersListeners=function(){var t=this;Object.entries(E).forEach(function(e){var n=e[0],i=e[1];return b["a"].on(n,function(){return t.play(i)})})},Object.defineProperty(t.prototype,"sounds",{get:function(){return y},enumerable:!0,configurable:!0}),t}(),w=O,A=(i={LA_001:{type:r["f"],url:"LA_001",mood:r["e"],silenceAfter:10,prevents:["LA_001_loop"]},LA_002:{type:r["f"],url:"LA_002",mood:r["e"],silenceAfter:10,prevents:["LA_002_loop"]},LA_003:{type:r["f"],url:"LA_003",mood:r["e"],silenceAfter:15,prevents:["LA_003_loop"]},LA_FS_3_4:{type:r["f"],url:"LA_FS_3_4",mood:r["e"],silenceAfter:10,prevents:["LA_FS_3_4_loop"]},LA_004:{type:r["f"],url:"LA_004_Loop",loop:!0,mood:r["d"],duration:320,volume:70,silenceAfter:6,fadeIn:4,fadeOut:4},LA_005:{type:r["f"],url:"LA_005_Loop",loop:!0,mood:r["d"],duration:246,volume:70,silenceAfter:20,fadeIn:4,fadeOut:4},LA_006:{type:r["f"],url:"LA_006_Loop",loop:!0,mood:r["e"],duration:180,silenceAfter:6,fadeIn:2,fadeOut:2},LA_FS_001:{type:r["f"],url:"LA_FS_001_Loop",loop:!0,mood:r["d"],duration:200,volume:70,silenceAfter:10,fadeIn:4,fadeOut:4},LA_FS_0032:{type:r["f"],url:"LA_FS_0032_Loop",loop:!0,mood:r["d"],duration:60},LA_001_loop:{type:r["a"],url:"LA_001_Loop",loop:!0,mood:r["d"],duration:50,volume:50,silenceAfter:6,fadeIn:6,fadeOut:6,prevents:["LA_001"]},LA_002_loop:{type:r["a"],url:"LA_002_Loop",loop:!0,mood:r["d"],duration:100,volume:50,silenceAfter:15,fadeIn:3,fadeOut:6,prevents:["LA_002"]},LA_003_loop:{type:r["a"],url:"LA_003_Loop",loop:!0,mood:r["d"],duration:90,volume:50,silenceAfter:10,fadeIn:2,fadeOut:5,prevents:["LA_003"]},LA_FS_3_4_loop:{type:r["a"],url:"LA_FS_3_4_Loop",loop:!0,mood:r["d"],duration:64,volume:50,silenceAfter:10,fadeIn:3,fadeOut:6,prevents:["LS_FS_3_4"]}},i[r["k"]]={type:r["a"],buffer:[],duration:20},i),I=A,S=n("5c57"),T=6e4,_=15e4,x=3e5,P=1,C=function(){var t=0,e=0,n=0,i=Date.now();return S["a"].getters.history.forEach(function(r){var o=r.timestamp,s=i-o;s<T?t++:s<_?e++:s<x&&n++}),{short:t,long:e,finish:n}},R=function(){var t=C(),e=t.short,n=t.long,i=t.finish,o=3*e+2*n+i;return o>P?r["e"]:r["d"]},D=R,L=5,N="LA_006",j=function(){function t(t,e){var n=this;this.history=[],this.playNext=function(){var t=n.getNext();Object(s["o"])("music","next track",t),n.play(t),n.addToHistory(t)},this.base=t,this.play=e,I[N].lazy=!1,window.setTimeout(function(){n.play(N),n.addToHistory(N)},250)}return t.prototype.onTrackFinished=function(){Object(s["o"])("music","trackFinished",this.current),this.current&&this.current.silenceAfter?window.setTimeout(this.playNext,1e3*this.current.silenceAfter):this.playNext()},t.prototype.getNext=function(){var t=this.calculateRandomNext();return this.history.includes(t)&&(t=this.calculateRandomNext()),t},t.prototype.calculateRandomNext=function(){var t=this.calculateMood();if(!this.current)return r["k"];if(this.current.type===r["f"]&&this.current.mood===r["e"])return this.randomConnector();if(this.current.mood===r["d"]){var e=[this.randomConnector(),this.randomTrack(r["d"])];return this.random(e)}return this.current.type===r["a"]?this.randomTrack(t):this.randomConnector()},t.prototype.calculateMood=function(){return D()},t.prototype.randomConnector=function(){var t=this,e=this.names.filter(function(e){return t.getSound(e).type===r["a"]&&!t.prevents.includes(e)&&e!==t.latest});return this.random(e)},t.prototype.randomTrack=function(t){var e=this,n=this.names.filter(function(n){var i=e.getSound(n);return!!i&&(i.type===r["f"]&&i.mood===t&&n!==e.latest&&!e.prevents.includes(n))});return this.random(n)},t.prototype.random=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},t.prototype.addToHistory=function(t){this.history.unshift(t),this.history.length>L&&this.history.pop()},t.prototype.getSound=function(t){return this.base.sounds.get(t)},Object.defineProperty(t.prototype,"current",{get:function(){return this.getSound(this.latest)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prevents",{get:function(){return this.current?this.current.prevents:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sounds",{get:function(){return I},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"names",{get:function(){return Object.keys(this.sounds)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"latest",{get:function(){return this.history.length?this.history[0]:""},enumerable:!0,configurable:!0}),t}(),k=j,M=.4,H=function(){function t(t,e,n){var i=this;this.timer=null,this.source=null,this.startedAt=-1,this.pausedAt=0,this.onEnded=function(){i.base.onTrackFinished()},this.durationReached=function(){var t=.5,e=i.context.currentTime-i.startedAt+t;e<i.currentDuration||(i.currentSound&&i.currentSound.fadeOut?i.volume.fadeOutMusic(i.currentSound.fadeOut).then(function(){return i.stop(!0)}):i.stop(!0))},this.base=t,this.context=e,this.$store=n,this.initVisibilityListener(),this.initMuteListener()}return t.prototype.initVisibilityListener=function(){var t=this;this.$store.watch(function(t,e){return e.isGameActive},function(e){return e?t.onShow():t.onHide()})},t.prototype.initMuteListener=function(){var t=this;this.$store.watch(function(t,e){return e.playMusic},function(e){Object(s["o"])("music","mute music",!e),!t.isPlaying||e?!t.isPlaying&&e&&t.current&&t.play(t.current):t.pause()})},t.prototype.play=function(t){var e=this,n=this.base.sounds.get(t);this.isValid(n)&&(this.$store.dispatch("musicPlay",t),Object(s["o"])("music","play track",n),this.current!==r["k"]?(this.playSource(n),0!==this.currentDuration&&(this.clearTimer(),this.timer=window.setTimeout(this.durationReached,1e3*(this.currentDuration-this.pausedAt))),n.fadeIn?this.volume.fadeInMusic(n.fadeIn,n.volume):this.volume.unmute(r["f"],n.volume)):window.setTimeout(function(){e.$store.dispatch("musicStop"),e.onEnded()},1e3*this.currentDuration))},t.prototype.isValid=function(t){var e=this;return!!t&&(!this.isPlaying&&!this.isHidden&&(this.volume.canPlay(r["f"])&&this.$store.getters.isGameActive?!!t.buffer||(this.base.sounds.load(t).then(function(){return e.play(t.name)}),!1):(this.$store.dispatch("musicSet",t.name),!1)))},t.prototype.playSource=function(t){var e=this.context.createBufferSource();e.buffer=t.buffer,e.loop=t.loop,e.connect(this.volume.music);var n=this.pausedAt;e.start(0,n),e.onended=this.onEnded,this.source=e,this.startedAt=this.context.currentTime-this.pausedAt,this.pausedAt=0},t.prototype.pause=function(){var t=this.context.currentTime-this.startedAt;this.pausedAt=t,this.stop(),this.$store.dispatch("musicPause")},t.prototype.stop=function(t){void 0===t&&(t=!1),null!==this.current&&null!==this.source&&(this.source.stop||(this.source.stop=this.source.noteOff),this.clearTimer(),t?this.$store.dispatch("musicStop"):this.source.onended=null,Object(s["o"])("music","stop track",this.current),this.source.stop(0),this.source=null,this.startedAt=-1)},t.prototype.onShow=function(){return Object(o["b"])(this,void 0,void 0,function(){return Object(o["d"])(this,function(t){switch(t.label){case 0:return!this.currentSound||this.isPlaying?[2]:[4,this.context.resume()];case 1:return t.sent(),Object(s["o"])("music","start on show",this.current),this.play(this.current),this.currentSound&&!this.currentSound.fadeIn&&this.volume.fadeInMusic(M,this.currentSound.volume),[2]}})})},t.prototype.onHide=function(){return Object(o["b"])(this,void 0,void 0,function(){return Object(o["d"])(this,function(t){switch(t.label){case 0:return this.isPlaying?(Object(s["o"])("music","stop on hide",this.current),[4,this.volume.fadeOutMusic(M)]):[2];case 1:return t.sent(),[4,this.pause()];case 2:return t.sent(),this.context.suspend(),this.clearTimer(),[2]}})})},t.prototype.clearTimer=function(){this.timer&&window.clearTimeout(this.timer),this.timer=null},Object.defineProperty(t.prototype,"volume",{get:function(){return this.base.volume},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.$store.getters.isMusicPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"current",{get:function(){return this.$store.getters.currentMusic},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSound",{get:function(){return this.current?this.base.sounds.get(this.current):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentDuration",{get:function(){if(!this.current||!this.currentSound)return 0;var t=this.currentSound,e=t.duration,n=t.fadeOut?t.fadeOut:0;return e-n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return"hidden"===document.visibilityState||document.hidden},enumerable:!0,configurable:!0}),t}(),B=H,$=function(){function t(){var t=this;this.playMusic=function(e){t.player.play(e)},this.playSFX=function(e){var n=t.sounds.get(e);if(n&&n.buffer&&t.volume.canPlay(r["h"])){var i=t.context.createBufferSource();i.buffer=n.buffer;var o=t.volume.sfx;"number"===typeof n.volume&&(o=t.context.createGain(),o.gain.setValueAtTime(n.volume/100,t.context.currentTime),o.connect(t.volume.sfx),i.onended=function(){return o.disconnect()}),i.connect(o),i.start(0,0)}}}return t.prototype.init=function(t){var e=this,n=function(){e.initContext(t),document.removeEventListener("mousedown",n,!1),document.removeEventListener("touchdown",n,!1)};document.addEventListener("mousedown",n,!1),document.addEventListener("touchdown",n,!1)},t.prototype.initContext=function(t){var e=this;if("AudioContext"in window)this.context=new window.AudioContext;else{if(!("webkitAudioContext"in window))return void t.commit("AUDIO_DISABLED");this.context=new window.webkitAudioContext}this.player=new B(this,this.context,t),this.sounds=new v(this.context),this.volume=new h(this.context,t),this.sfx=new w(this.playSFX),this.music=new k(this,this.playMusic),this.sounds.add(r["h"],this.sfx.sounds),this.sounds.add(r["f"],this.music.sounds),window.setTimeout(function(){return e.sounds.loadAll()},0)},t.prototype.onTrackFinished=function(){this.music.onTrackFinished()},t}();e["a"]=new $},ded8:function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var i=/[0-9]{1,2}_/,r=function(t,e){if(i.test(t)&&i.test(e)){var n=t.replace(i,""),r=e.replace(i,"");return+r<+n?[e,t]:[t,e]}return i.test(t)?[e,t]:[t,e]},o=function(t,e){return[""+Math.min(+t,+e),""+Math.max(+t,+e)]},s=function(t){var e=t[0],n=t[1];return i.test(e)||i.test(n)?r(e,n):o(e,n)},a=function(t,e,n){void 0===n&&(n=!1);var i=[],r={};e.forEach(function(e){if(t.hasOwnProperty(e)){var n=t[e].name.toLowerCase()+"_"+e;r[n]=e,i.push(n)}});var o=i.sort(),s=o.map(function(t){return r[t]});return n?s.reverse():s},u=function(t,e,n){void 0===n&&(n=!1);var i=e.sort(function(e,n){var i=t[e]||-1,r=t[n]||-1;return i>r?-1:i<r?1:0});return n?i.reverse():i},c=function(t,e,n){void 0===n&&(n=!1);var i=t.reduce(function(t,e){var n=e.id,i=e.timestamp;return t[n]=i,t},{});return u(i,e,n)}},e238:function(t,e,n){"use strict";var i=n("9ab4"),r=n("1663"),o=n("db96"),s="poki-static-banner",a="728x90",u="320x50",c=function(){function t(){this.isAdblockEnabled=!1}return t.prototype.init=function(t){return Object(i["b"])(this,void 0,void 0,function(){var e,n=this;return Object(i["d"])(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.initSDK()];case 1:return i.sent(),[3,3];case 2:return e=i.sent(),this.isAdblockEnabled=!0,console.error(e),[3,3];case 3:return this.gameLoadingStart(),r["a"].once("GAME_READY",function(){return n.gameLoadingFinished()}),this.initGameplay(t),this.initHappyTime(),this.initCommercialBreak(),[2]}})})},t.prototype.initSDK=function(){return this.poki.init()},t.prototype.initGameplay=function(t){var e=this;r["a"].once("PLAY",function(){e.gameplayStart(),e.commercialBreak()}),t.watch(function(t,e){return e.isPopupOverlayActive},function(t){t?e.gameplayStop():e.gameplayStart()})},t.prototype.initHappyTime=function(){var t=this;r["a"].on("MIX_MIXED",function(){return t.happyTime(.2)}),r["a"].on("MIX_NEW",function(){return Object(i["b"])(t,void 0,void 0,function(){return Object(i["d"])(this,function(t){switch(t.label){case 0:return[4,r["a"].then("ANIMATION_NEW_END")];case 1:return t.sent(),this.happyTime(.5),[2]}})})}),r["a"].on("MIX_BASE",function(){return Object(i["b"])(t,void 0,void 0,function(){return Object(i["d"])(this,function(t){switch(t.label){case 0:return[4,r["a"].then("ANIMATION_NEW_END")];case 1:return t.sent(),this.happyTime(1),[2]}})})}),r["a"].on("GAME_COMPLETION_ANIMATION_END",function(){return t.happyTime(1)}),r["a"].on("GAME_END_ANIMATION_END",function(){return t.happyTime(1)})},t.prototype.initCommercialBreak=function(){var t=this;r["a"].on("ANIMATION_NEW_END",function(){t.commercialBreak()})},t.prototype.gameplayStart=function(){this.poki.gameplayStart()},t.prototype.gameplayStop=function(){this.poki.gameplayStop()},t.prototype.gameLoadingStart=function(){this.poki.gameLoadingStart()},t.prototype.gameLoadingFinished=function(){this.poki.gameLoadingFinished()},t.prototype.displayStaticAd=function(){if(this.canDisplayStaticAd()){var t=this.staticAdContainer;t&&this.poki.displayAd(t,this.staticAdSize)}},t.prototype.destroyStaticAd=function(){if(this.canDisplayStaticAd()){var t=this.staticAdContainer;t&&this.poki.destroyAd(t)}},Object.defineProperty(t.prototype,"staticAdSize",{get:function(){var t=window.innerHeight>=470&&window.innerWidth>=728;return t?a:u},enumerable:!0,configurable:!0}),t.prototype.canDisplayStaticAd=function(){return!0},Object.defineProperty(t.prototype,"staticAdContainer",{get:function(){return document.getElementById(s)},enumerable:!0,configurable:!0}),t.prototype.commercialBreak=function(){return Object(i["b"])(this,void 0,void 0,function(){return Object(i["d"])(this,function(t){switch(t.label){case 0:return t.trys.push([0,,2,3]),o["a"].volume&&o["a"].volume.mute("music"),this.gameplayStop(),[4,this.poki.commercialBreak()];case 1:return t.sent(),[3,3];case 2:return o["a"].volume&&o["a"].volume.unmute("music"),this.gameplayStart(),[7];case 3:return[2]}})})},t.prototype.rewardedBreak=function(){return Object(i["b"])(this,void 0,void 0,function(){var t;return Object(i["d"])(this,function(e){switch(e.label){case 0:return e.trys.push([0,,2,3]),o["a"].volume&&o["a"].volume.mute("music"),[4,this.poki.rewardedBreak()];case 1:return t=e.sent(),[2,t];case 2:return o["a"].volume&&o["a"].volume.unmute("music"),[7];case 3:return[2]}})})},t.prototype.happyTime=function(t){return void 0===t&&(t=.5),this.poki.happyTime(t)},Object.defineProperty(t.prototype,"poki",{get:function(){if(!window.PokiSDK)throw new Error("PokiSDK missing!");return window.PokiSDK},enumerable:!0,configurable:!0}),t}();e["a"]=new c},e5fe:function(t,e){},ebe2:function(t,e,n){"use strict";var i=n("5494");n.d(e,"AdState",function(){return i["a"]});var r=n("cfb6");n.o(r,"HintBilling")&&n.d(e,"HintBilling",function(){return r["HintBilling"]}),n.o(r,"HintType")&&n.d(e,"HintType",function(){return r["HintType"]}),n.o(r,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return r["TextTutorialId"]});var o=n("0745");n.o(o,"HintBilling")&&n.d(e,"HintBilling",function(){return o["HintBilling"]}),n.o(o,"HintType")&&n.d(e,"HintType",function(){return o["HintType"]}),n.o(o,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return o["TextTutorialId"]});var s=n("4a5e");n.o(s,"HintBilling")&&n.d(e,"HintBilling",function(){return s["HintBilling"]}),n.o(s,"HintType")&&n.d(e,"HintType",function(){return s["HintType"]}),n.o(s,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return s["TextTutorialId"]});var a=n("03b6");n.o(a,"HintBilling")&&n.d(e,"HintBilling",function(){return a["HintBilling"]}),n.o(a,"HintType")&&n.d(e,"HintType",function(){return a["HintType"]}),n.o(a,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return a["TextTutorialId"]});var u=n("ab1f");n.o(u,"HintBilling")&&n.d(e,"HintBilling",function(){return u["HintBilling"]}),n.o(u,"HintType")&&n.d(e,"HintType",function(){return u["HintType"]}),n.o(u,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return u["TextTutorialId"]});var c=n("2321");n.o(c,"HintBilling")&&n.d(e,"HintBilling",function(){return c["HintBilling"]}),n.o(c,"HintType")&&n.d(e,"HintType",function(){return c["HintType"]}),n.o(c,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return c["TextTutorialId"]});var l=n("6f84");n.o(l,"HintBilling")&&n.d(e,"HintBilling",function(){return l["HintBilling"]}),n.o(l,"HintType")&&n.d(e,"HintType",function(){return l["HintType"]}),n.o(l,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return l["TextTutorialId"]});var d=n("826a");n.d(e,"HintBilling",function(){return d["a"]}),n.d(e,"HintType",function(){return d["b"]});var h=n("4819");n.o(h,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return h["TextTutorialId"]});var f=n("d1f6");n.o(f,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return f["TextTutorialId"]});var p=n("a097");n.o(p,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return p["TextTutorialId"]});var m=n("5221");n.o(m,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return m["TextTutorialId"]});var g=n("33ff");n.o(g,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return g["TextTutorialId"]});var v=n("ff0e");n.o(v,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return v["TextTutorialId"]});var b=n("d74b");n.o(b,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return b["TextTutorialId"]});var y=n("f339");n.o(y,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return y["TextTutorialId"]});var E=n("fe31");n.o(E,"TextTutorialId")&&n.d(e,"TextTutorialId",function(){return E["TextTutorialId"]});var O=n("2149");n.d(e,"TextTutorialId",function(){return O["a"]});n("e5fe")},f2ce:function(t,e,n){"use strict";var i;n.d(e,"a",function(){return i}),function(t){t["MERGE"]="merge",t["LOCAL"]="local",t["REMOTE"]="remote"}(i||(i={}));i.MERGE},f339:function(t,e){},f75c:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var i=function(t){return t.reduce(function(t,e){return t[e]=!0,t},{})},r=function(t,e){return!t(e.id)&&e.parents.some(function(e){var n=e[0],i=e[1];return t(n)&&t(i)})},o=function(t,e,n){var i=[],o={};e.forEach(function(e){var n=t[e];n&&(i=i.concat(n.children))});var s=i.filter(function(e){return!(o.hasOwnProperty(e)||!t.hasOwnProperty(e))&&(o[e]=r(n,t[e]),o[e])});return s}},fd41:function(t,e,n){"use strict";var i=n("623d"),r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",o=function(t){return"static/icons/"+t+".svg"},s=function(t){return t===i["a"]?r:o(t)};e["a"]=s},fe31:function(t,e){},ff0e:function(t,e){}});
//# sourceMappingURL=app.2dd15728.js.map