var StringFilr;
(function(f){var g=function(){function b(a){if(!a)throw Error("No settings given to StringFilr.");if(!a.library)throw Error("No library given to StringFilr.");this.library=a.library;this.normal=a.normal;this.requireNormalKey=a.requireNormalKey;this.cache={};if(this.requireNormalKey){if("undefined"===typeof this.normal)throw Error("StringFilr is given requireNormalKey, but no normal class.");this.ensureLibraryNormal()}}b.prototype.getLibrary=function(){return this.library};b.prototype.getNormal=function(){return this.normal};
b.prototype.getCache=function(){return this.cache};b.prototype.getCached=function(a){return this.cache[a]};b.prototype.clearCache=function(){this.cache={}};b.prototype.clearCached=function(a){delete this.cache[a];this.normal&&delete this.cache[a.replace(this.normal,"")]};b.prototype.get=function(a){var c,b;c=this.normal?a.replace(this.normal,""):a;if(this.cache.hasOwnProperty(c))return this.cache[c];b=this.followClass(c.split(/\s+/g),this.library);return this.cache[c]=this.cache[a]=b};b.prototype.followClass=
function(a,c){var b,d;if(!a||!a.length)return c;for(d=0;d<a.length;d+=1)if(b=a[d],c.hasOwnProperty(b))return a.splice(d,1),this.followClass(a,c[b]);return this.normal&&c.hasOwnProperty(this.normal)?this.followClass(a,c[this.normal]):c};b.prototype.findLackingNormal=function(a,b,e){var d;a.hasOwnProperty(this.normal)||e.push(b);if("object"===typeof a[d])for(d in a)a.hasOwnProperty(d)&&this.findLackingNormal(a[d],b+" "+d,e);return e};b.prototype.ensureLibraryNormal=function(){var a=this.findLackingNormal(this.library,
"base",[]);if(a.length)throw Error("Found "+a.length+" library sub-directories missing the normal: \r\n  "+a.join("\r\n  "));};return b}();f.StringFilr=g})(StringFilr||(StringFilr={}));