var ModAttachr;
(function(f){var g=function(){function d(a){this.mods={};this.events={};a&&(this.scopeDefault=a.scopeDefault,a.ItemsHoldr?this.ItemsHolder=a.ItemsHoldr:a.storeLocally&&(this.ItemsHolder=new ItemsHoldr.ItemsHoldr),a.mods&&this.addMods.apply(this,a.mods))}d.prototype.getMods=function(){return this.mods};d.prototype.getMod=function(a){return this.mods[a]};d.prototype.getEvents=function(){return this.events};d.prototype.getEvent=function(a){return this.events[a]};d.prototype.getItemsHolder=function(){return this.ItemsHolder};
d.prototype.getScopeDefault=function(){return this.scopeDefault};d.prototype.addMod=function(a){var c=a.events,b;for(b in c)c.hasOwnProperty(b)&&(this.events.hasOwnProperty(b)?this.events[b].push(a):this.events[b]=[a]);a.scope=a.scope||this.scopeDefault;this.mods[a.name]=a;a.enabled&&a.events.hasOwnProperty("onModEnable")&&this.fireModEvent("onModEnable",a.name,arguments);if(this.ItemsHolder&&(this.ItemsHolder.addItem(a.name,{valueDefault:0,storeLocally:!0}),this.ItemsHolder.getItem(a.name)))return this.enableMod(a.name)};
d.prototype.addMods=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];var c=[],b;for(b=0;b<a.length;b+=1)c.push(this.addMod(a[b]));return c};d.prototype.enableMod=function(a){for(var c=[],b=1;b<arguments.length;b++)c[b-1]=arguments[b];b=this.mods[a];if(!b)throw Error("No mod of name: '"+a+"'");c=[].slice.call(c);c.unshift(b,a);b.enabled=!0;this.ItemsHolder&&this.ItemsHolder.setItem(a,!0);if(b.events.hasOwnProperty("onModEnable"))return this.fireModEvent("onModEnable",b.name,arguments)};
d.prototype.enableMods=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];var c=[],b;for(b=0;b<a.length;b+=1)c.push(this.enableMod(a[b]));return c};d.prototype.disableMod=function(a){var c=this.mods[a],b;if(!this.mods[a])throw Error("No mod of name: '"+a+"'");this.mods[a].enabled=!1;b=Array.prototype.slice.call(arguments);b[0]=c;this.ItemsHolder&&this.ItemsHolder.setItem(a,!1);if(c.events.hasOwnProperty("onModDisable"))return this.fireModEvent("onModDisable",c.name,b)};d.prototype.disableMods=
function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];var c=[],b;for(b=0;b<a.length;b+=1)c.push(this.disableMod(a[b]));return c};d.prototype.toggleMod=function(a){var c=this.mods[a];if(!c)throw Error("No mod found under "+a);return c.enabled?this.disableMod(a):this.enableMod(a)};d.prototype.toggleMods=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];var c=[],b;for(b=0;b<a.length;b+=1)c.push(this.toggleMod(a[b]));return c};d.prototype.fireEvent=function(a){for(var c=
[],b=1;b<arguments.length;b++)c[b-1]=arguments[b];var b=this.events[a],d,e;if(b)for(c=[].slice.call(c),c.unshift(void 0,a),e=0;e<b.length;e+=1)d=b[e],d.enabled&&(c[0]=d,d.events[a].apply(d.scope,c))};d.prototype.fireModEvent=function(a,c){for(var b=[],d=2;d<arguments.length;d++)b[d-2]=arguments[d];var d=this.mods[c],e;if(!d)throw Error("Unknown mod requested: '"+c+"'");b=[].slice.call(b);b.unshift(d,a);e=d.events[a];if(!e)throw Error("Mod does not contain event: '"+a+"'");return e.apply(d.scope,b)};
return d}();f.ModAttachr=g})(ModAttachr||(ModAttachr={}));