var ObjectMakr;
(function(g){var h=function(){function f(a){if("undefined"===typeof a)throw Error("No settings object given to ObjectMakr.");if("undefined"===typeof a.inheritance)throw Error("No inheritance given to ObjectMakr.");this.inheritance=a.inheritance;this.properties=a.properties||{};this.doPropertiesFull=a.doPropertiesFull;this.indexMap=a.indexMap;this.onMake=a.onMake;this.functions={};this.doPropertiesFull&&(this.propertiesFull={});this.indexMap&&this.processProperties(this.properties);this.processFunctions(this.inheritance,
Object,"Object")}f.prototype.getInheritance=function(){return this.inheritance};f.prototype.getProperties=function(){return this.properties};f.prototype.getPropertiesOf=function(a){return this.properties[a]};f.prototype.getFullProperties=function(){return this.propertiesFull};f.prototype.getFullPropertiesOf=function(a){return this.doPropertiesFull?this.propertiesFull[a]:void 0};f.prototype.getFunctions=function(){return this.functions};f.prototype.getFunction=function(a){return this.functions[a]};
f.prototype.hasFunction=function(a){return this.functions.hasOwnProperty(a)};f.prototype.getIndexMap=function(){return this.indexMap};f.prototype.make=function(a,e){var c;if(!this.functions.hasOwnProperty(a))throw Error("Unknown type given to ObjectMakr: "+a);c=new this.functions[a];e&&this.proliferate(c,e);if(this.onMake&&c[this.onMake])c[this.onMake](c,a,e,(this.doPropertiesFull?this.propertiesFull:this.properties)[a]);return c};f.prototype.processProperties=function(a){for(var e in a)a.hasOwnProperty(e)&&
a[e]instanceof Array&&(a[e]=this.processPropertyArray(a[e]))};f.prototype.processPropertyArray=function(a){var e={},c;for(c=a.length-1;0<=c;--c)e[this.indexMap[c]]=a[c];return e};f.prototype.processFunctions=function(a,e,c){var b,d;for(b in a)if(a.hasOwnProperty(b)){this.functions[b]=new Function;this.functions[b].prototype=new e;this.functions[b].prototype.constructor=this.functions[b];for(d in this.properties[b])this.properties[b].hasOwnProperty(d)&&(this.functions[b].prototype[d]=this.properties[b][d]);
if(this.doPropertiesFull){this.propertiesFull[b]={};if(c)for(d in this.propertiesFull[c])this.propertiesFull[c].hasOwnProperty(d)&&(this.propertiesFull[b][d]=this.propertiesFull[c][d]);for(d in this.properties[b])this.properties[b].hasOwnProperty(d)&&(this.propertiesFull[b][d]=this.properties[b][d])}this.processFunctions(a[b],this.functions[b],b)}};f.prototype.proliferate=function(a,e,c){var b,d;for(d in e)c&&a.hasOwnProperty(d)||(b=e[d],"object"===typeof b?(a.hasOwnProperty(d)||(a[d]=new b.constructor),
this.proliferate(a[d],b,c)):a[d]=b);return a};return f}();g.ObjectMakr=h})(ObjectMakr||(ObjectMakr={}));