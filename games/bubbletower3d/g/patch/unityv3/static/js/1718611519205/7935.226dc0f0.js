"use strict";(self.webpackChunkcrazygames_gameframe=self.webpackChunkcrazygames_gameframe||[]).push([[7935],{86604:(e,t,s)=>{s.d(t,{Z:()=>c});s(47313);var a=s(9172),r=s(99187),i=s(46604),n=s(69121),o=s(40889),d=s(46417);const c=e=>{let{warning:t,close:s,showCrazyLogo:c=!0}=e;const{countryCode:h}=(0,n.bG)(),l=(0,n.I)(h)&&i.Z.isEmbeddedExternally();return(0,d.jsxs)(r.Z,{showCrazyLogo:c,showGDPRNotice:l,children:[(0,d.jsx)(a.Z,{close:s,warning:t}),(0,d.jsx)(o.Z,{hasFooter:!1,disableMove:!0})]})}},95681:(e,t,s)=>{s.d(t,{Z:()=>d});var a=s(22870),r=s(20505);const i=class{constructor(){this.loadStartedSent=void 0,this.firstQuarterSent=void 0,this.secondQuarterSent=void 0,this.thirdQuarterSent=void 0,this.ninetyPercentSent=void 0,this.loadFinishedSent=void 0,this.ga=void 0,this.ga=r.Z.Instance,this.loadStartedSent=!1,this.firstQuarterSent=!1,this.secondQuarterSent=!1,this.thirdQuarterSent=!1,this.ninetyPercentSent=!1,this.loadFinishedSent=!1}trackLoadStarted(){this.loadStartedSent?a.kg.warn("trackLoadStarted called multiple times"):(this.loadStartedSent=!0,this.ga.trackLoadStarted())}trackProgress(e){!this.firstQuarterSent&&e>=.25&&(this.ga.trackFirstQuarterLoaded(),this.firstQuarterSent=!0),!this.secondQuarterSent&&e>=.5&&(this.ga.trackSecondQuarterLoaded(),this.secondQuarterSent=!0),!this.thirdQuarterSent&&e>=.75&&(this.ga.trackThirdQuarterLoaded(),this.thirdQuarterSent=!0),!this.ninetyPercentSent&&e>=.9&&(this.ga.trackNinetyPercentLoaded(),this.ninetyPercentSent=!0)}trackLoadFinished(){this.loadStartedSent?this.loadFinishedSent?a.kg.warn("trackLoadFinished called multiple times"):(this.loadFinishedSent=!0,this.ga.trackLoadFinished()):a.kg.warn("trackLoadFinished called before trackLoadStart was called")}};var n=s(96607),o=s(82838);const d=class{constructor(){this.lastReportedProgress=void 0,this.currentProgress=0,this.tracker=void 0,this.tracker=new i}reset(){this.lastReportedProgress=void 0,this.currentProgress=0,this.tracker=new i}trackLoadStarted(){n.Z.trackProgress(0),this.lastReportedProgress=0,n.Z.gameStartLoad(),(0,o.hO)("gameLoadStart"),this.tracker.trackLoadStarted()}trackProgress(e){if(e<=this.currentProgress)return this.currentProgress;this.currentProgress=e,this.tracker.trackProgress(e);const t=Math.floor(10*e)/10;return 1!==t&&(!this.lastReportedProgress||e>this.lastReportedProgress+.1)&&(n.Z.trackProgress(t),this.lastReportedProgress=e),e}trackLoadFinished(){1!==this.lastReportedProgress&&(this.lastReportedProgress=1,this.tracker.trackLoadFinished(),n.Z.trackProgress(1),n.Z.loadFinished())}}},67935:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(47313),r=s(90831),i=s(23004),n=s(22870),o=s(48300),d=s(73411),c=s(86604),h=s(95681),l=s(23236),g=s(25831),u=s(71534),m=s(20503),p=s(96607),y=s(87308),S=s(46417);class v extends a.Component{constructor(e){super(e),this.config=void 0,this.options=void 0,this.progressTracker=void 0,this.canvas=void 0,this.processMessage=e=>{const{type:t}=e.data;t===m.p&&this.canvas&&(0,m.a)(this.canvas)},this.onFullscreenClose=async()=>{await this.props.requestFullscreen(),this.setState({state:"loaded"}),this.props.onLoadFinished()},this.startLoading=async()=>{this.setState({state:"loading"}),this.progressTracker.trackLoadStarted(),await this.load()},this.loadHasFinished=()=>{const e=(0,y.uo)();this.progressTracker.trackLoadFinished(),p.Z.sendDelayedMemoryUsage(),"REQUIRED"!==this.config.fullscreen||e||this.props.isFullscreen?(this.setState({state:"loaded"}),this.props.onLoadFinished()):this.setState({state:"fullscreen"})},this.state={error:null,state:"checking"},this.config=(0,r.NI)(),this.options=this.config.loaderOptions,this.progressTracker=new h.Z,this.canvas=null}async componentDidMount(){const e=await this.hasLoaderError();e?this.setState({error:e,state:"error"}):(await this.startLoading(),window.addEventListener("message",this.processMessage))}async componentWillUnmount(){window.removeEventListener("message",this.processMessage)}render(){const{state:e}=this.state;switch(e){case"checking":return this.renderChecking();case"error":return this.renderError();case"loading":return this.renderLoading();case"fullscreen":return this.renderFullscreenOverlay();case"loaded":return this.renderLoaded();default:throw new Error(`[Unity54Loader] unexpected state ${e}`)}}renderChecking(){return(0,S.jsx)(d.Z,{showProgress:!1})}renderError(){const{error:e}=this.state;return e?(0,S.jsx)(c.Z,{warning:e}):null}renderFullscreenOverlay(){return(0,S.jsx)(c.Z,{warning:"force-fullscreen",close:this.onFullscreenClose})}renderLoading(){return(0,S.jsx)(d.Z,{showProgress:!1})}renderLoaded(){return null}async load(){let e=0;const t=window;t.Module=Object.assign({},this.options.module,{errorhandler:e=>!0,compatibilitycheck:void 0});const s=this.loadHasFinished;t.UnityProgress=function(){this.SetProgress=t=>{e=t},this.SetMessage=function(t){(!t||0===t.length&&e>0)&&s(),n.kg.debug("[5_4_X] message: %s",t)},this.Clear=()=>{n.kg.debug("[5_4_X] clear")}};const a=(0,i.$7)();return this.canvas=document.createElement("canvas"),this.canvas.className="emscripten",this.canvas.id="canvas",this.canvas.oncontextmenu=e=>{e.preventDefault()},this.canvas.width=a.offsetWidth,this.canvas.height=a.offsetHeight,a.appendChild(this.canvas),(0,o.ve)(this.options.unityLoaderUrl)}hasLoaderError(){return(0,l.H)()?null:"unity-unavailable"}}const f=(0,g.Z)((0,u.T)(v))},23236:(e,t,s)=>{s.d(t,{H:()=>i,W:()=>r});var a=s(87308);function r(){if((0,a.w1)())return!1;try{const e=document.createElement("canvas");return"WebGLRenderingContext"in window&&!!e.getContext("webgl2")}catch(e){return!1}}function i(){if((0,a.w1)())return!1;try{const e=document.createElement("canvas");return"WebGLRenderingContext"in window&&(!!e.getContext("webgl")||!!e.getContext("experimental-webgl"))}catch(e){return!1}}},73411:(e,t,s)=>{s.d(t,{Z:()=>P});var a=s(7136),r=(s(47313),s(90831)),i=s(42379),n=s(30686),o=s(32606);const d=(0,i.ZP)("div")((e=>{let{theme:t}=e;return{fontSize:"14px",color:"#FFFFFF",display:"flex",gap:t.spacing(.5),height:40}})),c=(0,i.ZP)("div")({fontWeight:700}),h=(0,i.ZP)("div")({fontWeight:400}),l=(0,i.ZP)("div")({height:12,borderRadius:6,backgroundColor:"black",position:"relative"}),g=(0,i.ZP)("div",{shouldForwardProp:e=>"percentage"!==e})((e=>{let{percentage:t}=e;return{position:"absolute",backgroundColor:o.D.brand[100],left:0,top:0,bottom:0,borderRadius:6,width:100*t+"%"}})),u=n.F4`
  0% { width: 5%; }
  100% { width: 100%; }
`,m=(0,i.ZP)("div")({backgroundColor:"#ffffff",position:"absolute",borderRadius:6,top:0,height:"100%",left:0,right:0,opacity:.3,animation:`${u} 1s infinite`}),p=n.F4`
  0% {
    left:0%;
    right:100%;
    width:0%;
  }
  10% {
    left:0%;
    right:75%;
    width:25%;
  }
  90% {
    right:0%;
    left:75%;
    width:25%;
  }
  100% {
    left:100%;
    right:0%;
    width:0%;
  }
`,y=(0,i.ZP)("div")({position:"absolute",backgroundColor:o.D.brand[100],borderRadius:6,top:0,right:"100%",bottom:0,left:0,width:0,animation:`${p} 2s linear infinite`}),S=n.F4`
  0% {
    opacity:0;
  }
  17% {
    opacity:1;
  }
  83% {
   opacity:1;
  }
  100% {
    opacity: 0;
  }
`,v=n.F4`
  0% {
    opacity:0;
  }
  100% {
    opacity:1;
  }
`,f=(0,i.ZP)("div")({"& div":{position:"absolute",left:"50%",transform:"translate(-50%)",opacity:0,animation:`${S} 3s linear 1`},"& .msg0":{animation:`${S} 3s linear 1`},"& .msg1":{animationDelay:"3s"},"& .msg2":{animationDelay:"6s"},"& .msg3":{animationDelay:"9s"},"& .msg4":{animationDelay:"12s"},"& .msg5":{animationDelay:"15s"},"& .msg6":{animationDelay:"18s"},"& .msg7":{animationDelay:"21s"},"& .msg8":{animationDelay:"24s"},"& .msg9":{animationDelay:"27s"},"& .msg10":{animationDelay:"30s"},"& .msg11":{animationDelay:"33s"},"& .msg12":{animationDelay:"36s"},"& .msg13":{animationDelay:"39s"},"& .msg14":{animationDelay:"42s"},"& .msg15":{animationDelay:"45s"},"& .msg16":{animationDelay:"48s"},"& .msg17":{animationDelay:"51s"},"& .msg18":{animationDelay:"54s"},"& .msg19":{animationDelay:"57s"},"& .msg20":{animationDelay:"60s"},"& .msg21":{animationDelay:"63s"},"& .msg22":{animationDelay:"66s"},"& .msg23":{animation:`${v} 2s linear 1`,animationDelay:"69s",animationFillMode:"forwards"}});var k=s(46417);const w=()=>{const e=[a.ag._("loadingBarScreen.message1"),a.ag._("loadingBarScreen.message2"),a.ag._("loadingBarScreen.message3"),a.ag._("loadingBarScreen.message4"),a.ag._("loadingBarScreen.message5"),a.ag._("loadingBarScreen.message6"),a.ag._("loadingBarScreen.message7"),a.ag._("loadingBarScreen.message8")],t=[...e,...e,...e];return(0,k.jsx)(f,{children:t.map(((e,t)=>(0,k.jsx)("div",{className:`msg${t}`,children:e},t)))})};var x=s(93458);const P=e=>{let{progress:t,showProgress:s}=e;const i=(0,r.NI)(),n=t<=.95,u=s&&!n||!s;return(0,k.jsx)("div",{style:{position:"fixed",inset:0,zIndex:2,background:o.D.black[90]},children:(0,k.jsx)(x.Z,{children:s?(()=>{const e=i.totalSizeBytes?Math.round(1e-6*i.totalSizeBytes):null;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(l,{sx:{width:"80%"},children:(0,k.jsx)(g,{percentage:t,children:(0,k.jsx)(m,{})})}),(0,k.jsxs)(d,{children:[(0,k.jsx)(c,{children:n?`${Math.round(100*t)}%`:u?(0,k.jsx)(w,{}):a.ag._("loadingBarScreen.message1")}),n&&e&&(0,k.jsxs)(h,{children:["(",Math.round(t*e)," / ",e," MB)"]})]})]})})():(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(l,{sx:{width:"80%"},children:(0,k.jsx)(y,{})}),(0,k.jsx)(c,{children:u?(0,k.jsx)(w,{}):a.ag._("loadingBarScreen.message1")})]})})})}}}]);